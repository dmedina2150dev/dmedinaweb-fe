"use strict";var WC=Object.defineProperty,qC=Object.defineProperties,KC=Object.getOwnPropertyDescriptors,zb=Object.getOwnPropertySymbols,YC=Object.prototype.hasOwnProperty,ZC=Object.prototype.propertyIsEnumerable,Wb=(Dt,Me,L)=>Me in Dt?WC(Dt,Me,{enumerable:!0,configurable:!0,writable:!0,value:L}):Dt[Me]=L,qb=(Dt,Me)=>{for(var L in Me||(Me={}))YC.call(Me,L)&&Wb(Dt,L,Me[L]);if(zb)for(var L of zb(Me))ZC.call(Me,L)&&Wb(Dt,L,Me[L]);return Dt},Kb=(Dt,Me)=>qC(Dt,KC(Me));(self.webpackChunkdmedinaweb_fe=self.webpackChunkdmedinaweb_fe||[]).push([[179],{3692:(Dt,Me,L)=>{L.d(Me,{Ot:()=>ye,ZF:()=>We,hX:()=>qe,z6:()=>G});var x=L(5867),F=L(1223),oe=L(8321);class ye{constructor(je){return je}}class G{constructor(){return(0,x.C6)()}}const Ze=new F.OlP("angularfire2._apps"),Ne={provide:ye,useFactory:function Oe(De){return De&&1===De.length?De[0]:new ye((0,x.Mq)())},deps:[[new F.FiY,Ze]]},X={provide:G,deps:[[new F.FiY,Ze]]};function Z(De){return(je,ze)=>{const Fe=je.runOutsideAngular(()=>De(ze));return new ye(Fe)}}let xe=(()=>{class De{constructor(ze){(0,x.KN)("angularfire",oe.q4.full,"core"),(0,x.KN)("angularfire",oe.q4.full,"app"),(0,x.KN)("angular",F.q4F.full,ze.toString())}}return De.\u0275fac=function(ze){return new(ze||De)(F.LFG(F.Lbi))},De.\u0275mod=F.oAB({type:De}),De.\u0275inj=F.cJS({providers:[Ne,X]}),De})();function qe(De,...je){return{ngModule:xe,providers:[{provide:Ze,useFactory:Z(De),multi:!0,deps:[F.R0b,F.zs3,oe.HU,...je]}]}}const We=(0,oe.u3)(x.ZF,!0)},2875:(Dt,Me,L)=>{L.d(Me,{gg:()=>eE,hJ:()=>HC,BS:()=>$C,ad:()=>GC,Cm:()=>jC});var x=L(8321),F=L(1223),oe=L(3692),ye=L(5867),G=L(5861),Ce=L(2090),Oe=L(9681),Ze=L(655),Ne=L(1877),X=L(4859);const wt=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ht=new Ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new Ne.Yd("@firebase/auth");function ze(n,...e){je.logLevel<=Ne.in.ERROR&&je.error(`Auth (${Oe.Jn}): ${n}`,...e)}function Fe(n,...e){throw ie(n,...e)}function Et(n,...e){return ie(n,...e)}function ue(n,e,t){const s=Object.assign(Object.assign({},wt()),{[e]:t});return new Ce.LL("auth","Firebase",s).create(e,{appName:n.name})}function ie(n,...e){if("string"!=typeof n){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return Ht.create(n,...e)}function W(n,e,...t){if(!n)throw ie(e,...t)}function le(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ze(e),new Error(e)}function ge(n,e){n||le(e)}const de=new Map;function Ge(n){ge(n instanceof Function,"Expected a class definition");let e=de.get(n);return e?(ge(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,de.set(n,e),e)}function sn(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class An{constructor(e,t){this.shortDelay=e,this.longDelay=t,ge(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,Ce.uI)()||(0,Ce.b$)()}get(){return function wn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Qe(){return"http:"===sn()||"https:"===sn()}()||(0,Ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class Ln{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Nn=new An(3e4,6e4);function en(n,e,t,s){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,G.Z)(function*(n,e,t,s,a={}){return bi(n,a,(0,G.Z)(function*(){let c={},h={};s&&("GET"===e?h=s:c={body:JSON.stringify(s)});const g=(0,Ce.xO)(Object.assign({key:n.config.apiKey},h)).slice(1),E=yield n._getAdditionalHeaders();return E["Content-Type"]="application/json",n.languageCode&&(E["X-Firebase-Locale"]=n.languageCode),Ln.fetch()(fr(n,n.config.apiHost,t,g),Object.assign({method:e,headers:E,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function bi(n,e,t){return En.apply(this,arguments)}function En(){return(En=(0,G.Z)(function*(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},kn),e);try{const a=new Tn(n),c=yield Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=yield c.json();if("needConfirmation"in h)throw Gt(n,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const g=c.ok?h.errorMessage:h.error.message,[E,A]=g.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===E)throw Gt(n,"credential-already-in-use",h);if("EMAIL_EXISTS"===E)throw Gt(n,"email-already-in-use",h);if("USER_DISABLED"===E)throw Gt(n,"user-disabled",h);const O=s[E]||E.toLowerCase().replace(/[_\s]+/g,"-");if(A)throw ue(n,O,A);Fe(n,O)}}catch(a){if(a instanceof Ce.ZR)throw a;Fe(n,"network-request-failed")}})).apply(this,arguments)}function fr(n,e,t,s){const a=`${e}${t}?${s}`;return n.config.emulator?function jn(n,e){ge(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,a):`${n.config.apiScheme}://${a}`}class Tn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Et(this.auth,"network-request-failed")),Nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gt(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Et(n,e,s);return a.customData._tokenResponse=t,a}function Kn(){return(Kn=(0,G.Z)(function*(n,e){return en(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function ne(n,e){return J.apply(this,arguments)}function J(){return(J=(0,G.Z)(function*(n,e){return en(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function fe(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Ke(){return(Ke=(0,G.Z)(function*(n,e=!1){const t=(0,Ce.m9)(n),s=yield t.getIdToken(e),a=xt(s);W(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const c="object"==typeof a.firebase?a.firebase:void 0,h=null==c?void 0:c.sign_in_provider;return{claims:a,token:s,authTime:fe(tn(a.auth_time)),issuedAtTime:fe(tn(a.iat)),expirationTime:fe(tn(a.exp)),signInProvider:h||null,signInSecondFactor:(null==c?void 0:c.sign_in_second_factor)||null}})).apply(this,arguments)}function tn(n){return 1e3*Number(n)}function xt(n){var e;const[t,s,a]=n.split(".");if(void 0===t||void 0===s||void 0===a)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const c=(0,Ce.tV)(s);return c?JSON.parse(c):(ze("Failed to decode base64 JWT payload"),null)}catch(c){return ze("Caught error parsing JWT payload as JSON",null===(e=c)||void 0===e?void 0:e.toString()),null}}function Yt(n,e){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,G.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(s){throw s instanceof Ce.ZR&&ir(s)&&n.auth.currentUser===n&&(yield n.auth.signOut()),s}})).apply(this,arguments)}function ir({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class ht{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),s}{this.errorBackoff=3e4;const a=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout((0,G.Z)(function*(){yield t.iteration()}),s)}iteration(){var e=this;return(0,G.Z)(function*(){var t;try{yield e.user.getIdToken(!0)}catch(s){return void("auth/network-request-failed"===(null===(t=s)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class te{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fe(this.lastLoginAt),this.creationTime=fe(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function V(n){return ae.apply(this,arguments)}function ae(){return(ae=(0,G.Z)(function*(n){var e;const t=n.auth,s=yield n.getIdToken(),a=yield Yt(n,ne(t,{idToken:s}));W(null==a?void 0:a.users.length,t,"internal-error");const c=a.users[0];n._notifyReloadListener(c);const h=(null===(e=c.providerUserInfo)||void 0===e?void 0:e.length)?nt(c.providerUserInfo):[],g=Ae(n.providerData,h),O=!!n.isAnonymous&&!(n.email&&c.passwordHash||(null==g?void 0:g.length)),z={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new te(c.createdAt,c.lastLoginAt),isAnonymous:O};Object.assign(n,z)})).apply(this,arguments)}function j(){return(j=(0,G.Z)(function*(n){const e=(0,Ce.m9)(n);yield V(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Ae(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function nt(n){return n.map(e=>{var{providerId:t}=e,s=(0,Ze._T)(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}function ct(){return(ct=(0,G.Z)(function*(n,e){const t=yield bi(n,{},(0,G.Z)(function*(){const s=(0,Ce.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=n.config,h=fr(n,a,"/v1/token",`key=${c}`),g=yield n._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Ln.fetch()(h,{method:"POST",headers:g,body:s})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(void 0!==e.idToken,"internal-error"),W(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function jt(n){const e=xt(n);return W(e,"internal-error"),W(void 0!==e.exp,"internal-error"),W(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var s=this;return(0,G.Z)(function*(){return W(!s.accessToken||s.refreshToken,e,"user-token-expired"),t||!s.accessToken||s.isExpired?s.refreshToken?(yield s.refresh(e,s.refreshToken),s.accessToken):null:s.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var s=this;return(0,G.Z)(function*(){const{accessToken:a,refreshToken:c,expiresIn:h}=yield function vt(n,e){return ct.apply(this,arguments)}(e,t);s.updateTokensAndExpiration(a,c,Number(h))})()}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*s}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:c}=t,h=new Ot;return s&&(W("string"==typeof s,"internal-error",{appName:e}),h.refreshToken=s),a&&(W("string"==typeof a,"internal-error",{appName:e}),h.accessToken=a),c&&(W("number"==typeof c,"internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ot,this.toJSON())}_performRefresh(){return le("not implemented")}}function un(n,e){W("string"==typeof n||void 0===n,"internal-error",{appName:e})}class zt{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,c=(0,Ze._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ht(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new te(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,G.Z)(function*(){const s=yield Yt(t,t.stsTokenManager.getToken(t.auth,e));return W(s,t.auth,"internal-error"),t.accessToken!==s&&(t.accessToken=s,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),s})()}getIdTokenResult(e){return function Ue(n){return Ke.apply(this,arguments)}(this,e)}reload(){return function re(n){return j.apply(this,arguments)}(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new zt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var s=this;return(0,G.Z)(function*(){let a=!1;e.idToken&&e.idToken!==s.stsTokenManager.accessToken&&(s.stsTokenManager.updateFromServerResponse(e),a=!0),t&&(yield V(s)),yield s.auth._persistUserIfCurrent(s),a&&s.auth._notifyListenersIfCurrent(s)})()}delete(){var e=this;return(0,G.Z)(function*(){const t=yield e.getIdToken();return yield Yt(e,function On(n,e){return Kn.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,c,h,g,E,A,O;const z=null!==(s=t.displayName)&&void 0!==s?s:void 0,he=null!==(a=t.email)&&void 0!==a?a:void 0,Te=null!==(c=t.phoneNumber)&&void 0!==c?c:void 0,He=null!==(h=t.photoURL)&&void 0!==h?h:void 0,gt=null!==(g=t.tenantId)&&void 0!==g?g:void 0,St=null!==(E=t._redirectEventId)&&void 0!==E?E:void 0,Rn=null!==(A=t.createdAt)&&void 0!==A?A:void 0,nr=null!==(O=t.lastLoginAt)&&void 0!==O?O:void 0,{uid:rr,emailVerified:mi,isAnonymous:Ur,providerData:hr,stsTokenManager:Bi}=t;W(rr&&Bi,e,"internal-error");const Eh=Ot.fromJSON(this.name,Bi);W("string"==typeof rr,e,"internal-error"),un(z,e.name),un(he,e.name),W("boolean"==typeof mi,e,"internal-error"),W("boolean"==typeof Ur,e,"internal-error"),un(Te,e.name),un(He,e.name),un(gt,e.name),un(St,e.name),un(Rn,e.name),un(nr,e.name);const sT=new zt({uid:rr,auth:e,email:he,emailVerified:mi,displayName:z,isAnonymous:Ur,photoURL:He,phoneNumber:Te,tenantId:gt,stsTokenManager:Eh,createdAt:Rn,lastLoginAt:nr});return hr&&Array.isArray(hr)&&(sT.providerData=hr.map(zC=>Object.assign({},zC))),St&&(sT._redirectEventId=St),sT}static _fromIdTokenResponse(e,t,s=!1){return(0,G.Z)(function*(){const a=new Ot;a.updateFromServerResponse(t);const c=new zt({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return yield V(c),c})()}}const Ir=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,G.Z)(function*(){return!0})()}_set(t,s){var a=this;return(0,G.Z)(function*(){a.storage[t]=s})()}_get(t){var s=this;return(0,G.Z)(function*(){const a=s.storage[t];return void 0===a?null:a})()}_remove(t){var s=this;return(0,G.Z)(function*(){delete s.storage[t]})()}_addListener(t,s){}_removeListener(t,s){}}return n.type="NONE",n})();function fn(n,e,t){return`firebase:${n}:${e}:${t}`}class Un{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:c}=this.auth;this.fullUserKey=fn(this.userKey,a.apiKey,c),this.fullPersistenceKey=fn("persistence",a.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,G.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?zt._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,G.Z)(function*(){if(t.persistence===e)return;const s=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,s?t.setCurrentUser(s):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,s="authUser"){return(0,G.Z)(function*(){if(!t.length)return new Un(Ge(Ir),e,s);const a=(yield Promise.all(t.map(function(){var A=(0,G.Z)(function*(O){if(yield O._isAvailable())return O});return function(O){return A.apply(this,arguments)}}()))).filter(A=>A);let c=a[0]||Ge(Ir);const h=fn(s,e.config.apiKey,e.name);let g=null;for(const A of t)try{const O=yield A._get(h);if(O){const z=zt._fromJSON(e,O);A!==c&&(g=z),c=A;break}}catch(O){}const E=a.filter(A=>A._shouldAllowMigration);return c._shouldAllowMigration&&E.length?(c=E[0],g&&(yield c._set(h,g.toJSON())),yield Promise.all(t.map(function(){var A=(0,G.Z)(function*(O){if(O!==c)try{yield O._remove(h)}catch(z){}});return function(O){return A.apply(this,arguments)}}())),new Un(c,e,s)):new Un(c,e,s)})()}}function ji(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function yi(n=(0,Ce.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function Vs(n=(0,Ce.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function Co(n=(0,Ce.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function $i(n=(0,Ce.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Ci(n=(0,Ce.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function os(n=(0,Ce.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function ii(n=(0,Ce.z$)()){return/android/i.test(n)}(e))return"Android";{const s=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==s?void 0:s.length))return s[1]}return"Other"}function $(n,e=[]){let t;switch(n){case"Browser":t=ji((0,Ce.z$)());break;case"Worker":t=`${ji((0,Ce.z$)())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Oe.Jn}/${s}`}class pe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((h,g)=>{try{h(e(c))}catch(E){g(E)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,G.Z)(function*(){var s;if(t.auth.currentUser===e)return;const a=[];try{for(const c of t.queue)yield c(e),c.onAbort&&a.push(c.onAbort)}catch(c){a.reverse();for(const h of a)try{h()}catch(g){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(s=c)||void 0===s?void 0:s.message})}})()}}class Pe{constructor(e,t,s){this.app=e,this.heartbeatServiceProvider=t,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wt(this),this.idTokenSubscription=new Wt(this),this.beforeStateQueue=new pe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ht,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){var s=this;return t&&(this._popupRedirectResolver=Ge(t)),this._initializationPromise=this.queue((0,G.Z)(function*(){var a,c;if(!s._deleted&&(s.persistenceManager=yield Un.create(s,e),!s._deleted)){if(null===(a=s._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)try{yield s._popupRedirectResolver._initialize(s)}catch(h){}yield s.initializeCurrentUser(t),s.lastNotifiedUid=(null===(c=s.currentUser)||void 0===c?void 0:c.uid)||null,!s._deleted&&(s._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,G.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,G.Z)(function*(){var s;const a=yield t.assertedPersistence.getCurrentUser();let c=a,h=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const g=null===(s=t.redirectUser)||void 0===s?void 0:s._redirectEventId,E=null==c?void 0:c._redirectEventId,A=yield t.tryRedirectSignIn(e);(!g||g===E)&&(null==A?void 0:A.user)&&(c=A.user,h=!0)}if(!c)return t.directlySetCurrentUser(null);if(!c._redirectEventId){if(h)try{yield t.beforeStateQueue.runMiddleware(c)}catch(g){c=a,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(g))}return c?t.reloadAndSetCurrentUserOrClear(c):t.directlySetCurrentUser(null)}return W(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===c._redirectEventId?t.directlySetCurrentUser(c):t.reloadAndSetCurrentUserOrClear(c)})()}tryRedirectSignIn(e){var t=this;return(0,G.Z)(function*(){let s=null;try{s=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(a){yield t._setRedirectUser(null)}return s})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,G.Z)(function*(){var s;try{yield V(e)}catch(a){if("auth/network-request-failed"!==(null===(s=a)||void 0===s?void 0:s.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function yn(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,G.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,G.Z)(function*(){const s=e?(0,Ce.m9)(e):null;return s&&W(s.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(s&&s._clone(t))})()}_updateCurrentUser(e,t=!1){var s=this;return(0,G.Z)(function*(){if(!s._deleted)return e&&W(s.tenantId===e.tenantId,s,"tenant-id-mismatch"),t||(yield s.beforeStateQueue.runMiddleware(e)),s.queue((0,G.Z)(function*(){yield s.directlySetCurrentUser(e),s.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,G.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,G.Z)(function*(){yield t.assertedPersistence.setPersistence(Ge(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ce.LL("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var s=this;return(0,G.Z)(function*(){const a=yield s.getOrInitRedirectPersistenceManager(t);return null===e?a.removeCurrentUser():a.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,G.Z)(function*(){if(!t.redirectPersistenceManager){const s=e&&Ge(e)||t._popupRedirectResolver;W(s,t,"argument-error"),t.redirectPersistenceManager=yield Un.create(t,[Ge(s._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,G.Z)(function*(){var s,a;return t._isInitialized&&(yield t.queue((0,G.Z)(function*(){}))),(null===(s=t._currentUser)||void 0===s?void 0:s._redirectEventId)===e?t._currentUser:(null===(a=t.redirectUser)||void 0===a?void 0:a._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,G.Z)(function*(){if(e===t.currentUser)return t.queue((0,G.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const c="function"==typeof t?t:t.next.bind(t),h=this._isInitialized?Promise.resolve():this._initializationPromise;return W(h,this,"internal-error"),h.then(()=>c(this.currentUser)),"function"==typeof t?e.addObserver(t,s,a):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,G.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,G.Z)(function*(){var t;const s={"X-Client-Version":e.clientVersion};e.app.options.appId&&(s["X-Firebase-gmpid"]=e.app.options.appId);const a=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return a&&(s["X-Firebase-Client"]=a),s})()}}class Wt{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,Ce.ne)(t=>this.observer=t)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Lt(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new An(3e4,6e4),new An(2e3,1e4),new An(3e4,6e4),new An(5e3,15e3);var ov="@firebase/auth";class dT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,G.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{var a;e((null===(a=s)||void 0===a?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function fT(n){(0,Oe.Xd)(new X.wA("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),{apiKey:c,authDomain:h}=s.options;return((g,E)=>{W(c&&!c.includes(":"),"invalid-api-key",{appName:g.name}),W(!(null==h?void 0:h.includes(":")),"argument-error",{appName:g.name});const A={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$(n)},O=new Pe(g,E,A);return function Xt(n,e){const t=(null==e?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Ge);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,null==e?void 0:e.popupRedirectResolver)}(O,t),O})(s,a)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),(0,Oe.Xd)(new X.wA("auth-internal",e=>{const t=function lt(n){return(0,Ce.m9)(n)}(e.getProvider("auth").getImmediate());return new dT(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Oe.KN)(ov,"0.20.4",function hT(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Oe.KN)(ov,"0.20.4","esm2017")}("Browser");class av{constructor(){return(0,x.vb)("auth")}}const yv=new Map,bE={activated:!1,tokenObservers:[]},$h={initialized:!1,enabled:!1};function Qr(n){return yv.get(n)||bE}function Zs(n,e){yv.set(n,e)}function Hh(){return $h}class xE{constructor(e,t,s,a,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,G.Z)(function*(){t.stop();try{t.pending=new Ce.BH,yield function ME(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ce.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Fi=new Ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xu(n){if(!Qr(n).activated)throw Fi.create("use-before-activation",{appName:n.name})}function wv(n,e){return zh.apply(this,arguments)}function zh(){return(zh=(0,G.Z)(function*({url:n,body:e},t){var s,a;const c={"Content-Type":"application/json"},h=t.getImmediate({optional:!0});if(h){const Te=yield h.getHeartbeatsHeader();Te&&(c["X-Firebase-Client"]=Te)}const g={method:"POST",body:JSON.stringify(e),headers:c};let E,A;try{E=yield fetch(n,g)}catch(Te){throw Fi.create("fetch-network-error",{originalErrorMessage:null===(s=Te)||void 0===s?void 0:s.message})}if(200!==E.status)throw Fi.create("fetch-status-error",{httpStatus:E.status});try{A=yield E.json()}catch(Te){throw Fi.create("fetch-parse-error",{originalErrorMessage:null===(a=Te)||void 0===a?void 0:a.message})}const O=A.ttl.match(/^([\d.]+)(s)$/);if(!O||!O[2]||isNaN(Number(O[1])))throw Fi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${A.ttl}`});const z=1e3*Number(O[1]),he=Date.now();return{token:A.token,expireTimeMillis:he+z,issuedAtTimeMillis:he}})).apply(this,arguments)}function ug(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Yc="firebase-app-check-store";let Jl=null;function lg(){return Jl||(Jl=new Promise((n,e)=>{var t;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=a=>{n(a.target.result)},s.onerror=a=>{var c;e(Fi.create("storage-open",{originalErrorMessage:null===(c=a.target.error)||void 0===c?void 0:c.message}))},s.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(Yc,{keyPath:"compositeKey"})}}catch(s){e(Fi.create("storage-open",{originalErrorMessage:null===(t=s)||void 0===t?void 0:t.message}))}}),Jl)}function Xl(){return(Xl=(0,G.Z)(function*(n,e){const s=(yield lg()).transaction(Yc,"readwrite"),c=s.objectStore(Yc).put({compositeKey:n,value:e});return new Promise((h,g)=>{c.onsuccess=E=>{h()},s.onerror=E=>{var A;g(Fi.create("storage-set",{originalErrorMessage:null===(A=E.target.error)||void 0===A?void 0:A.message}))}})})).apply(this,arguments)}const ed=new Ne.Yd("@firebase/app-check");function Iv(n,e){return(0,Ce.hl)()?function hg(n,e){return function Mu(n,e){return Xl.apply(this,arguments)}(function Wh(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ed.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function yg(){return Hh().enabled}function qh(){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,G.Z)(function*(){const n=Hh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const PE={error:"UNKNOWN_ERROR"};function FE(n){return Ce.US.encodeString(JSON.stringify(n),!1)}function td(n){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,G.Z)(function*(n,e=!1){const t=n.app;xu(t);const s=Qr(t);let c,a=s.token;if(!a){const E=yield s.cachedTokenPromise;E&&Qh(E)&&(a=E)}if(!e&&a&&Qh(a))return{token:a.token};let g,h=!1;if(yg()){s.exchangeTokenPromise||(s.exchangeTokenPromise=wv(ug(t,yield qh()),n.heartbeatServiceProvider).then(A=>(s.exchangeTokenPromise=void 0,A)),h=!0);const E=yield s.exchangeTokenPromise;return yield Iv(t,E),Zs(t,Object.assign(Object.assign({},s),{token:E})),{token:E.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(E=>(s.exchangeTokenPromise=void 0,E)),h=!0),a=yield s.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?ed.warn(E.message):ed.error(E),c=E}return a?(g={token:a.token},Zs(t,Object.assign(Object.assign({},s),{token:a})),yield Iv(t,a)):g=Dv(c),h&&nd(t,g),g})).apply(this,arguments)}function Zh(n,e){const t=Qr(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Zs(n,Object.assign(Object.assign({},t),{tokenObservers:s}))}function _g(n){const{app:e}=n,t=Qr(e);let s=t.tokenRefresher;s||(s=function LE(n){const{app:e}=n;return new xE((0,G.Z)(function*(){let s;if(s=Qr(e).token?yield td(n,!0):yield td(n),s.error)throw s.error}),()=>!0,()=>{const t=Qr(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),Zs(e,Object.assign(Object.assign({},t),{tokenRefresher:s}))),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function nd(n,e){const t=Qr(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function Qh(n){return n.expireTimeMillis-Date.now()>0}function Dv(n){return{token:FE(PE),error:n}}class Tv{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Qr(this.app);for(const t of e)Zh(this.app,t.next);return Promise.resolve()}}const kv="app-check-internal";!function zE(){(0,Oe.Xd)(new X.wA("app-check",n=>function bv(n,e){return new Tv(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kv).initialize()})),(0,Oe.Xd)(new X.wA(kv,n=>function wg(n){return{getToken:e=>td(n,e),addTokenListener:e=>function qo(n,e,t,s){const{app:a}=n,c=Qr(a),h={next:t,error:s,type:e};if(Zs(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,h]})),c.token&&Qh(c.token)){const g=c.token;Promise.resolve().then(()=>{t({token:g.token}),_g(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>_g(n))}(n,"INTERNAL",e),removeTokenListener:e=>Zh(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Oe.KN)("@firebase/app-check","0.5.10")}();class Ov{constructor(){return(0,x.vb)("app-check")}}"undefined"!=typeof window&&window;var It,jT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},mo={},Xc=Xc||{},$t=jT||self;function el(){}function rd(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ru(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Cg="closure_uid_"+(1e9*Math.random()>>>0),ZE=0;function QE(n,e,t){return n.call.apply(n.bind,arguments)}function JE(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Jr(n,e,t){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?QE:JE).apply(null,arguments)}function Ag(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function ci(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,c){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return e.prototype[a].apply(s,h)}}function ku(){this.s=this.s,this.o=this.o}var jv={};ku.prototype.s=!1,ku.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function $T(n){return Object.prototype.hasOwnProperty.call(n,Cg)&&n[Cg]||(n[Cg]=++ZE)}(this);delete jv[n]}},ku.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $v=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},sf=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let c=0;c<s;c++)c in a&&e.call(t,a[c],c,n)};function XE(n){return Array.prototype.concat.apply([],arguments)}function Hv(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function Sg(n){return/^[\s\xa0]*$/.test(n)}var Ji,eI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Qi(n,e){return-1!=n.indexOf(e)}function Gv(n,e){return n<e?-1:n>e?1:0}e:{var tI=$t.navigator;if(tI){var nI=tI.userAgent;if(nI){Ji=nI;break e}}Ji=""}function yo(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function of(n){const e={};for(const t in n)e[t]=n[t];return e}var zv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xg(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let c=0;c<zv.length;c++)t=zv[c],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function id(n){return id[" "](n),n}id[" "]=el;var sd,n,Mg=Qi(Ji,"Opera"),tl=Qi(Ji,"Trident")||Qi(Ji,"MSIE"),Ko=Qi(Ji,"Edge"),af=Ko||tl,qv=Qi(Ji,"Gecko")&&!(Qi(Ji.toLowerCase(),"webkit")&&!Qi(Ji,"Edge"))&&!(Qi(Ji,"Trident")||Qi(Ji,"MSIE"))&&!Qi(Ji,"Edge"),Rg=Qi(Ji.toLowerCase(),"webkit")&&!Qi(Ji,"Edge");function Kv(){var n=$t.document;return n?n.documentMode:void 0}e:{var kg="",Ng=(n=Ji,qv?/rv:([^\);]+)(\)|;)/.exec(n):Ko?/Edge\/([\d\.]+)/.exec(n):tl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Rg?/WebKit\/(\S+)/.exec(n):Mg?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ng&&(kg=Ng?Ng[1]:""),tl){var Nu=Kv();if(null!=Nu&&Nu>parseFloat(kg)){sd=String(Nu);break e}}sd=kg}var nl={};var il=$t.document&&tl&&(Kv()||parseInt(sd,10))||void 0,rI=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",el,e),$t.removeEventListener("test",el,e)}catch(t){}return n}();function li(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function sl(n,e){if(li.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(qv){e:{try{id(e.nodeName);var a=!0;break e}catch(c){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Pg[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sl.Z.h.call(this)}}li.prototype.h=function(){this.defaultPrevented=!0},ci(sl,li);var Pg={2:"touch",3:"pen",4:"mouse"};sl.prototype.h=function(){sl.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ou="closure_listenable_"+(1e6*Math.random()|0),Yv=0;function uf(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++Yv,this.ca=this.fa=!1}function cf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function od(n){this.src=n,this.g={},this.h=0}function Zv(n,e){var t=e.type;if(t in n.g){var c,s=n.g[t],a=$v(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(cf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function lf(n,e,t,s){for(var a=0;a<n.length;++a){var c=n[a];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==s)return a}return-1}od.prototype.add=function(n,e,t,s,a){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var h=lf(n,e,s,a);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new uf(e,this.src,c,!!s,a)).fa=t,n.push(e)),e};var df="closure_lm_"+(1e6*Math.random()|0),Fg={};function Lg(n,e,t,s,a){if(s&&s.once)return Xi(n,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Lg(n,e[c],t,s,a);return null}return t=Vg(t),n&&n[Ou]?n.N(e,t,Ru(s)?!!s.capture:!!s,a):Qv(n,e,t,!1,s,a)}function Qv(n,e,t,s,a,c){if(!e)throw Error("Invalid event type");var h=Ru(a)?!!a.capture:!!a,g=hf(n);if(g||(n[df]=g=new od(n)),(t=g.add(e,t,s,h,c)).proxy)return t;if(s=function iI(){var e=GT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)rI||(a=h),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(sI(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function Xi(n,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Xi(n,e[c],t,s,a);return null}return t=Vg(t),n&&n[Ou]?n.O(e,t,Ru(s)?!!s.capture:!!s,a):Qv(n,e,t,!0,s,a)}function Jv(n,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Jv(n,e[c],t,s,a);else s=Ru(s)?!!s.capture:!!s,t=Vg(t),n&&n[Ou]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=lf(c=n.g[e],t,s,a))&&(cf(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=hf(n))&&(e=n.g[e.toString()],n=-1,e&&(n=lf(e,t,s,a)),(t=-1<n?e[n]:null)&&Ug(t))}function Ug(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ou])Zv(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(sI(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=hf(e))?(Zv(t,n),0==t.h&&(t.src=null,e[df]=null)):cf(n)}}}function sI(n){return n in Fg?Fg[n]:Fg[n]="on"+n}function GT(n,e){if(n.ca)n=!0;else{e=new sl(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&Ug(n),n=t.call(s,e)}return n}function hf(n){return(n=n[df])instanceof od?n:null}var Xv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vg(n){return"function"==typeof n?n:(n[Xv]||(n[Xv]=function(e){return n.handleEvent(e)}),n[Xv])}function Nr(){ku.call(this),this.i=new od(this),this.P=this,this.I=null}function Xr(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new li(e,n);else if(e instanceof li)e.target=e.target||n;else{var a=e;xg(e=new li(s,n),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var h=e.g=t[c];a=ff(h,s,!0,e)&&a}if(a=ff(h=e.g=n,s,!0,e)&&a,a=ff(h,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=ff(h=e.g=t[c],s,!1,e)&&a}function ff(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.ca&&h.capture==t){var g=h.listener,E=h.ia||h.src;h.fa&&Zv(n.i,h),a=!1!==g.call(E,s)&&a}}return a&&!s.defaultPrevented}ci(Nr,ku),Nr.prototype[Ou]=!0,Nr.prototype.removeEventListener=function(n,e,t,s){Jv(this,n,e,t,s)},Nr.prototype.M=function(){if(Nr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)cf(t[s]);delete n.g[e],n.h--}}this.I=null},Nr.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},Nr.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var Bg=$t.JSON.stringify;function oI(){var n=Qs;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var pf,t_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new n_,n=>n.reset());class n_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function aI(n){$t.setTimeout(()=>{throw n},0)}function jg(n,e){pf||function r_(){var n=$t.Promise.resolve(void 0);pf=function(){n.then(Hg)}}(),$g||(pf(),$g=!0),Qs.add(n,e)}var $g=!1,Qs=new class e_{constructor(){this.h=this.g=null}add(e,t){const s=t_.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Hg(){for(var n;n=oI();){try{n.h.call(n.g)}catch(t){aI(t)}var e=t_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}$g=!1}function gf(n,e){Nr.call(this),this.h=n||1,this.g=e||$t,this.j=Jr(this.kb,this),this.l=Date.now()}function Gg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function i_(n,e,t){if("function"==typeof n)t&&(n=Jr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function zg(n){n.g=i_(()=>{n.g=null,n.i&&(n.i=!1,zg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ci(gf,Nr),(It=gf.prototype).da=!1,It.S=null,It.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xr(this,"tick"),this.da&&(Gg(this),this.start()))}},It.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.M=function(){gf.Z.M.call(this),Gg(this),delete this.g};class uI extends ku{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zg(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ad(n){ku.call(this),this.h=n,this.g={}}ci(ad,ku);var s_=[];function mf(n,e,t,s){Array.isArray(t)||(t&&(s_[0]=t.toString()),t=s_);for(var a=0;a<t.length;a++){var c=Lg(e,t[a],s||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function o_(n){yo(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ug(e)},n),n.g={}}function yf(){this.g=!0}function ol(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Kg(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<a.length;h++)a[h]=""}}}return Bg(t)}catch(g){return e}}(n,t)+(s?" "+s:"")})}ad.prototype.M=function(){ad.Z.M.call(this),o_(this)},ad.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yf.prototype.Aa=function(){this.g=!1},yf.prototype.info=function(){};var Fa={},cI=null;function Yg(){return cI=cI||new Nr}function _f(n){li.call(this,Fa.Ma,n)}function wf(n){const e=Yg();Xr(e,new _f(e,n))}function a_(n,e){li.call(this,Fa.STAT_EVENT,n),this.stat=e}function Ei(n){const e=Yg();Xr(e,new a_(e,n))}function Zg(n,e){li.call(this,Fa.Na,n),this.size=e}function al(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}Fa.Ma="serverreachability",ci(_f,li),Fa.STAT_EVENT="statevent",ci(a_,li),Fa.Na="timingevent",ci(Zg,li);var ud={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Qg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Js(){}function u_(){}Js.prototype.h=null;var Ef,ld={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function c_(){li.call(this,"d")}function dd(){li.call(this,"c")}function ul(){}function Yo(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new ad(this),this.P=Jg,this.W=new gf(n=af?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new l_}function l_(){this.i=null,this.g="",this.h=!1}ci(c_,li),ci(dd,li),ci(ul,Js),ul.prototype.g=function(){return new XMLHttpRequest},ul.prototype.i=function(){return{}},Ef=new ul;var Jg=45e3,If={},hd={};function Df(n,e,t){n.K=1,n.v=md(vo(e)),n.s=t,n.U=!0,d_(n,null)}function d_(n,e){n.F=Date.now(),cl(n),n.A=vo(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),nm(t.h,"t",s),n.C=0,t=n.l.H,n.h=new l_,n.g=R_(n.l,t?e:null,!n.s),0<n.O&&(n.L=new uI(Jr(n.Ia,n,n.g),n.O)),mf(n.V,n.g,"readystatechange",n.gb),e=n.H?of(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),wf(1),function vf(n,e,t,s,a,c){n.info(function(){if(n.g)if(c)for(var h="",g=c.split("&"),E=0;E<g.length;E++){var A=g[E].split("=");if(1<A.length){var O=A[0];A=A[1];var z=O.split("_");h=2<=z.length&&"type"==z[1]?h+(O+"=")+A+"&":h+(O+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Tf(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function h_(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=lI(n,t),a==hd){4==e&&(n.o=4,Ei(14),s=!1),ol(n.j,n.m,null,"[Incomplete Response]");break}if(a==If){n.o=4,Ei(15),ol(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}ol(n.j,n.m,a,null),La(n,a)}Tf(n)&&a!=hd&&a!=If&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ei(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),lm(e),e.L=!0,Ei(11))):(ol(n.j,n.m,t,"[Invalid Chunked Response]"),Fu(n),pd(n))}function lI(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?hd:(t=Number(e.substring(t,s)),isNaN(t)?If:(s+=1)+t>e.length?hd:(e=e.substr(s,t),n.C=s+t,e))}function cl(n){n.Y=Date.now()+n.P,Pu(n,n.P)}function Pu(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=al(Jr(n.eb,n),e)}function fd(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function pd(n){0==n.l.G||n.I||x_(n.l,n)}function Fu(n){fd(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Gg(n.W),o_(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function La(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||_d(t.i,n)))if(t.I=n.N,!n.J&&_d(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(A){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=al(Jr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Td(t),Id(t)}Of(t),Ei(18)}if(1>=w_(t.i)&&t.ka){try{t.ka()}catch(A){}t.ka=void 0}}else Gu(t,11)}else if((n.J||t.g==n)&&Td(t),!Sg(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let A=a[e];if(t.U=A[0],A=A[1],2==t.G)if("c"==A[0]){t.J=A[1],t.la=A[2];const O=A[3];null!=O&&(t.ma=O,t.h.info("VER="+t.ma));const z=A[4];null!=z&&(t.za=z,t.h.info("SVER="+t.za));const he=A[5];null!=he&&"number"==typeof he&&0<he&&(t.K=s=1.5*he,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const Te=n.g;if(Te){const He=Te.g?Te.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(He){var c=s.i;!c.g&&(Qi(He,"spdy")||Qi(He,"quic")||Qi(He,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(im(c,c.h),c.h=null))}if(s.D){const gt=Te.g?Te.g.getResponseHeader("X-HTTP-Session-Id"):null;gt&&(s.sa=gt,or(s.F,s.D,gt))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((s=t).oa=wI(s,s.H?s.la:null,s.W),h.J){E_(s.i,h);var g=h,E=s.K;E&&g.setTimeout(E),g.B&&(fd(g),cl(g)),s.g=h}else A_(s);0<t.l.length&&Dd(t)}else"stop"!=A[0]&&"close"!=A[0]||Gu(t,7);else 3==t.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?Gu(t,7):kf(t):"noop"!=A[0]&&t.j&&t.j.wa(A),t.A=0)}wf(4)}catch(A){}}function Xg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rd(n)||"string"==typeof n)sf(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(rd(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;s=function dI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(rd(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n),a=s.length;for(var c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],n)}}function ll(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof ll)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function em(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];Ii(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)Ii(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function Ii(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(It=Yo.prototype).setTimeout=function(n){this.P=n},It.gb=function(n){n=n.target;const e=this.L;e&&3==ts(n)?e.l():this.Ia(n)},It.Ia=function(n){try{if(n==this.g)e:{const O=ts(this.g);var e=this.g.Da();const z=this.g.ba();if(!(3>O)&&(3!=O||af||this.g&&(this.h.h||this.g.ga()||Hu(this.g)))){this.I||4!=O||7==e||wf(8==e||0>=z?3:2),fd(this);var t=this.g.ba();this.N=t;t:if(Tf(this)){var s=Hu(this.g);n="";var a=s.length,c=4==ts(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Fu(this),pd(this);var h="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function Wg(n,e,t,s,a,c,h){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+h})}(this.j,this.u,this.A,this.m,this.X,O,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,E=this.g;if((g=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sg(g)){var A=g;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,Ei(12),Fu(this),pd(this);break e}ol(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,La(this,t)}this.U?(h_(this,O,h),af&&this.i&&3==O&&(mf(this.V,this.W,"tick",this.fb),this.W.start())):(ol(this.j,this.m,h,null),La(this,h)),4==O&&Fu(this),this.i&&!this.I&&(4==O?x_(this.l,this):(this.i=!1,cl(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Ei(12)):(this.o=0,Ei(13)),Fu(this),pd(this)}}}catch(O){}},It.fb=function(){if(this.g){var n=ts(this.g),e=this.g.ga();this.C<e.length&&(fd(this),h_(this,n,e),this.i&&4!=n&&cl(this))}},It.cancel=function(){this.I=!0,Fu(this)},It.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function qg(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(wf(3),Ei(17)),Fu(this),this.o=2,pd(this)):Pu(this,this.Y-n)},(It=ll.prototype).R=function(){em(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},It.T=function(){return em(this),this.g.concat()},It.get=function(n,e){return Ii(this.h,n)?this.h[n]:e},It.set=function(n,e){Ii(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},It.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],c=this.get(a);n.call(e,c,a,this)}};var bf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ua(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ua){this.g=void 0!==e?e:n.g,gd(this,n.j),this.s=n.s,Cf(this,n.i),Af(this,n.m),this.l=n.l,e=n.h;var t=new Sf;t.i=e.i,e.g&&(t.g=new ll(e.g),t.h=e.h),p_(this,t),this.o=n.o}else n&&(t=String(n).match(bf))?(this.g=!!e,gd(this,t[1]||"",!0),this.s=yd(t[2]||""),Cf(this,t[3]||"",!0),Af(this,t[4]),this.l=yd(t[5]||"",!0),p_(this,t[6]||"",!0),this.o=yd(t[7]||"")):(this.g=!!e,this.h=new Sf(null,this.g))}function vo(n){return new Ua(n)}function gd(n,e,t){n.j=t?yd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Cf(n,e,t){n.i=t?yd(e,!0):e}function Af(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function p_(n,e,t){e instanceof Sf?(n.h=e,function v_(n,e){e&&!n.j&&(ei(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(pI(this,s),nm(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=vd(e,m_)),n.h=new Sf(e,n.g))}function or(n,e,t){n.h.set(e,t)}function md(n){return or(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function yd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function vd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,WT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function WT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ua.prototype.toString=function(){var n=[],e=this.j;e&&n.push(vd(e,hI,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(vd(e,hI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(vd(t,"/"==t.charAt(0)?fI:tm,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",vd(t,y_)),n.join("")};var hI=/[#\/\?@]/g,tm=/[#\?:]/g,fI=/[#\?]/g,m_=/[#\?@]/g,y_=/#/g;function Sf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ei(n){n.g||(n.g=new ll,n.h=0,n.i&&function f_(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var c=n[t].substring(0,s);a=n[t].substring(s+1)}else c=n[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function pI(n,e){ei(n),e=Lu(n,e),Ii(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ii((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&em(n)))}function gI(n,e){return ei(n),e=Lu(n,e),Ii(n.g.h,e)}function nm(n,e,t){pI(n,e),0<t.length&&(n.i=null,n.g.set(Lu(n,e),Hv(t)),n.h+=t.length)}function Lu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function yI(n){this.l=n||__,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ea&&$t.g.Ea()&&$t.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=Sf.prototype).add=function(n,e){ei(this),this.i=null,n=Lu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},It.forEach=function(n,e){ei(this),this.g.forEach(function(t,s){sf(t,function(a){n.call(e,a,s,this)},this)},this)},It.T=function(){ei(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],c=0;c<a.length;c++)t.push(e[s]);return t},It.R=function(n){ei(this);var e=[];if("string"==typeof n)gI(this,n)&&(e=XE(e,this.g.get(Lu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=XE(e,n[t])}return e},It.set=function(n,e){return ei(this),this.i=null,gI(this,n=Lu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},It.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var c=0;c<s.length;c++){var h=a;""!==s[c]&&(h+="="+encodeURIComponent(String(s[c]))),n.push(h)}}return this.i=n.join("&")};var __=10;function rm(n){return!!n.h||!!n.g&&n.g.size>=n.j}function w_(n){return n.h?1:n.g?n.g.size:0}function _d(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function im(n,e){n.g?n.g.add(e):n.h=e}function E_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function I_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Hv(n.i)}function sm(){}function vI(){this.g=new sm}function _I(n,e,t){const s=t||"";try{Xg(n,function(a,c){let h=a;Ru(a)&&(h=Bg(a)),e.push(s+c+"="+encodeURIComponent(h))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Zo(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(c){}}function wd(n){this.l=n.$b||null,this.j=n.ib||!1}function Va(n,e){Nr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=om,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yI.prototype.cancel=function(){if(this.i=I_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},sm.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},sm.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},ci(wd,Js),wd.prototype.g=function(){return new Va(this.l,this.j)},wd.prototype.i=function(n){return function(){return n}}({}),ci(Va,Nr);var om=0;function D_(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Uu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,es(n)}function es(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(It=Va.prototype).open=function(n,e){if(this.readyState!=om)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,es(this)},It.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||$t).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Uu(this)),this.readyState=om},It.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$t.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;D_(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},It.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Uu(this):es(this),3==this.readyState&&D_(this)}},It.Ua=function(n){this.g&&(this.response=this.responseText=n,Uu(this))},It.Ta=function(n){this.g&&(this.response=n,Uu(this))},It.ha=function(){this.g&&Uu(this)},It.setRequestHeader=function(n,e){this.v.append(n,e)},It.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ed=$t.JSON.parse;function mn(n){Nr.call(this),this.headers=new ll,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ba,this.K=this.L=!1}ci(mn,Nr);var Ba="",Mf=/^https?$/i,Ps=["POST","PUT"];function dl(n){return"content-type"==n.toLowerCase()}function Vu(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Bu(n),Qo(n)}function Bu(n){n.D||(n.D=!0,Xr(n,"complete"),Xr(n,"error"))}function ju(n){if(n.h&&void 0!==Xc&&(!n.C[1]||4!=ts(n)||2!=n.ba()))if(n.v&&4==ts(n))i_(n.Fa,0,n);else if(Xr(n,"readystatechange"),4==ts(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===g){var a=String(n.H).match(bf)[1]||null;if(!a&&$t.self&&$t.self.location){var c=$t.self.location.protocol;a=c.substr(0,c.length-1)}s=!Mf.test(a?a.toLowerCase():"")}t=s}if(t)Xr(n,"complete"),Xr(n,"success");else{n.m=6;try{var h=2<ts(n)?n.g.statusText:""}catch(E){h=""}n.j=h+" ["+n.ba()+"]",Bu(n)}}finally{Qo(n)}}}function Qo(n,e){if(n.g){$u(n);const t=n.g,s=n.C[0]?el:null;n.g=null,n.C=null,e||Xr(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function $u(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function ts(n){return n.g?n.g.readyState:0}function Hu(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ba:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Rf(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function hl(n){let e="";return yo(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):or(n,e,t))}function fl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function um(n){this.za=0,this.l=[],this.h=new yf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fl("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fl("baseRetryDelayMs",5e3,n),this.$a=fl("retryDelaySeedMs",1e4,n),this.Ya=fl("forwardChannelMaxRetries",2,n),this.ra=fl("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new yI(n&&n.concurrentRequestLimit),this.Ca=new vI,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function kf(n){if(cm(n),3==n.G){var e=n.V++,t=vo(n.F);or(t,"SID",n.J),or(t,"RID",e),or(t,"TYPE","terminate"),pl(n,t),(e=new Yo(n,n.h,e,void 0)).K=2,e.v=md(vo(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=R_(e.l,null),e.g.ea(e.v)),e.F=Date.now(),cl(e)}M_(n)}function Id(n){n.g&&(lm(n),n.g.cancel(),n.g=null)}function cm(n){Id(n),n.u&&($t.clearTimeout(n.u),n.u=null),Td(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function Nf(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Dd(n)}function Dd(n){rm(n.i)||n.m||(n.m=!0,jg(n.Ha,n),n.C=0)}function b_(n,e){var t;t=e?e.m:n.V++;const s=vo(n.F);or(s,"SID",n.J),or(s,"RID",t),or(s,"AID",n.U),pl(n,s),n.o&&n.s&&Rf(s,n.o,n.s),t=new Yo(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=C_(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),im(n.i,t),Df(t,s,e)}function pl(n,e){n.j&&Xg({},function(t,s){or(e,s,t)})}function C_(n,e,t){t=Math.min(n.l.length,t);var s=n.j?Jr(n.j.Oa,n.j,n):null;e:{var a=n.l;let c=-1;for(;;){const h=["count="+t];-1==c?0<t?(c=a[0].h,h.push("ofs="+c)):c=0:h.push("ofs="+c);let g=!0;for(let E=0;E<t;E++){let A=a[E].h;const O=a[E].g;if(A-=c,0>A)c=Math.max(0,a[E].h-100),g=!1;else try{_I(O,h,"req"+A+"_")}catch(z){s&&s(O)}}if(g){s=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function A_(n){n.g||n.u||(n.Y=1,jg(n.Ga,n),n.A=0)}function Of(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=al(Jr(n.Ga,n),dm(n,n.A)),n.A++,0))}function lm(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function S_(n){n.g=new Yo(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=vo(n.oa);or(e,"RID","rpc"),or(e,"SID",n.J),or(e,"CI",n.N?"0":"1"),or(e,"AID",n.U),pl(n,e),or(e,"TYPE","xmlhttp"),n.o&&n.s&&Rf(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=md(vo(e)),t.s=null,t.U=!0,d_(t,n)}function Td(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function x_(n,e){var t=null;if(n.g==e){Td(n),lm(n),n.g=null;var s=2}else{if(!_d(n.i,e))return;t=e.D,E_(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Xr(s=Yg(),new Zg(s,t,e,a)),Dd(n)}else A_(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function T_(n,e){return!(w_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=al(Jr(n.Ha,n,e),dm(n,n.C)),n.C++,0)))}(n,e)||2==s&&Of(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Gu(n,5);break;case 4:Gu(n,10);break;case 3:Gu(n,6);break;default:Gu(n,2)}}function dm(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Gu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=Jr(n.jb,n);t||(t=new Ua("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||gd(t,"https"),md(t)),function xf(n,e){const t=new yf;if($t.Image){const s=new Image;s.onload=Ag(Zo,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Ag(Zo,t,s,"TestLoadImage: error",!1,e),s.onabort=Ag(Zo,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ag(Zo,t,s,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else Ei(2);n.G=0,n.j&&n.j.va(e),M_(n),cm(n)}function M_(n){n.G=0,n.I=-1,n.j&&((0!=I_(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Hv(n.l),n.l.length=0),n.j.ua())}function wI(n,e,t){let s=function zT(n){return n instanceof Ua?vo(n):new Ua(n,void 0)}(t);if(""!=s.i)e&&Cf(s,e+"."+s.i),Af(s,s.m);else{const a=$t.location;s=function g_(n,e,t,s){var a=new Ua(null,void 0);return n&&gd(a,n),e&&Cf(a,e),t&&Af(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&yo(n.aa,function(a,c){or(s,c,a)}),t=n.sa,(e=n.D)&&t&&or(s,e,t),or(s,"VER",n.ma),pl(n,s),s}function R_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mn(t&&n.Ba&&!n.qa?new wd({ib:!0}):n.qa)).L=n.H,e}function Pf(){}function gl(){if(tl&&!(10<=Number(il)))throw Error("Environmental error: no available transport.")}function fs(n,e){Nr.call(this),this.g=new um(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Sg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new bd(this)}function EI(n){c_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function II(){dd.call(this),this.status=1}function bd(n){this.g=n}(It=mn.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ef.g(),this.C=function cd(n){return n.h||(n.h=n.i())}(this.u?this.u:Ef),this.g.onreadystatechange=Jr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void Vu(this,c)}n=t||"";const a=new ll(this.headers);s&&Xg(s,function(c,h){a.set(h,c)}),s=function HT(n){e:{var e=dl;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=$t.FormData&&n instanceof $t.FormData,!(0<=$v(Ps,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(c,h){this.g.setRequestHeader(h,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$u(this),0<this.B&&((this.K=function am(n){return tl&&function Og(){return function Wv(n){var e=nl;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=eI(String(sd)).split("."),t=eI("9").split("."),s=Math.max(e.length,t.length);for(let h=0;0==n&&h<s;h++){var a=e[h]||"",c=t[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;n=Gv(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||Gv(0==a[2].length,0==c[2].length)||Gv(a[2],c[2]),a=a[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.pa,this)):this.A=i_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){Vu(this,c)}},It.pa=function(){void 0!==Xc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xr(this,"timeout"),this.abort(8))},It.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xr(this,"complete"),Xr(this,"abort"),Qo(this))},It.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qo(this,!0)),mn.Z.M.call(this)},It.Fa=function(){this.s||(this.F||this.v||this.l?ju(this):this.cb())},It.cb=function(){ju(this)},It.ba=function(){try{return 2<ts(this)?this.g.status:-1}catch(n){return-1}},It.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},It.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ed(e)}},It.Da=function(){return this.m},It.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=um.prototype).ma=8,It.G=1,It.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},It.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new Yo(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=of(c),xg(c,this.P)):c=this.P),null===this.o&&(a.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=C_(this,a,e),or(t=vo(this.F),"RID",n),or(t,"CVER",22),this.D&&or(t,"X-HTTP-Session-Id",this.D),pl(this,t),this.o&&c&&Rf(t,this.o,c),im(this.i,a),this.Ra&&or(t,"TYPE","init"),this.ja?(or(t,"$req",e),or(t,"SID","null"),a.$=!0,Df(a,t,null)):Df(a,t,e),this.G=2}}else 3==this.G&&(n?b_(this,n):0==this.l.length||rm(this.i)||b_(this))},It.Ga=function(){if(this.u=null,S_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=al(Jr(this.bb,this),n)}},It.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ei(10),Id(this),S_(this))},It.ab=function(){null!=this.v&&(this.v=null,Id(this),Of(this),Ei(19))},It.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ei(2)):(this.h.info("Failed to ping google.com"),Ei(1))},(It=Pf.prototype).xa=function(){},It.wa=function(){},It.va=function(){},It.ua=function(){},It.Oa=function(){},gl.prototype.g=function(n,e){return new fs(n,e)},ci(fs,Nr),fs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),jg(Jr(n.hb,n,e))),Ei(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=wI(n,null,n.W),Dd(n)},fs.prototype.close=function(){kf(this.g)},fs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Nf(this.g,e)}else this.v?((e={}).__data__=Bg(n),Nf(this.g,e)):Nf(this.g,n)},fs.prototype.M=function(){this.g.j=null,delete this.j,kf(this.g),delete this.g,fs.Z.M.call(this)},ci(EI,c_),ci(II,dd),ci(bd,Pf),bd.prototype.xa=function(){Xr(this.g,"a")},bd.prototype.wa=function(n){Xr(this.g,new EI(n))},bd.prototype.va=function(n){Xr(this.g,new II(n))},bd.prototype.ua=function(){Xr(this.g,"b")},gl.prototype.createWebChannel=gl.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,ud.NO_ERROR=0,ud.TIMEOUT=8,ud.HTTP_ERROR=6,Qg.COMPLETE="complete",u_.EventType=ld,ld.OPEN="a",ld.CLOSE="b",ld.ERROR="c",ld.MESSAGE="d",Nr.prototype.listen=Nr.prototype.N,mn.prototype.listenOnce=mn.prototype.O,mn.prototype.getLastError=mn.prototype.La,mn.prototype.getLastErrorCode=mn.prototype.Da,mn.prototype.getStatus=mn.prototype.ba,mn.prototype.getResponseJson=mn.prototype.Qa,mn.prototype.getResponseText=mn.prototype.ga,mn.prototype.send=mn.prototype.ea;var DI=mo.createWebChannelTransport=function(){return new gl},k_=mo.getStatEventTarget=function(){return Yg()},N_=mo.ErrorCode=ud,TI=mo.EventType=Qg,ml=mo.Event=Fa,O_=mo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},P_=mo.FetchXmlHttpFactory=wd,Ff=mo.WebChannel=u_,F_=mo.XhrIo=mn;const Cd="@firebase/firestore";class ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ti.UNAUTHENTICATED=new ti(null),ti.GOOGLE_CREDENTIALS=new ti("google-credentials-uid"),ti.FIRST_PARTY=new ti("first-party-uid"),ti.MOCK_USER=new ti("mock-user");let zu="9.8.4";const ja=new Ne.Yd("@firebase/firestore");function hm(){return ja.logLevel}function Xe(n,...e){if(ja.logLevel<=Ne.in.DEBUG){const t=e.map(fm);ja.debug(`Firestore (${zu}): ${n}`,...t)}}function Or(n,...e){if(ja.logLevel<=Ne.in.ERROR){const t=e.map(fm);ja.error(`Firestore (${zu}): ${n}`,...t)}}function Ad(n,...e){if(ja.logLevel<=Ne.in.WARN){const t=e.map(fm);ja.warn(`Firestore (${zu}): ${n}`,...t)}}function fm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function bt(n="Unexpected state"){const e=`FIRESTORE (${zu}) INTERNAL ASSERTION FAILED: `+n;throw Or(e),new Error(e)}function Bt(n,e){n||bt()}function dt(n,e){return n}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends Ce.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class yl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ti.UNAUTHENTICATED))}shutdown(){}}class gm{constructor(e){this.t=e,this.currentUser=ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=A=>this.i!==a?(a=this.i,t(A)):Promise.resolve();let h=new di;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new di,e.enqueueRetryable(()=>c(this.currentUser))};const g=()=>{const A=h;e.enqueueRetryable((0,G.Z)(function*(){yield A.promise,yield c(s.currentUser)}))},E=A=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(A=>E(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?E(A):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new di)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt("string"==typeof s.accessToken),new yl(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new ti(e)}}class bI{constructor(e,t,s){this.type="FirstParty",this.user=ti.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class Lf{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new bI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mm{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const s=c=>{null!=c.error&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.p;return this.p=c.token,Xe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.g.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.g.getImmediate({optional:!0});c?a(c):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bt("string"==typeof t.token),this.p=t.token,new Sd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function CI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}function Kt(n,e){return n<e?-1:n>e?1:0}function Wu(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}class tr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ye(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ye(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ye(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new tr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new tr(0,0))}static max(){return new Ut(new tr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vl{constructor(e,t,s){void 0===t?t=0:t>e.length&&bt(),void 0===s?s=e.length-t:s>e.length-t&&bt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===vl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),h=t.get(a);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pn extends vl{construct(e,t,s){return new pn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ye(Ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new pn(t)}static emptyPath(){return new pn([])}}const B_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends vl{construct(e,t,s){return new Pr(e,t,s)}static isValidIdentifier(e){return B_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new Ye(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;a<e.length;){const g=e[a];if("\\"===g){if(a+1===e.length)throw new Ye(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[a+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Ye(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=E,a+=2}else"`"===g?(h=!h,a++):"."!==g||h?(s+=g,a++):(c(),a++)}if(c(),h)throw new Ye(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(t)}static emptyPath(){return new Pr([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(pn.fromString(e))}static fromName(e){return new ot(pn.fromString(e).popFirst(5))}static empty(){return new ot(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new pn(e.slice()))}}function ym(n){return new Li(n.readTime,n.key,-1)}class Li{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Li(Ut.min(),ot.empty(),-1)}static max(){return new Li(Ut.max(),ot.empty(),-1)}}function Bf(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ot.comparator(n.documentKey,e.documentKey),0!==t?t:Kt(n.largestBatchId,e.largestBatchId))}const vm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Jo(n){return jf.apply(this,arguments)}function jf(){return jf=(0,G.Z)(function*(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==vm)throw n;Xe("LocalStore","Unexpectedly lost primary lease")}),jf.apply(this,arguments)}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,s)=>{t(e)})}static reject(e){return new me((t,s)=>{s(e)})}static waitFor(e){return new me((t,s)=>{let a=0,c=0,h=!1;e.forEach(g=>{++a,g.next(()=>{++c,h&&c===a&&t()},E=>s(E))}),h=!0,c===a&&t()})}static or(e){let t=me.resolve(!1);for(const s of e)t=t.next(a=>a?me.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new me((s,a)=>{const c=e.length,h=new Array(c);let g=0;for(let E=0;E<c;E++){const A=E;t(e[A]).next(O=>{h[A]=O,++g,g===c&&s(h)},O=>a(O))}})}static doWhile(e,t){return new me((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}function $a(n){return"IndexedDbTransactionError"===n.name}class Ui{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.it(s),this.rt=s=>t.writeSequenceNumber(s))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function G_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}Ui.ot=-1;class qn{constructor(e,t){this.comparator=e,this.root=t||hi.EMPTY}insert(e,t){return new qn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hi.BLACK,null,null))}remove(e){return new qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hf(this.root,e,this.comparator,!0)}}class Hf{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hi{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=null!=s?s:hi.RED,this.left=null!=a?a:hi.EMPTY,this.right=null!=c?c:hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new hi(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return hi.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}hi.EMPTY=null,hi.RED=!0,hi.BLACK=!1,hi.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(n,e,t,s,a){return this}insert(n,e,t){return new hi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new z_(this.data.getIterator())}getIteratorFrom(e){return new z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ls{constructor(e){this.fields=e,e.sort(Pr.comparator)}static empty(){return new Ls([])}unionWith(e){let t=new Fn(Pr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wu(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Lr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lr.EMPTY_BYTE_STRING=new Lr("");const _o=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ga(n){if(Bt(!!n),"string"==typeof n){let e=0;const t=_o.exec(n);if(Bt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yr(n.seconds),nanos:yr(n.nanos)}}function yr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Di(n){return"string"==typeof n?Lr.fromBase64String(n):Lr.fromUint8Array(n)}function ps(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Us(n){const e=n.mapValue.fields.__previous_value__;return ps(e)?Us(e):e}function _l(n){const e=Ga(n.mapValue.fields.__local_write_time__.timestampValue);return new tr(e.seconds,e.nanos)}class W_{constructor(e,t,s,a,c,h,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.useFetchStreams=E}}class za{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new za("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}function Od(n){return null==n}function Pd(n){return 0===n&&1/n==-1/0}const wo_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Zu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ps(n)?4:Dm(n)?9007199254740991:10:bt()}function Xs(n,e){if(n===e)return!0;const t=Zu(n);if(t!==Zu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _l(n).isEqual(_l(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Ga(s.timestampValue),h=Ga(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Di(n.bytesValue).isEqual(Di(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return yr(s.geoPointValue.latitude)===yr(a.geoPointValue.latitude)&&yr(s.geoPointValue.longitude)===yr(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return yr(s.integerValue)===yr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=yr(s.doubleValue),h=yr(a.doubleValue);return c===h?Pd(c)===Pd(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return Wu(n.arrayValue.values||[],e.arrayValue.values||[],Xs);case 10:return function(s,a){const c=s.mapValue.fields||{},h=a.mapValue.fields||{};if(G_(c)!==G_(h))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(void 0===h[g]||!Xs(c[g],h[g])))return!1;return!0}(n,e);default:return bt()}var a}function Fd(n,e){return void 0!==(n.values||[]).find(t=>Xs(t,e))}function Xo(n,e){if(n===e)return 0;const t=Zu(n),s=Zu(e);if(t!==s)return Kt(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=yr(a.integerValue||a.doubleValue),g=yr(c.integerValue||c.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(n,e);case 3:return wm(n.timestampValue,e.timestampValue);case 4:return wm(_l(n),_l(e));case 5:return Kt(n.stringValue,e.stringValue);case 6:return function(a,c){const h=Di(a),g=Di(c);return h.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),g=c.split("/");for(let E=0;E<h.length&&E<g.length;E++){const A=Kt(h[E],g[E]);if(0!==A)return A}return Kt(h.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=Kt(yr(a.latitude),yr(c.latitude));return 0!==h?h:Kt(yr(a.longitude),yr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const h=a.values||[],g=c.values||[];for(let E=0;E<h.length&&E<g.length;++E){const A=Xo(h[E],g[E]);if(A)return A}return Kt(h.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===wo_mapValue&&c===wo_mapValue)return 0;if(a===wo_mapValue)return 1;if(c===wo_mapValue)return-1;const h=a.fields||{},g=Object.keys(h),E=c.fields||{},A=Object.keys(E);g.sort(),A.sort();for(let O=0;O<g.length&&O<A.length;++O){const z=Kt(g[O],A[O]);if(0!==z)return z;const he=Xo(h[g[O]],E[A[O]]);if(0!==he)return he}return Kt(g.length,A.length)}(n.mapValue,e.mapValue);default:throw bt()}}function wm(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kt(n,e);const t=Ga(n),s=Ga(e),a=Kt(t.seconds,s.seconds);return 0!==a?a:Kt(t.nanos,s.nanos)}function ea(n){return Em(n)}function Em(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=Ga(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Di(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",c=!0;for(const h of s.values||[])c?c=!1:a+=",",a+=Em(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",h=!0;for(const g of a)h?h=!1:c+=",",c+=`${g}:${Em(s.fields[g])}`;return c+"}"}(n.mapValue):bt();var e}function Gf(n){return!!n&&"integerValue"in n}function Qu(n){return!!n&&"arrayValue"in n}function Ld(n){return!!n&&"nullValue"in n}function Im(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ud(n){return!!n&&"mapValue"in n}function wl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ha(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=wl(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Dm(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ud(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(t)}setAll(e){let t=Pr.emptyPath(),s={},a=[];e.forEach((h,g)=>{if(!t.isImmediateParentOf(g)){const E=this.getFieldsMap(t);this.applyChanges(E,s,a),s={},a=[],t=g.popLast()}h?s[g.lastSegment()]=wl(h):a.push(g.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());Ud(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Ud(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ha(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new fi(wl(this.value))}}class Xn{constructor(e,t,s,a,c,h){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Xn(e,0,Ut.min(),Ut.min(),fi.empty(),0)}static newFoundDocument(e,t,s){return new Xn(e,1,t,Ut.min(),s,0)}static newNoDocument(e,t){return new Xn(e,2,t,Ut.min(),fi.empty(),0)}static newUnknownDocument(e,t){return new Xn(e,3,t,Ut.min(),fi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class MI{constructor(e,t=null,s=[],a=[],c=null,h=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=h,this.endAt=g,this.ut=null}}function Q_(n,e=null,t=[],s=[],a=null,c=null,h=null){return new MI(n,e,t,s,a,c,h)}function Ju(n){const e=dt(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(a=s).field.canonicalString()+a.op.toString()+ea(a.value);var a}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Od(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ea(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ea(s)).join(",")),e.ut=t}return e.ut}function Vd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!iw(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!Xs(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Am(n.startAt,e.startAt)&&Am(n.endAt,e.endAt)}function zf(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class pi extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,s):new kI(e,t,s):"array-contains"===t?new PI(e,s):"in"===t?new tw(e,s):"not-in"===t?new nw(e,s):"array-contains-any"===t?new rw(e,s):new pi(e,t,s)}static ct(e,t,s){return"in"===t?new NI(e,s):new OI(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Xo(t,this.value)):null!==t&&Zu(this.value)===Zu(t)&&this.at(Xo(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class kI extends pi{constructor(e,t,s){super(e,t,s),this.key=ot.fromName(s.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.at(t)}}class NI extends pi{constructor(e,t){super(e,"in",t),this.keys=ew(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OI extends pi{constructor(e,t){super(e,"not-in",t),this.keys=ew(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ew(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>ot.fromName(s.referenceValue))}class PI extends pi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qu(t)&&Fd(t.arrayValue,this.value)}}class tw extends pi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fd(this.value.arrayValue,t)}}class nw extends pi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fd(this.value.arrayValue,t)}}class rw extends pi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Fd(this.value.arrayValue,s))}}class ta{constructor(e,t){this.position=e,this.inclusive=t}}class Xu{constructor(e,t="asc"){this.field=e,this.dir=t}}function iw(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Cm(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const c=e[a],h=n.position[a];if(s=c.field.isKeyField()?ot.comparator(ot.fromName(h.referenceValue),t.key):Xo(h,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Am(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xs(n.position[t],e.position[t]))return!1;return!0}class Eo{constructor(e,t=null,s=[],a=[],c=null,h="F",g=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=h,this.startAt=g,this.endAt=E,this.lt=null,this.ft=null}}function ec(n){return new Eo(n)}function Bd(n){const e=dt(n);if(null===e.lt){e.lt=[];const t=function Mm(n){for(const e of n.filters)if(e.ht())return e.field;return null}(e),s=function xm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===s)t.isKeyField()||e.lt.push(new Xu(t)),e.lt.push(new Xu(Pr.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.lt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Xu(Pr.keyField(),c))}}}return e.lt}function ns(n){const e=dt(n);if(!e.ft)if("F"===e.limitType)e.ft=Q_(e.path,e.collectionGroup,Bd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Bd(e))t.push(new Xu(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new ta(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new ta(e.startAt.position,e.startAt.inclusive):null;e.ft=Q_(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.ft}function El(n,e){return Vd(ns(n),ns(e))&&n.limitType===e.limitType}function Rm(n){return`${Ju(ns(n))}|lt:${n.limitType}`}function sw(n){return`Query(target=${function RI(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${ea(s.value)}`;var s}).join(", ")}]`),Od(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ea(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ea(t)).join(",")),`Target(${e})`}(ns(n))}; limitType=${n.limitType})`}function Nt(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):ot.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!function(a,c,h){const g=Cm(a,c,h);return a.inclusive?g<=0:g<0}(t.startAt,Bd(t),s)||t.endAt&&!function(a,c,h){const g=Cm(a,c,h);return a.inclusive?g>=0:g>0}(t.endAt,Bd(t),s)));var t,s}function aw(n){return(e,t)=>{let s=!1;for(const a of Bd(n)){const c=LI(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function LI(n,e,t){const s=n.field.isKeyField()?ot.comparator(e.key,t.key):function(a,c,h){const g=c.data.field(a),E=h.data.field(a);return null!==g&&null!==E?Xo(g,E):bt()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return bt()}}class nc{constructor(){this._=void 0}}function vr(n,e,t){return n instanceof Il?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof rc?Nm(n,e):n instanceof Ya?Om(n,e):function(s,a){const c=function km(n,e){return n instanceof ic?Gf(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}(s,a),h=cw(c)+cw(s._t);return Gf(c)&&Gf(s._t)?function uw(n){return{integerValue:""+n}}(h):function jd(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pd(e)?"-0":e}}(s.wt,h)}(n,e)}function YT(n,e,t){return n instanceof rc?Nm(n,e):n instanceof Ya?Om(n,e):t}class Il extends nc{}class rc extends nc{constructor(e){super(),this.elements=e}}function Nm(n,e){const t=lw(e);for(const s of n.elements)t.some(a=>Xs(a,s))||t.push(s);return{arrayValue:{values:t}}}class Ya extends nc{constructor(e){super(),this.elements=e}}function Om(n,e){let t=lw(e);for(const s of n.elements)t=t.filter(a=>!Xs(a,s));return{arrayValue:{values:t}}}class ic extends nc{constructor(e,t){super(),this.wt=e,this._t=t}}function cw(n){return yr(n.integerValue||n.doubleValue)}function lw(n){return Qu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Dl{}function Pm(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new sc(n.key,dr.none()):new Io(n.key,n.data,dr.none());{const t=n.data,s=fi.empty();let a=new Fn(Pr.comparator);for(let c of e.fields)if(!a.has(c)){let h=t.field(c);null===h&&c.length>1&&(c=c.popLast(),h=t.field(c)),null===h?s.delete(c):s.set(c,h),a=a.add(c)}return new na(n.key,s,new Ls(a.toArray()),dr.none())}}function dw(n,e,t){n instanceof Io?function(s,a,c){const h=s.value.clone(),g=fw(s.fieldTransforms,a,c.transformResults);h.setAll(g),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof na?function(s,a,c){if(!qf(s.precondition,a))return void a.convertToUnknownDocument(c.version);const h=fw(s.fieldTransforms,a,c.transformResults),g=a.data;g.setAll(hw(s)),g.setAll(h),a.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tl(n,e,t,s){return n instanceof Io?function(a,c,h,g){if(!qf(a.precondition,c))return h;const E=a.value.clone(),A=Fm(a.fieldTransforms,g,c);return E.setAll(A),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),null}(n,e,t,s):n instanceof na?function(a,c,h,g){if(!qf(a.precondition,c))return h;const E=Fm(a.fieldTransforms,g,c),A=c.data;return A.setAll(hw(a)),A.setAll(E),c.convertToFoundDocument(c.version,A).setHasLocalMutations(),null===h?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(O=>O.field))}(n,e,t,s):(h=t,qf(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h);var c,h}function bl(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&Wu(t,s,(a,c)=>function Gd(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof rc&&s instanceof rc||t instanceof Ya&&s instanceof Ya?Wu(t.elements,s.elements,Xs):t instanceof ic&&s instanceof ic?Xs(t._t,s._t):t instanceof Il&&s instanceof Il);var t,s}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}class Io extends Dl{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class na extends Dl{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function hw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function fw(n,e,t){const s=new Map;Bt(n.length===t.length);for(let a=0;a<t.length;a++){const c=n[a],h=c.transform,g=e.data.field(c.field);s.set(c.field,YT(h,g,t[a]))}return s}function Fm(n,e,t){const s=new Map;for(const a of n){const c=a.transform,h=t.data.field(a.field);s.set(a.field,vr(c,h,e))}return s}class sc extends Dl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BI{constructor(e){this.count=e}}var Sr,_n;function jI(n){if(void 0===n)return Or("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case Sr.OK:return Ee.OK;case Sr.CANCELLED:return Ee.CANCELLED;case Sr.UNKNOWN:return Ee.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return Ee.INTERNAL;case Sr.UNAVAILABLE:return Ee.UNAVAILABLE;case Sr.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case Sr.NOT_FOUND:return Ee.NOT_FOUND;case Sr.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case Sr.ABORTED:return Ee.ABORTED;case Sr.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case Sr.DATA_LOSS:return Ee.DATA_LOSS;default:return bt()}}(_n=Sr||(Sr={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class oc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return function _m(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const ZT=new qn(ot.comparator);function gs(){return ZT}const Lm=new qn(ot.comparator);function Za(...n){let e=Lm;for(const t of n)e=e.insert(t.key,t);return e}function gw(n){let e=Lm;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Do(){return ra()}function Um(){return ra()}function ra(){return new oc(n=>n.toString(),(n,e)=>n.isEqual(e))}new qn(ot.comparator);const HI=new Fn(ot.comparator);function rn(...n){let e=HI;for(const t of n)e=e.add(t);return e}const GI=new Fn(Kt);function Yf(){return GI}class Cl{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,zd.createSynthesizedTargetChangeForCurrentChange(e,t)),new Cl(Ut.min(),s,Yf(),gs(),rn())}}class zd{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new zd(Lr.EMPTY_BYTE_STRING,t,rn(),rn(),rn())}}class Zf{constructor(e,t,s,a){this.gt=e,this.removedTargetIds=t,this.key=s,this.yt=a}}class ac{constructor(e,t){this.targetId=e,this.It=t}}class mw{constructor(e,t,s=Lr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Vm{constructor(){this.Tt=0,this.Et=yw(),this.At=Lr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=rn(),t=rn(),s=rn();return this.Et.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:bt()}}),new zd(this.At,this.Rt,e,t,s)}Dt(){this.bt=!1,this.Et=yw()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class zI{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=gs(),this.Bt=Bm(),this.Lt=new Fn(Kt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const s=this.Qt(t);switch(e.state){case 0:this.jt(t)&&s.Vt(e.resumeToken);break;case 1:s.kt(),s.Pt||s.Dt(),s.Vt(e.resumeToken);break;case 2:s.kt(),s.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(s.Ot(),s.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),s.Vt(e.resumeToken));break;default:bt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((s,a)=>{this.jt(a)&&t(a)})}zt(e){const t=e.targetId,s=e.It.count,a=this.Ht(t);if(a){const c=a.target;if(zf(c))if(0===s){const h=new ot(c.path);this.Kt(t,h,Xn.newNoDocument(h,Ut.min()))}else Bt(1===s);else this.Jt(t)!==s&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((c,h)=>{const g=this.Ht(h);if(g){if(c.current&&zf(g.target)){const E=new ot(g.target.path);null!==this.$t.get(E)||this.Xt(h,E)||this.Kt(h,E,Xn.newNoDocument(E,e))}c.vt&&(t.set(h,c.St()),c.Dt())}});let s=rn();this.Bt.forEach((c,h)=>{let g=!0;h.forEachWhile(E=>{const A=this.Ht(E);return!A||2===A.purpose||(g=!1,!1)}),g&&(s=s.add(c))}),this.$t.forEach((c,h)=>h.setReadTime(e));const a=new Cl(e,t,this.Lt,this.$t,s);return this.$t=gs(),this.Bt=Bm(),this.Lt=new Fn(Kt),a}qt(e,t){if(!this.jt(e))return;const s=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,s),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,s){if(!this.jt(e))return;const a=this.Qt(e);this.Xt(e,t)?a.Ct(t,1):a.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),s&&(this.$t=this.$t.insert(t,s))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Vm,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Fn(Kt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Xe("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Vm),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function Bm(){return new qn(ot.comparator)}function yw(){return new qn(ot.comparator)}const vw={asc:"ASCENDING",desc:"DESCENDING"},WI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class jm{constructor(e,t){this.databaseId=e,this.dt=t}}function ni(n){return Bt(!!n),Ut.fromTimestamp(function(e){const t=Ga(e);return new tr(t.seconds,t.nanos)}(n))}function ww(n){const e=pn.fromString(n);return Bt(Xf(e)),e}function To(n,e){const t=ww(e);if(t.get(1)!==n.databaseId.projectId)throw new Ye(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ye(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ot(Iw(t))}function Qf(n,e){return function Hm(n,e){return(t=n,new pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}(n.databaseId,e)}function qd(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Iw(n){return Bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Cw(n,e){return{documents:[Qf(n,e.path)]}}function Aw(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Qf(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Qf(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(E){if(0===E.length)return;const A=E.map(O=>function(z){if("=="===z.op){if(Im(z.value))return{unaryFilter:{field:Qa(z.field),op:"IS_NAN"}};if(Ld(z.value))return{unaryFilter:{field:Qa(z.field),op:"IS_NULL"}}}else if("!="===z.op){if(Im(z.value))return{unaryFilter:{field:Qa(z.field),op:"IS_NOT_NAN"}};if(Ld(z.value))return{unaryFilter:{field:Qa(z.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(z.field),op:zm(z.op),value:z.value}}}(O));return 1===A.length?A[0]:{compositeFilter:{op:"AND",filters:A}}}(e.filters);a&&(t.structuredQuery.where=a);const c=function(E){if(0!==E.length)return E.map(A=>{return{field:Qa((O=A).field),direction:ZI(O.dir)};var O})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=(A=e.limit,n.dt||Od(A)?A:{value:A});var A,g,E;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function Gm(n){let e=function Ew(n){const e=ww(n);return 4===e.length?pn.emptyPath():Iw(e)}(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Bt(1===s);const O=t.from[0];O.allDescendants?a=O.collectionId:e=e.child(O.collectionId)}let c=[];t.where&&(c=Sw(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(O=>{return new Xu(cc((z=O).field),function(he){switch(he){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction));var z}));let g=null;t.limit&&(g=function(O){let z;return z="object"==typeof O?O.value:O,Od(z)?null:z}(t.limit));let E=null;var O;t.startAt&&(E=new ta((O=t.startAt).values||[],!!O.before));let A=null;return t.endAt&&(A=function(O){return new ta(O.values||[],!O.before)}(t.endAt)),function Sm(n,e,t,s,a,c,h,g){return new Eo(n,e,t,s,a,c,h,g)}(e,a,h,c,g,"F",E,A)}function Sw(n){return n?void 0!==n.unaryFilter?[QI(n)]:void 0!==n.fieldFilter?[Wm(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Sw(e)).reduce((e,t)=>e.concat(t)):bt():[]}function ZI(n){return vw[n]}function zm(n){return WI[n]}function Qa(n){return{fieldPath:n.canonicalString()}}function cc(n){return Pr.fromServerFormat(n.fieldPath)}function Wm(n){return pi.create(cc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value)}function QI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=cc(n.unaryFilter.field);return pi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=cc(n.unaryFilter.field);return pi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cc(n.unaryFilter.field);return pi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=cc(n.unaryFilter.field);return pi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}function Xf(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Xd{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&dw(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Tl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Tl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Um();return this.mutations.forEach(a=>{const c=e.get(a.key),h=c.overlayedDocument;let g=this.applyToLocalView(h,c.mutatedFields);g=t.has(a.key)?null:g;const E=Pm(h,g);null!==E&&s.set(a.key,E),h.isValidDocument()||h.convertToNoDocument(Ut.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&Wu(this.mutations,e.mutations,(t,s)=>bl(t,s))&&Wu(this.baseMutations,e.baseMutations,(t,s)=>bl(t,s))}}class Fw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ja{constructor(e,t,s,a,c=Ut.min(),h=Ut.min(),g=Lr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Lw{constructor(e){this.ne=e}}function Uw(n){const e=Gm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function FI(n,e,t){return new Eo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}(e,e.limit,"L"):e}class dc{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(yr(e.integerValue));else if("doubleValue"in e){const s=yr(e.doubleValue);isNaN(s)?this.ce(t,13):(this.ce(t,15),Pd(s)?t.ae(0):t.ae(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ce(t,20),"string"==typeof s?t.he(s):(t.he(`${s.seconds||""}`),t.ae(s.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Di(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ce(t,45),t.ae(s.latitude||0),t.ae(s.longitude||0)}else"mapValue"in e?Dm(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):bt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const s=e.fields||{};this.ce(t,55);for(const a of Object.keys(s))this.le(a,t),this.oe(s[a],t)}me(e,t){const s=e.values||[];this.ce(t,50);for(const a of s)this.oe(a,t)}_e(e,t){this.ce(t,37),ot.fromName(e).path.forEach(s=>{this.ce(t,60),this.ge(s,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}dc.ye=new dc;class dD{constructor(){this.ze=new ey}addToCollectionParentIndex(e,t){return this.ze.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(Li.min())}updateCollectionGroup(e,t,s){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class ey{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Fn(pn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Fn(pn.comparator)).toArray()}}new Uint8Array(0);class rs{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new rs(e,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}rs.DEFAULT_COLLECTION_PERCENTILE=10,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rs.DEFAULT=new rs(41943040,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rs.DISABLED=new rs(-1,0,0);class hc{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new hc(0)}static Rn(){return new hc(-1)}}class Yw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class oy{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.getBaseDocument(e,t,s))).next(a=>(null!==s&&Tl(s.mutation,a,Ls.empty(),tr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,rn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=rn()){const a=Do();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let h=Za();return c.forEach((g,E)=>{h=h.insert(g,E.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Do();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,rn()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((h,g)=>{t.set(h,g)})})}computeViews(e,t,s,a){let c=gs();const h=ra(),g=ra();return t.forEach((E,A)=>{const O=s.get(A.key);a.has(A.key)&&(void 0===O||O.mutation instanceof na)?c=c.insert(A.key,A):void 0!==O&&(h.set(A.key,O.mutation.getFieldMask()),Tl(O.mutation,A,O.mutation.getFieldMask(),tr.now()))}),this.recalculateAndSaveOverlays(e,c).next(E=>(E.forEach((A,O)=>h.set(A,O)),t.forEach((A,O)=>{var z;return g.set(A,new Yw(O,null!==(z=h.get(A))&&void 0!==z?z:null))}),g))}recalculateAndSaveOverlays(e,t){const s=ra();let a=new qn((h,g)=>h-g),c=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const g of h)g.keys().forEach(E=>{const A=t.get(E);if(null===A)return;let O=s.get(E)||Ls.empty();O=g.applyToLocalView(A,O),s.set(E,O);const z=(a.get(g.batchId)||rn()).add(E);a=a.insert(g.batchId,z)})}).next(()=>{const h=[],g=a.getReverseIterator();for(;g.hasNext();){const E=g.getNext(),A=E.key,O=E.value,z=Um();O.forEach(he=>{if(!c.has(he)){const Te=Pm(t.get(he),s.get(he));null!==Te&&z.set(he,Te),c=c.add(he)}}),h.push(this.documentOverlayCache.saveOverlays(e,A,z))}return me.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return ot.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Ka(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):me.resolve(Do());let g=-1,E=c;return h.next(A=>me.forEach(A,(O,z)=>(g<z.largestBatchId&&(g=z.largestBatchId),c.get(O)?me.resolve():this.getBaseDocument(e,O,z).next(he=>{E=E.insert(O,he)}))).next(()=>this.populateOverlays(e,A,c)).next(()=>this.computeViews(e,E,A,rn())).next(O=>({batchId:g,changes:gw(O)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ot(t)).next(s=>{let a=Za();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=Za();return this.indexManager.getCollectionParents(e,a).next(h=>me.forEach(h,g=>{const E=(A=t,O=g.child(a),new Eo(O,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,O;return this.getDocumentsMatchingCollectionQuery(e,E,s).next(A=>{A.forEach((O,z)=>{c=c.insert(O,z)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(c=>(a=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(c=>{c.forEach((g,E)=>{const A=E.getKey();null===a.get(A)&&(a=a.insert(A,Xn.newInvalidDocument(A)))});let h=Za();return a.forEach((g,E)=>{const A=c.get(g);void 0!==A&&Tl(A.mutation,E,Ls.empty(),tr.now()),Nt(t,E)&&(h=h.insert(g,E))}),h})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):me.resolve(Xn.newInvalidDocument(t))}}class Zw{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return me.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var s;return this.Jn.set(t.id,{id:(s=t).id,version:s.version,createTime:ni(s.createTime)}),me.resolve()}getNamedQuery(e,t){return me.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(s=t).name,query:Uw(s.bundledQuery),readTime:ni(s.readTime)}),me.resolve();var s}}class Qw{constructor(){this.overlays=new qn(ot.comparator),this.Xn=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Do();return me.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.ie(e,t,c)}),me.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Xn.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Xn.delete(s)),me.resolve()}getOverlaysForCollection(e,t,s){const a=Do(),c=t.length+1,h=new ot(t.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const E=g.getNext().value,A=E.getKey();if(!t.isPrefixOf(A.path))break;A.path.length===c&&E.largestBatchId>s&&a.set(E.getKey(),E)}return me.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new qn((A,O)=>A-O);const h=this.overlays.getIterator();for(;h.hasNext();){const A=h.getNext().value;if(A.getKey().getCollectionGroup()===t&&A.largestBatchId>s){let O=c.get(A.largestBatchId);null===O&&(O=Do(),c=c.insert(A.largestBatchId,O)),O.set(A.getKey(),A)}}const g=Do(),E=c.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((A,O)=>g.set(A,O)),!(g.size()>=a)););return me.resolve(g)}ie(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const h=this.Xn.get(a.largestBatchId).delete(s.key);this.Xn.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Fw(t,s));let c=this.Xn.get(t);void 0===c&&(c=rn(),this.Xn.set(t,c)),this.Xn.set(t,c.add(s.key))}}class ay{constructor(){this.Zn=new Fn(Hr.ts),this.es=new Fn(Hr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const s=new Hr(e,t);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.rs(new Hr(e,t))}os(e,t){e.forEach(s=>this.removeReference(s,t))}us(e){const t=new ot(new pn([])),s=new Hr(t,e),a=new Hr(t,e+1),c=[];return this.es.forEachInRange([s,a],h=>{this.rs(h),c.push(h.key)}),c}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ot(new pn([])),s=new Hr(t,e),a=new Hr(t,e+1);let c=rn();return this.es.forEachInRange([s,a],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new Hr(e,0),s=this.Zn.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Hr{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ot.comparator(e.key,t.key)||Kt(e.ls,t.ls)}static ns(e,t){return Kt(e.ls,t.ls)||ot.comparator(e.key,t.key)}}class Jw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Fn(Hr.ts)}checkEmpty(e){return me.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.fs;this.fs++;const h=new Xd(c,t,s,a);this.mutationQueue.push(h);for(const g of a)this.ds=this.ds.add(new Hr(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return me.resolve(h)}lookupMutationBatch(e,t){return me.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ws(t+1),c=a<0?0:a;return me.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Hr(t,0),a=new Hr(t,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([s,a],h=>{const g=this._s(h.ls);c.push(g)}),me.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Fn(Kt);return t.forEach(a=>{const c=new Hr(a,0),h=new Hr(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,h],g=>{s=s.add(g.ls)})}),me.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;ot.isDocumentKey(c)||(c=c.child(""));const h=new Hr(new ot(c),0);let g=new Fn(Kt);return this.ds.forEachWhile(E=>{const A=E.key.path;return!!s.isPrefixOf(A)&&(A.length===a&&(g=g.add(E.ls)),!0)},h),me.resolve(this.gs(g))}gs(e){const t=[];return e.forEach(s=>{const a=this._s(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Bt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let s=this.ds;return me.forEach(t.mutations,a=>{const c=new Hr(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=s})}In(e){}containsKey(e,t){const s=new Hr(t,0),a=this.ds.firstAfterOrEqual(s);return me.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return me.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yD{constructor(e){this.ps=e,this.docs=new qn(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,h=this.ps(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return me.resolve(s?s.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let s=gs();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Xn.newInvalidDocument(a))}),me.resolve(s)}getAllFromCollection(e,t,s){let a=gs();const c=new ot(t.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:g,value:{document:E}}=h.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||Bf(ym(E),s)<=0||(a=a.insert(E.key,E.mutableCopy()))}return me.resolve(a)}getAllFromCollectionGroup(e,t,s,a){bt()}Is(e,t){return me.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Xw(this)}getSize(e){return me.resolve(this.size)}}class Xw extends class qw{constructor(){this.changes=new oc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?me.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.zn.addEntry(e,a)):this.zn.removeEntry(s)}),me.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class vD{constructor(e){this.persistence=e,this.Ts=new oc(t=>Ju(t),Vd),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Es=0,this.As=new ay,this.targetCount=0,this.Rs=hc.An()}forEachTarget(e,t){return this.Ts.forEach((s,a)=>t(a)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Es&&(this.Es=t),me.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new hc(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.vn(t),me.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Ts.forEach((h,g)=>{g.sequenceNumber<=t&&null===s.get(g.targetId)&&(this.Ts.delete(h),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)}),me.waitFor(c).next(()=>a)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const s=this.Ts.get(t)||null;return me.resolve(s)}addMatchingKeys(e,t,s){return this.As.ss(t,s),me.resolve()}removeMatchingKeys(e,t,s){this.As.os(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(h=>{c.push(a.markPotentiallyOrphaned(e,h))}),me.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),me.resolve()}getMatchingKeysForTargetId(e,t){const s=this.As.hs(t);return me.resolve(s)}containsKey(e,t){return me.resolve(this.As.containsKey(t))}}class Ti{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Ui(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new vD(this),this.indexManager=new dD,this.remoteDocumentCache=new yD(s=>this.referenceDelegate.Ss(s)),this.wt=new Lw(t),this.Ds=new Zw(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Qw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.bs[e.toKey()];return s||(s=new Jw(t,this.referenceDelegate),this.bs[e.toKey()]=s),s}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,s){Xe("MemoryPersistence","Starting transaction:",e);const a=new kl(this.Ps.next());return this.referenceDelegate.Cs(),s(a).next(c=>this.referenceDelegate.xs(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ns(e,t){return me.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,t)))}}class kl extends class $_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.ks=new ay,this.Os=null}static Ms(e){return new dp(e)}get Fs(){if(this.Os)return this.Os;throw bt()}addReference(e,t,s){return this.ks.addReference(s,t),this.Fs.delete(s.toString()),me.resolve()}removeReference(e,t,s){return this.ks.removeReference(s,t),this.Fs.add(s.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),me.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(a=>this.Fs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Fs.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Fs,s=>{const a=ot.fromPath(s);return this.$s(e,a).next(c=>{c||t.removeEntry(a,Ut.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(s=>{s?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return me.or([()=>me.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class cy{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Pi=s,this.vi=a}static Vi(e,t){let s=rn(),a=rn();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new cy(e,t.fromCache,s,a)}}class e0{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ci(e,t).next(c=>c||this.xi(e,t,a,s)).next(c=>c||this.Ni(e,t))}Ci(e,t){return me.resolve(null)}xi(e,t,s,a){return function tc(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||a.isEqual(Ut.min())?this.Ni(e,t):this.Di.getDocuments(e,s).next(c=>{const h=this.ki(t,c);return this.Oi(t,h,s,a)?this.Ni(e,t):(hm()<=Ne.in.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),sw(t)),this.Mi(e,h,t,function j_(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Ut.fromTimestamp(1e9===s?new tr(t+1,0):new tr(t,s));return new Li(a,ot.empty(),e)}(a,-1)))})}ki(e,t){let s=new Fn(aw(e));return t.forEach((a,c)=>{Nt(e,c)&&(s=s.add(c))}),s}Oi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ni(e,t){return hm()<=Ne.in.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",sw(t)),this.Di.getDocumentsMatchingQuery(e,t,Li.min())}Mi(e,t,s,a){return this.Di.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(h=>{c=c.insert(h.key,h)}),c))}}class ly{constructor(e,t,s,a){this.persistence=e,this.Fi=t,this.wt=a,this.$i=new qn(Kt),this.Bi=new oc(c=>Ju(c),Vd),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(s)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oy(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function hy(n,e){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,G.Z)(function*(n,e){const t=dt(n);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.qi(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const h=[],g=[];let E=rn();for(const A of a){h.push(A.batchId);for(const O of A.mutations)E=E.add(O.key)}for(const A of c){g.push(A.batchId);for(const O of A.mutations)E=E.add(O.key)}return t.localDocuments.getDocuments(s,E).next(A=>({Ki:A,removedBatchIds:h,addedBatchIds:g}))})})}),Nl.apply(this,arguments)}function ED(n){const e=dt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function t0(n,e){const t=dt(n),s=e.snapshotVersion;let a=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.Ui.newChangeBuffer({trackRemovals:!0});a=t.$i;const g=[];e.targetChanges.forEach((O,z)=>{const he=a.get(z);if(!he)return;g.push(t.Vs.removeMatchingKeys(c,O.removedDocuments,z).next(()=>t.Vs.addMatchingKeys(c,O.addedDocuments,z)));let Te=he.withSequenceNumber(c.currentSequenceNumber);var He,gt,St;e.targetMismatches.has(z)?Te=Te.withResumeToken(Lr.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):O.resumeToken.approximateByteSize()>0&&(Te=Te.withResumeToken(O.resumeToken,s)),a=a.insert(z,Te),gt=Te,St=O,(0===(He=he).resumeToken.approximateByteSize()||gt.snapshotVersion.toMicroseconds()-He.snapshotVersion.toMicroseconds()>=3e8||St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0)&&g.push(t.Vs.updateTargetData(c,Te))});let E=gs(),A=rn();if(e.documentUpdates.forEach(O=>{e.resolvedLimboDocuments.has(O)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(c,O))}),g.push(function n0(n,e,t){let s=rn(),a=rn();return t.forEach(c=>s=s.add(c)),e.getEntries(n,s).next(c=>{let h=gs();return t.forEach((g,E)=>{const A=c.get(g);E.isFoundDocument()!==A.isFoundDocument()&&(a=a.add(g)),E.isNoDocument()&&E.version.isEqual(Ut.min())?(e.removeEntry(g,E.readTime),h=h.insert(g,E)):!A.isValidDocument()||E.version.compareTo(A.version)>0||0===E.version.compareTo(A.version)&&A.hasPendingWrites?(e.addEntry(E),h=h.insert(g,E)):Xe("LocalStore","Ignoring outdated watch update for ",g,". Current version:",A.version," Watch version:",E.version)}),{Gi:h,Qi:a}})}(c,h,e.documentUpdates).next(O=>{E=O.Gi,A=O.Qi})),!s.isEqual(Ut.min())){const O=t.Vs.getLastRemoteSnapshotVersion(c).next(z=>t.Vs.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(O)}return me.waitFor(g).next(()=>h.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,E,A)).next(()=>E)}).then(c=>(t.$i=a,c))}function oa(n,e){const t=dt(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Vs.getTargetData(s,e).next(c=>c?(a=c,me.resolve(a)):t.Vs.allocateTargetId(s).next(h=>(a=new Ja(e,h,0,s.currentSequenceNumber),t.Vs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.$i.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.$i=t.$i.insert(s.targetId,s),t.Bi.set(e,s.targetId)),s})}function yc(n,e,t){return py.apply(this,arguments)}function py(){return py=(0,G.Z)(function*(n,e,t){const s=dt(n),a=s.$i.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,h=>s.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!$a(h))throw h;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.$i=s.$i.remove(e),s.Bi.delete(a.target)}),py.apply(this,arguments)}function Ol(n,e,t){const s=dt(n);let a=Ut.min(),c=rn();return s.persistence.runTransaction("Execute query","readonly",h=>function(g,E,A){const O=dt(g),z=O.Bi.get(A);return void 0!==z?me.resolve(O.$i.get(z)):O.Vs.getTargetData(E,A)}(s,h,ns(e)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,s.Vs.getMatchingKeysForTargetId(h,g.targetId).next(E=>{c=E})}).next(()=>s.Fi.getDocumentsMatchingQuery(h,e,t?a:Ut.min(),t?c:rn())).next(g=>(function s0(n,e,t){let s=Ut.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),n.Li.set(e,s)}(s,function ow(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),g),{documents:g,ji:c})))}class _p{constructor(){this.activeTargetIds=Yf()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _y{constructor(){this.Fr=new _p,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,s){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new _p,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TD{Br(e){}shutdown(){}}class a0{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const XT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class u0{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class eb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,s,a,c){const h=this.oo(e,t);Xe("RestConnection","Sending: ",h,s);const g={};return this.uo(g,a,c),this.co(e,h,g,s).then(E=>(Xe("RestConnection","Received: ",E),E),E=>{throw Ad("RestConnection",`${e} failed with error: `,E,"url: ",h,"request:",s),E})}ao(e,t,s,a,c,h){return this.ro(e,t,s,a,c)}uo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+zu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}oo(e,t){return`${this.so}/v1/${t}:${XT[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,s,a){return new Promise((c,h)=>{const g=new F_;g.listenOnce(TI.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case N_.NO_ERROR:const A=g.getResponseJson();Xe("Connection","XHR received:",JSON.stringify(A)),c(A);break;case N_.TIMEOUT:Xe("Connection",'RPC "'+e+'" timed out'),h(new Ye(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case N_.HTTP_ERROR:const O=g.getStatus();if(Xe("Connection",'RPC "'+e+'" failed with status:',O,"response text:",g.getResponseText()),O>0){const z=g.getResponseJson().error;if(z&&z.status&&z.message){const he=function(Te){const He=Te.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(He)>=0?He:Ee.UNKNOWN}(z.status);h(new Ye(he,z.message))}else h(new Ye(Ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new Ye(Ee.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{Xe("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(a);g.send(t,"POST",E,s,15)})}ho(e,t,s){const a=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=DI(),h=k_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new P_({})),this.uo(g.initMessageHeaders,t,s),(0,Ce.uI)()||(0,Ce.b$)()||(0,Ce.d)()||(0,Ce.w1)()||(0,Ce.Mn)()||(0,Ce.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const E=a.join("");Xe("Connection","Creating WebChannel: "+E,g);const A=c.createWebChannel(E,g);let O=!1,z=!1;const he=new u0({jr:He=>{z?Xe("Connection","Not sending because WebChannel is closed:",He):(O||(Xe("Connection","Opening WebChannel transport."),A.open(),O=!0),Xe("Connection","WebChannel sending:",He),A.send(He))},Wr:()=>A.close()}),Te=(He,gt,St)=>{He.listen(gt,Rn=>{try{St(Rn)}catch(nr){setTimeout(()=>{throw nr},0)}})};return Te(A,Ff.EventType.OPEN,()=>{z||Xe("Connection","WebChannel transport opened.")}),Te(A,Ff.EventType.CLOSE,()=>{z||(z=!0,Xe("Connection","WebChannel transport closed"),he.eo())}),Te(A,Ff.EventType.ERROR,He=>{z||(z=!0,Ad("Connection","WebChannel transport errored:",He),he.eo(new Ye(Ee.UNAVAILABLE,"The operation could not be completed")))}),Te(A,Ff.EventType.MESSAGE,He=>{var gt;if(!z){const St=He.data[0];Bt(!!St);const Rn=St,nr=Rn.error||(null===(gt=Rn[0])||void 0===gt?void 0:gt.error);if(nr){Xe("Connection","WebChannel received error:",nr);const rr=nr.status;let mi=function(hr){const Bi=Sr[hr];if(void 0!==Bi)return jI(Bi)}(rr),Ur=nr.message;void 0===mi&&(mi=Ee.INTERNAL,Ur="Unknown error status: "+rr+" with message "+nr.message),z=!0,he.eo(new Ye(mi,Ur)),A.close()}else Xe("Connection","WebChannel received:",St),he.no(St)}}),Te(h,ml.STAT_EVENT,He=>{He.stat===O_.PROXY?Xe("Connection","Detected buffering proxy"):He.stat===O_.NOPROXY&&Xe("Connection","Detected no buffering proxy")}),setTimeout(()=>{he.Zr()},0),he}}function wy(){return"undefined"!=typeof document?document:null}function Ep(n){return new jm(n,!0)}class c0{constructor(e,t,s=1e3,a=1.5,c=6e4){this.js=e,this.timerId=t,this.lo=s,this.fo=a,this._o=c,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),s=Math.max(0,Date.now()-this.yo),a=Math.max(0,t-s);a>0&&Xe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,a,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class nb extends class tb{constructor(e,t,s,a,c,h,g,E){this.js=e,this.Ao=s,this.Ro=a,this.bo=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=E,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new c0(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,G.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,G.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var s=this;return(0,G.Z)(function*(){s.Fo(),s.$o(),s.So.cancel(),s.Po++,4!==e?s.So.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),s.So.po()):t&&t.code===Ee.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Bo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Po===t&&this.Uo(s,a)},s=>{e(()=>{const a=new Ye(Ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.qo(a)})})}Uo(e,t){const s=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{s(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(a=>{s(()=>this.qo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}xo(){var e=this;this.state=5,this.So.Io((0,G.Z)(function*(){e.state=0,e.start()}))}qo(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,t,s,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,h),this.wt=c}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function KI(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:bt(),a=e.targetChange.targetIds||[],c=function(E,A){return E.dt?(Bt(void 0===A||"string"==typeof A),Lr.fromBase64String(A||"")):(Bt(void 0===A||A instanceof Uint8Array),Lr.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(E){const A=void 0===E.code?Ee.UNKNOWN:jI(E.code);return new Ye(A,E.message||"")}(h);t=new mw(s,a,c,g||null)}else if("documentChange"in e){const s=e.documentChange,a=To(n,s.document.name),c=ni(s.document.updateTime),h=new fi({mapValue:{fields:s.document.fields}}),g=Xn.newFoundDocument(a,c,h);t=new Zf(s.targetIds||[],s.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const s=e.documentDelete,a=To(n,s.document),c=s.readTime?ni(s.readTime):Ut.min(),h=Xn.newNoDocument(a,c);t=new Zf([],s.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const s=e.documentRemove,a=To(n,s.document);t=new Zf([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return bt();{const s=e.filter,c=new BI(s.count||0);t=new ac(s.targetId,c)}}var E;return t}(this.wt,e),s=function(a){if(!("targetChange"in a))return Ut.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ut.min():c.readTime?ni(c.readTime):Ut.min()}(e);return this.listener.Go(t,s)}Qo(e){const t={};t.database=qd(this.wt),t.addTarget=function(a,c){let h;const g=c.target;return h=zf(g)?{documents:Cw(a,g)}:{query:Aw(a,g)},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?h.resumeToken=function $m(n,e){return n.dt?e.toBase64():e.toUint8Array()}(a,c.resumeToken):c.snapshotVersion.compareTo(Ut.min())>0&&(h.readTime=function Wd(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(a,c.snapshotVersion.toTimestamp())),h}(this.wt,e);const s=function YI(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Mo(t)}jo(e){const t={};t.database=qd(this.wt),t.removeTarget=e,this.Mo(t)}}class Ip extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=s,this.wt=a,this.Zo=!1}tu(){if(this.Zo)throw new Ye(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.bo.ro(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ye(Ee.UNKNOWN,a.toString())})}ao(e,t,s,a){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.bo.ao(e,t,s,c,h,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ye(Ee.UNKNOWN,c.toString())})}terminate(){this.Zo=!0}}class ib{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Or(t),this.su=!1):Xe("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class l0{constructor(e,t,s,a,c){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=c,this.du.Br(g=>{s.enqueueAndForget((0,G.Z)(function*(){var E;su(h)&&(Xe("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,G.Z)(function*(A){const O=dt(A);O.lu.add(4),yield _c(O),O._u.set("Unknown"),O.lu.delete(4),yield vc(O)}),function(A){return E.apply(this,arguments)})(h))}))}),this._u=new ib(s,a)}}function vc(n){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,G.Z)(function*(n){if(su(n))for(const e of n.fu)yield e(!0)}),Dp.apply(this,arguments)}function _c(n){return d0.apply(this,arguments)}function d0(){return d0=(0,G.Z)(function*(n){for(const e of n.fu)yield e(!1)}),d0.apply(this,arguments)}function Fl(n,e){const t=dt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Dy(t)?h0(t):wc(t).Co()&&Ey(t,e))}function Ll(n,e){const t=dt(n),s=wc(t);t.hu.delete(e),s.Co()&&Iy(t,e),0===t.hu.size&&(s.Co()?s.ko():su(t)&&t._u.set("Unknown"))}function Ey(n,e){n.wu.Nt(e.targetId),wc(n).Qo(e)}function Iy(n,e){n.wu.Nt(e),wc(n).jo(e)}function h0(n){n.wu=new zI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),wc(n).start(),n._u.iu()}function Dy(n){return su(n)&&!wc(n).Do()&&n.hu.size>0}function su(n){return 0===dt(n).lu.size}function Tp(n){n.wu=void 0}function CD(n){return f0.apply(this,arguments)}function f0(){return f0=(0,G.Z)(function*(n){n.hu.forEach((e,t)=>{Ey(n,e)})}),f0.apply(this,arguments)}function sb(n,e){return p0.apply(this,arguments)}function p0(){return p0=(0,G.Z)(function*(n,e){Tp(n),Dy(n)?(n._u.uu(e),h0(n)):n._u.set("Unknown")}),p0.apply(this,arguments)}function AD(n,e,t){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,G.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof mw&&2===e.state&&e.cause)try{yield(s=(0,G.Z)(function*(a,c){const h=c.cause;for(const g of c.targetIds)a.hu.has(g)&&(yield a.remoteSyncer.rejectListen(g,h),a.hu.delete(g),a.wu.removeTarget(g))}),function(a,c){return s.apply(this,arguments)})(n,e)}catch(s){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield bp(n,s)}else if(e instanceof Zf?n.wu.Ut(e):e instanceof ac?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Ut.min()))try{const s=yield ED(n.localStore);t.compareTo(s)>=0&&(yield function(a,c){const h=a.wu.Yt(c);return h.targetChanges.forEach((g,E)=>{if(g.resumeToken.approximateByteSize()>0){const A=a.hu.get(E);A&&a.hu.set(E,A.withResumeToken(g.resumeToken,c))}}),h.targetMismatches.forEach(g=>{const E=a.hu.get(g);if(!E)return;a.hu.set(g,E.withResumeToken(Lr.EMPTY_BYTE_STRING,E.snapshotVersion)),Iy(a,g);const A=new Ja(E.target,g,1,E.sequenceNumber);Ey(a,A)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(s){Xe("RemoteStore","Failed to raise snapshot:",s),yield bp(n,s)}var s}),Ty.apply(this,arguments)}function bp(n,e,t){return g0.apply(this,arguments)}function g0(){return g0=(0,G.Z)(function*(n,e,t){if(!$a(e))throw e;n.lu.add(1),yield _c(n),n._u.set("Offline"),t||(t=()=>ED(n.localStore)),n.asyncQueue.enqueueRetryable((0,G.Z)(function*(){Xe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield vc(n)}))}),g0.apply(this,arguments)}function _0(n,e){return ah.apply(this,arguments)}function ah(){return ah=(0,G.Z)(function*(n,e){const t=dt(n);t.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const s=su(t);t.lu.add(3),yield _c(t),s&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield vc(t)}),ah.apply(this,arguments)}function xp(){return xp=(0,G.Z)(function*(n,e){const t=dt(n);e?(t.lu.delete(2),yield vc(t)):e||(t.lu.add(2),yield _c(t),t._u.set("Unknown"))}),xp.apply(this,arguments)}function wc(n){return n.mu||(n.mu=function(e,t,s){const a=dt(e);return a.tu(),new nb(t,a.bo,a.authCredentials,a.appCheckCredentials,a.wt,s)}(n.datastore,n.asyncQueue,{zr:CD.bind(null,n),Jr:sb.bind(null,n),Go:AD.bind(null,n)}),n.fu.push(function(){var e=(0,G.Z)(function*(t){t?(n.mu.No(),Dy(n)?h0(n):n._u.set("Unknown")):(yield n.mu.stop(),Tp(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}class w0{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,s,a,c){const h=Date.now()+s,g=new w0(e,t,h,a,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ye(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ul(n,e){if(Or("AsyncQueue",`${e}: ${n}`),$a(n))return new Ye(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}class Vl{constructor(e){this.comparator=e?(t,s)=>e(t,s)||ot.comparator(t.key,s.key):(t,s)=>ot.comparator(t.key,s.key),this.keyedMap=Za(),this.sortedSet=new qn(this.comparator)}static emptySet(e){return new Vl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Vl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class E0{constructor(){this.yu=new qn(ot.comparator)}track(e){const t=e.doc.key,s=this.yu.get(t);s?0!==e.type&&3===s.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==s.type?this.yu=this.yu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.yu=this.yu.remove(t):1===e.type&&2===s.type?this.yu=this.yu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):bt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ec{constructor(e,t,s,a,c,h,g,E){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,s,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Ec(e,t,Vl.emptySet(t),c,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&El(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class kD{constructor(){this.Iu=void 0,this.listeners=[]}}class ND{constructor(){this.queries=new oc(e=>Rm(e),El),this.onlineState="Unknown",this.Tu=new Set}}function uh(){return uh=(0,G.Z)(function*(n,e){const t=dt(n),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new kD),a)try{c.Iu=yield t.onListen(s)}catch(h){const g=Ul(h,`Initialization of query '${sw(e.query)}' failed`);return void e.onError(g)}t.queries.set(s,c),c.listeners.push(e),e.Eu(t.onlineState),c.Iu&&e.Au(c.Iu)&&ch(t)}),uh.apply(this,arguments)}function Ay(){return Ay=(0,G.Z)(function*(n,e){const t=dt(n),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const h=c.listeners.indexOf(e);h>=0&&(c.listeners.splice(h,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Ay.apply(this,arguments)}function OD(n,e){const t=dt(n);let s=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const g of h.listeners)g.Au(a)&&(s=!0);h.Iu=a}}s&&ch(t)}function D0(n,e,t){const s=dt(n),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function ch(n){n.Tu.forEach(e=>{e.next()})}class lh{constructor(e,t,s){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=s||{}}Au(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Ec(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Ec.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class PD{constructor(e){this.key=e}}class A0{constructor(e){this.key=e}}class FD{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=rn(),this.mutatedKeys=rn(),this.Lu=aw(e),this.Uu=new Vl(this.Lu)}get qu(){return this.Fu}Ku(e,t){const s=t?t.Gu:new E0,a=t?t.Uu:this.Uu;let c=t?t.mutatedKeys:this.mutatedKeys,h=a,g=!1;const E="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,A="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((O,z)=>{const he=a.get(O),Te=Nt(this.query,z)?z:null,He=!!he&&this.mutatedKeys.has(he.key),gt=!!Te&&(Te.hasLocalMutations||this.mutatedKeys.has(Te.key)&&Te.hasCommittedMutations);let St=!1;he&&Te?he.data.isEqual(Te.data)?He!==gt&&(s.track({type:3,doc:Te}),St=!0):this.Qu(he,Te)||(s.track({type:2,doc:Te}),St=!0,(E&&this.Lu(Te,E)>0||A&&this.Lu(Te,A)<0)&&(g=!0)):!he&&Te?(s.track({type:0,doc:Te}),St=!0):he&&!Te&&(s.track({type:1,doc:he}),St=!0,(E||A)&&(g=!0)),St&&(Te?(h=h.add(Te),c=gt?c.add(O):c.delete(O)):(h=h.delete(O),c=c.delete(O)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const O="F"===this.query.limitType?h.last():h.first();h=h.delete(O.key),c=c.delete(O.key),s.track({type:1,doc:O})}return{Uu:h,Gu:s,Oi:g,mutatedKeys:c}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const c=e.Gu.pu();c.sort((A,O)=>function(z,he){const Te=He=>{switch(He){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return Te(z)-Te(he)}(A.type,O.type)||this.Lu(A.doc,O.doc)),this.ju(s);const h=t?this.Wu():[],g=0===this.Bu.size&&this.current?1:0,E=g!==this.$u;return this.$u=g,0!==c.length||E?{snapshot:new Ec(this.query,e.Uu,a,c,e.mutatedKeys,0===g,E,!1),zu:h}:{zu:h}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new E0,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=rn(),this.Uu.forEach(s=>{this.Hu(s.key)&&(this.Bu=this.Bu.add(s.key))});const t=[];return e.forEach(s=>{this.Bu.has(s)||t.push(new A0(s))}),this.Bu.forEach(s=>{e.has(s)||t.push(new PD(s))}),t}Ju(e){this.Fu=e.ji,this.Bu=rn();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Ec.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class ob{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class S0{constructor(e){this.key=e,this.Xu=!1}}class LD{constructor(e,t,s,a,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Zu={},this.tc=new oc(g=>Rm(g),El),this.ec=new Map,this.nc=new Set,this.sc=new qn(ot.comparator),this.ic=new Map,this.rc=new ay,this.oc={},this.uc=new Map,this.cc=hc.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function UD(n,e){return xy.apply(this,arguments)}function xy(){return xy=(0,G.Z)(function*(n,e){const t=G0(n);let s,a;const c=t.tc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.Yu();else{const h=yield oa(t.localStore,ns(e));t.isPrimaryClient&&Fl(t.remoteStore,h);const g=t.sharedClientState.addLocalQueryTarget(h.targetId);s=h.targetId,a=yield x0(t,e,s,"current"===g)}return a}),xy.apply(this,arguments)}function x0(n,e,t,s){return M0.apply(this,arguments)}function M0(){return M0=(0,G.Z)(function*(n,e,t,s){n.hc=(O,z,he)=>{return(Te=(0,G.Z)(function*(He,gt,St,Rn){let nr=gt.view.Ku(St);nr.Oi&&(nr=yield Ol(He.localStore,gt.query,!1).then(({documents:Ur})=>gt.view.Ku(Ur,nr)));const rr=Rn&&Rn.targetChanges.get(gt.targetId),mi=gt.view.applyChanges(nr,He.isPrimaryClient,rr);return F0(He,gt.targetId,mi.zu),mi.snapshot}),function(He,gt,St,Rn){return Te.apply(this,arguments)})(n,O,z,he);var Te};const a=yield Ol(n.localStore,e,!0),c=new FD(e,a.ji),h=c.Ku(a.documents),g=zd.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),E=c.applyChanges(h,n.isPrimaryClient,g);F0(n,t,E.zu);const A=new ob(e,t,c);return n.tc.set(e,A),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),E.snapshot}),M0.apply(this,arguments)}function ab(n,e){return R0.apply(this,arguments)}function R0(){return R0=(0,G.Z)(function*(n,e){const t=dt(n),s=t.tc.get(e),a=t.ec.get(s.targetId);if(a.length>1)return t.ec.set(s.targetId,a.filter(c=>!El(c,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield yc(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Ll(t.remoteStore,s.targetId),ph(t,s.targetId)}).catch(Jo))):(ph(t,s.targetId),yield yc(t.localStore,s.targetId,!0))}),R0.apply(this,arguments)}function dh(n,e){return Ry.apply(this,arguments)}function Ry(){return Ry=(0,G.Z)(function*(n,e){const t=dt(n);try{const s=yield t0(t.localStore,e);e.targetChanges.forEach((a,c)=>{const h=t.ic.get(c);h&&(Bt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Xu=!0:a.modifiedDocuments.size>0?Bt(h.Xu):a.removedDocuments.size>0&&(Bt(h.Xu),h.Xu=!1))}),yield ca(t,s,e)}catch(s){yield Jo(s)}}),Ry.apply(this,arguments)}function k0(n,e,t){const s=dt(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.tc.forEach((c,h)=>{const g=h.view.Eu(e);g.snapshot&&a.push(g.snapshot)}),function(c,h){const g=dt(c);g.onlineState=h;let E=!1;g.queries.forEach((A,O)=>{for(const z of O.listeners)z.Eu(h)&&(E=!0)}),E&&ch(g)}(s.eventManager,e),a.length&&s.Zu.Go(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function N0(n,e,t){return ua.apply(this,arguments)}function ua(){return ua=(0,G.Z)(function*(n,e,t){const s=dt(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.ic.get(e),c=a&&a.key;if(c){let h=new qn(ot.comparator);h=h.insert(c,Xn.newNoDocument(c,Ut.min()));const g=rn().add(c),E=new Cl(Ut.min(),new Map,new Fn(Kt),h,g);yield dh(s,E),s.sc=s.sc.remove(c),s.ic.delete(e),Py(s)}else yield yc(s.localStore,e,!1).then(()=>ph(s,e,t)).catch(Jo)}),ua.apply(this,arguments)}function ph(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.ec.get(e))n.tc.delete(s),t&&n.Zu.lc(s,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(s=>{n.rc.containsKey(s)||VD(n,s)})}function VD(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(Ll(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),Py(n))}function F0(n,e,t){for(const s of t)s instanceof PD?(n.rc.addReference(s.key,e),L0(n,s)):s instanceof A0?(Xe("SyncEngine","Document no longer in limbo: "+s.key),n.rc.removeReference(s.key,e),n.rc.containsKey(s.key)||VD(n,s.key)):bt()}function L0(n,e){const t=e.key,s=t.path.canonicalString();n.sc.get(t)||n.nc.has(s)||(Xe("SyncEngine","New document in limbo: "+t),n.nc.add(s),Py(n))}function Py(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new ot(pn.fromString(e)),s=n.cc.next();n.ic.set(s,new S0(t)),n.sc=n.sc.insert(t,s),Fl(n.remoteStore,new Ja(ns(ec(t.path)),s,2,Ui.ot))}}function ca(n,e,t){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,G.Z)(function*(n,e,t){const s=dt(n),a=[],c=[],h=[];var g;s.tc.isEmpty()||(s.tc.forEach((g,E)=>{h.push(s.hc(E,e,t).then(A=>{if(A){s.isPrimaryClient&&s.sharedClientState.updateQueryState(E.targetId,A.fromCache?"not-current":"current"),a.push(A);const O=cy.Vi(E.targetId,A);c.push(O)}}))}),yield Promise.all(h),s.Zu.Go(a),yield(g=(0,G.Z)(function*(E,A){const O=dt(E);try{yield O.persistence.runTransaction("notifyLocalViewChanges","readwrite",z=>me.forEach(A,he=>me.forEach(he.Pi,Te=>O.persistence.referenceDelegate.addReference(z,he.targetId,Te)).next(()=>me.forEach(he.vi,Te=>O.persistence.referenceDelegate.removeReference(z,he.targetId,Te)))))}catch(z){if(!$a(z))throw z;Xe("LocalStore","Failed to update sequence numbers: "+z)}for(const z of A){const he=z.targetId;if(!z.fromCache){const Te=O.$i.get(he),gt=Te.withLastLimboFreeSnapshotVersion(Te.snapshotVersion);O.$i=O.$i.insert(he,gt)}}}),function(E,A){return g.apply(this,arguments)})(s.localStore,c))}),Fy.apply(this,arguments)}function BD(n,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,G.Z)(function*(n,e){const t=dt(n);if(!t.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const s=yield hy(t.localStore,e);t.currentUser=e,(a=t).uc.forEach(h=>{h.forEach(g=>{g.reject(new Ye(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.uc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield ca(t,s.Ki)}var a}),Rp.apply(this,arguments)}function U0(n,e){const t=dt(n),s=t.ic.get(e);if(s&&s.Xu)return rn().add(s.key);{let a=rn();const c=t.ec.get(e);if(!c)return a;for(const h of c){const g=t.tc.get(h);a=a.unionWith(g.view.qu)}return a}}function G0(n){const e=dt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N0.bind(null,e),e.Zu.Go=OD.bind(null,e.eventManager),e.Zu.lc=D0.bind(null,e.eventManager),e}class GD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,G.Z)(function*(){t.wt=Ep(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return function dy(n,e,t,s){return new ly(n,e,t,s)}(this.persistence,new e0,e.initialUser,this.wt)}_c(e){return new Ti(dp.Ms,this.wt)}dc(e){return new _y}terminate(){var e=this;return(0,G.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class W0{initialize(e,t){var s=this;return(0,G.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>k0(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=BD.bind(null,s.syncEngine),yield function aa(n,e){return xp.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ND}createDatastore(e){const t=Ep(e.databaseInfo.databaseId),s=new eb(e.databaseInfo);return new Ip(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=g=>k0(this.syncEngine,g,0),h=a0.V()?new a0:new TD,new l0(t,s,a,c,h);var t,s,a,c,h}createSyncEngine(e,t){return function(s,a,c,h,g,E,A){const O=new LD(s,a,c,h,g,E);return A&&(O.ac=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,G.Z)(function*(t){const s=dt(t);Xe("RemoteStore","RemoteStore shutting down."),s.lu.add(5),yield _c(s),s.du.shutdown(),s._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class r{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class l{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=ti.UNAUTHENTICATED,this.clientId=class Uf{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=CI(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var h=(0,G.Z)(function*(g){Xe("FirestoreClient","Received user=",g.uid),yield c.authCredentialListener(g),c.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(s,h=>(Xe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,G.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ye(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,G.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Ul(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function d(n,e){return f.apply(this,arguments)}function f(){return f=(0,G.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,G.Z)(function*(c){s.isEqual(c)||(yield hy(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),f.apply(this,arguments)}function y(n,e){return _.apply(this,arguments)}function _(){return _=(0,G.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield S(n);Xe("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>_0(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,c)=>_0(e.remoteStore,c)),n.onlineComponents=e}),_.apply(this,arguments)}function S(n){return R.apply(this,arguments)}function R(){return R=(0,G.Z)(function*(n){return n.offlineComponents||(Xe("FirestoreClient","Using default OfflineComponentProvider"),yield d(n,new GD)),n.offlineComponents}),R.apply(this,arguments)}function U(n){return Y.apply(this,arguments)}function Y(){return Y=(0,G.Z)(function*(n){return n.onlineComponents||(Xe("FirestoreClient","Using default OnlineComponentProvider"),yield y(n,new W0)),n.onlineComponents}),Y.apply(this,arguments)}function at(n){return ke.apply(this,arguments)}function ke(){return ke=(0,G.Z)(function*(n){const e=yield U(n),t=e.eventManager;return t.onListen=UD.bind(null,e.syncEngine),t.onUnlisten=ab.bind(null,e.syncEngine),t}),ke.apply(this,arguments)}const Op=new Map;function pb(n){if(ot.isDocumentKey(n))throw new Ye(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ye(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function q0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":bt()}(n);throw new Ye(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class mb{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ye(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ye(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function zy(n,e,t,s){if(!0===e&&!0===s)throw new Ye(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wy{constructor(e,t,s){this._authCredentials=t,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mb({}),this._settingsFrozen=!1,e instanceof za?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ye(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(a.options.projectId)}(e))}get app(){if(!this._app)throw new Ye(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ye(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mb(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new U_;switch(t.type){case"gapi":const s=t.client;return Bt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Lf(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ye(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Op.get(e);t&&(Xe("ComponentProvider","Removing Datastore"),Op.delete(e),t.terminate())}(this),Promise.resolve()}}class Gr{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gr(this.firestore,e,this._key)}}class ss{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class uu extends ss{constructor(e,t,s){super(e,t,ec(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new ot(e))}withConverter(e){return new uu(this.firestore,e,this._path)}}function iC(n,e,...t){if(n=(0,Ce.m9)(n),function mh(n,e,t){if(!t)throw new Ye(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}("collection","path",e),n instanceof Wy){const s=pn.fromString(e,...t);return pb(s),new uu(n,null,s)}{if(!(n instanceof Gr||n instanceof uu))throw new Ye(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(pn.fromString(e,...t));return pb(s),new uu(n.firestore,null,s)}}class aC{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new c0(this,"async_queue_retry"),this.Kc=()=>{const t=wy();t&&Xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=wy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=wy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new di;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,G.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!$a(t))throw t;Xe("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(s=>{throw this.Bc=s,this.Lc=!1,Or("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(s)),s}).then(s=>(this.Lc=!1,s))));return this.Oc=t,t}enqueueAfterDelay(e,t,s){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const a=w0.createAndSchedule(this,e,t,s,c=>this.Wc(c));return this.$c.push(a),a}Gc(){this.Bc&&bt()}verifyOperationInProgress(){}zc(){var e=this;return(0,G.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function WD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class _r extends Wy{constructor(e,t,s){super(e,t,s),this.type="firestore",this._queue=new aC,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||yb(this),this._firestoreClient.terminate()}}function cC(n=(0,Oe.Mq)()){return(0,Oe.qX)(n,"firestore").getImmediate()}function yb(n){var e;const t=n._freezeSettings(),s=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new W_(n._databaseId,c,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var c,g;n._firestoreClient=new l(n._authCredentials,n._appCheckCredentials,n._queue,s)}class Fp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ye(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yh(Lr.fromBase64String(e))}catch(t){throw new Ye(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yh(Lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class qD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ye(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ye(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const mC=new RegExp("[~\\*/\\[\\]]");function Z0(n,e,t,s,a){const c=s&&!s.isEmpty(),h=void 0!==a;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let E="";return(c||h)&&(E+=" (found",c&&(E+=` in field ${s}`),h&&(E+=` in document ${a}`),E+=")"),new Ye(Ee.INVALID_ARGUMENT,g+n+E)}class JD{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Q0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yC extends JD{data(){return super.data()}}function Q0(n,e){return"string"==typeof e?function Y0(n,e,t){if(e.search(mC)>=0)throw Z0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fp(...e.split("."))._internalPath}catch(s){throw Z0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof Fp?e._internalPath:e._delegate._internalPath}class _h{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Up extends JD{constructor(e,t,s,a,c,h){super(e,t,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new J0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Q0("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class J0 extends Up{data(e={}){return super.data(e)}}class Vp{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new _h(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new J0(this._firestore,this._userDataWriter,s.key,s,new _h(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ye(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(h=>({type:"added",doc:new J0(s._firestore,s._userDataWriter,h.doc.key,h.doc,new _h(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const g=new J0(s._firestore,s._userDataWriter,h.doc.key,h.doc,new _h(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let E=-1,A=-1;return 0!==h.type&&(E=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),1!==h.type&&(c=c.add(h.doc),A=c.indexOf(h.doc.key)),{type:vC(h.type),doc:g,oldIndex:E,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt()}}class wh extends class IC{convertValue(e,t="none"){switch(Zu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bt()}}convertObject(e,t){const s={};return Ha(e.fields,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new qD(yr(e.latitude),yr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Us(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const t=Ga(e);return new tr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=pn.fromString(e);Bt(Xf(s));const a=new za(s.get(1),s.get(3)),c=new ot(s.popFirst(5));return a.isEqual(t)||Or(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new yh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,t)}}!function(n,e=!0){zu=Oe.Jn,(0,Oe.Xd)(new X.wA("firestore",(t,{options:s})=>{const a=t.getProvider("app").getImmediate(),c=new _r(a,new gm(t.getProvider("auth-internal")),new mm(t.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC")),(0,Oe.KN)(Cd,"3.4.11",n),(0,Oe.KN)(Cd,"3.4.11","esm2017")}();var CC=L(8306),Vb=L(4004),AC={includeMetadataChanges:!1};function tT(n,e){return void 0===e&&(e=AC),new CC.y(function(t){var s=function TC(n,...e){var t,s,a;n=(0,Ce.m9)(n);let c={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||WD(e[h])||(c=e[h],h++);const g={includeMetadataChanges:c.includeMetadataChanges};if(WD(e[h])){const z=e[h];e[h]=null===(t=z.next)||void 0===t?void 0:t.bind(z),e[h+1]=null===(s=z.error)||void 0===s?void 0:s.bind(z),e[h+2]=null===(a=z.complete)||void 0===a?void 0:a.bind(z)}let E,A,O;if(n instanceof Gr)A=Dn(n.firestore,_r),O=ec(n._key.path),E={next:z=>{e[h]&&e[h](function eT(n,e,t){const s=t.docs.get(e._key),a=new wh(n);return new Up(n,a,e._key,s,new _h(t.hasPendingWrites,t.fromCache),e.converter)}(A,n,z))},error:e[h+1],complete:e[h+2]};else{const z=Dn(n,ss);A=Dn(z.firestore,_r),O=z._query;const he=new wh(A);E={next:Te=>{e[h]&&e[h](new Vp(A,he,z,Te))},error:e[h+1],complete:e[h+2]},function Mb(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ye(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(z,he,Te,He){const gt=new r(He),St=new lh(he,gt,Te);return z.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function I0(n,e){return uh.apply(this,arguments)}(yield at(z),St)})),()=>{gt.Tc(),z.asyncQueue.enqueueAndForget((0,G.Z)(function*(){return function Mp(n,e){return Ay.apply(this,arguments)}(yield at(z),St)}))}}(function gi(n){return n._firestoreClient||yb(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(A),O,g,E)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}function OC(n,e){return void 0===e&&(e={}),function NC(n){return tT(n,{includeMetadataChanges:!0}).pipe((0,Vb.U)(function(e){return e.docs}))}(n).pipe((0,Vb.U)(function(t){return t.map(function(s){return function Bb(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(s,e)})}))}class eE{constructor(e){return e}}const Gb="firestore",iT=new F.OlP("angularfire2.firestore-instances");function LC(n){return(e,t)=>{const s=e.runOutsideAngular(()=>n(t));return new eE(s)}}const UC={provide:class PC{constructor(){return(0,x.vb)(Gb)}},deps:[[new F.FiY,iT]]},VC={provide:eE,useFactory:function FC(n,e){const t=(0,x.JM)(Gb,n,e);return t&&new eE(t)},deps:[[new F.FiY,iT],oe.Ot]};let BC=(()=>{class n{constructor(){(0,ye.KN)("angularfire",x.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=F.oAB({type:n}),n.\u0275inj=F.cJS({providers:[VC,UC]}),n})();function jC(n,...e){return{ngModule:BC,providers:[{provide:iT,useFactory:LC(n),multi:!0,deps:[F.R0b,F.zs3,x.HU,oe.z6,[new F.FiY,av],[new F.FiY,Ov],...e]}]}}const $C=(0,x.u3)(OC,!0),HC=(0,x.u3)(iC,!0),GC=(0,x.u3)(cC,!0)},8321:(Dt,Me,L)=>{L.d(Me,{q4:()=>Yi,HU:()=>qp,vb:()=>lo,JM:()=>Fh,u3:()=>Lh});var x=L(1223),F=L(5867),oe=L(5861),ye=L(9681),G=L(2090),Ce=L(4859),Oe=L(1877),Ze=L(8766);const Ne="@firebase/installations",X="0.5.11",xe=`w:${X}`,qe="FIS_v2",wt=new G.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ht(w){return w instanceof G.ZR&&w.code.includes("request-failed")}function De({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function je(w){return{token:w.token,requestStatus:2,expiresIn:W(w.expiresIn),creationTime:Date.now()}}function ze(w,D){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,oe.Z)(function*(w,D){const B=(yield D.json()).error;return wt.create("request-failed",{requestName:w,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Et({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function ue(w,{refreshToken:D}){const M=Et(w);return M.append("Authorization",function le(w){return`${qe} ${w}`}(D)),M}function Re(w){return ie.apply(this,arguments)}function ie(){return(ie=(0,oe.Z)(function*(w){const D=yield w();return D.status>=500&&D.status<600?w():D})).apply(this,arguments)}function W(w){return Number(w.replace("s","000"))}function ge(w,D){return de.apply(this,arguments)}function de(){return(de=(0,oe.Z)(function*({appConfig:w,heartbeatServiceProvider:D},{fid:M}){const B=De(w),se=Et(w),ve=D.getImmediate({optional:!0});if(ve){const Ct=yield ve.getHeartbeatsHeader();Ct&&se.append("x-firebase-client",Ct)}const it={method:"POST",headers:se,body:JSON.stringify({fid:M,authVersion:qe,appId:w.appId,sdkVersion:xe})},Ft=yield Re(()=>fetch(B,it));if(Ft.ok){const Ct=yield Ft.json();return{fid:Ct.fid||M,registrationStatus:2,refreshToken:Ct.refreshToken,authToken:je(Ct.authToken)}}throw yield ze("Create Installation",Ft)})).apply(this,arguments)}function Ge(w){return new Promise(D=>{setTimeout(D,w)})}const Xt=/^[cdef][\w-]{21}$/;function Qe(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const M=function sn(w){return function ut(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Xt.test(M)?M:""}catch(w){return""}}function wn(w){return`${w.appName}!${w.appId}`}const yn=new Map;function An(w,D){const M=wn(w);kn(M,D),function Nn(w,D){const M=function en(){return!yt&&"BroadcastChannel"in self&&(yt=new BroadcastChannel("[Firebase] FID Change"),yt.onmessage=w=>{kn(w.data.key,w.data.fid)}),yt}();M&&M.postMessage({key:w,fid:D}),function Vr(){0===yn.size&&yt&&(yt.close(),yt=null)}()}(M,D)}function kn(w,D){const M=yn.get(w);if(M)for(const B of M)B(D)}let yt=null;const gn="firebase-installations-store";let wr=null;function fr(){return wr||(wr=(0,Ze.X3)("firebase-installations-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(gn)}})),wr}function Tn(w,D){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,oe.Z)(function*(w,D){const M=wn(w),se=(yield fr()).transaction(gn,"readwrite"),ve=se.objectStore(gn),Be=yield ve.get(M);return yield ve.put(D,M),yield se.done,(!Be||Be.fid!==D.fid)&&An(w,D.fid),D})).apply(this,arguments)}function On(w){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,oe.Z)(function*(w){const D=wn(w),B=(yield fr()).transaction(gn,"readwrite");yield B.objectStore(gn).delete(D),yield B.done})).apply(this,arguments)}function er(w,D){return we.apply(this,arguments)}function we(){return(we=(0,oe.Z)(function*(w,D){const M=wn(w),se=(yield fr()).transaction(gn,"readwrite"),ve=se.objectStore(gn),Be=yield ve.get(M),it=D(Be);return void 0===it?yield ve.delete(M):yield ve.put(it,M),yield se.done,it&&(!Be||Be.fid!==it.fid)&&An(w,it.fid),it})).apply(this,arguments)}function ne(w){return J.apply(this,arguments)}function J(){return(J=(0,oe.Z)(function*(w){let D;const M=yield er(w.appConfig,B=>{const se=fe(B),ve=Se(w,se);return D=ve.registrationPromise,ve.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function fe(w){return Yt(w||{fid:Qe(),registrationStatus:0})}function Se(w,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(wt.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},B=function Ue(w,D){return Ke.apply(this,arguments)}(w,M);return{installationEntry:M,registrationPromise:B}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:tn(w)}:{installationEntry:D}}function Ke(){return(Ke=(0,oe.Z)(function*(w,D){try{const M=yield ge(w,D);return Tn(w.appConfig,M)}catch(M){throw Ht(M)&&409===M.customData.serverCode?yield On(w.appConfig):yield Tn(w.appConfig,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function tn(w){return xt.apply(this,arguments)}function xt(){return(xt=(0,oe.Z)(function*(w){let D=yield jt(w.appConfig);for(;1===D.registrationStatus;)yield Ge(100),D=yield jt(w.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:B}=yield ne(w);return B||M}return D})).apply(this,arguments)}function jt(w){return er(w,D=>{if(!D)throw wt.create("installation-not-found");return Yt(D)})}function Yt(w){return function Sn(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function ir(w,D){return ht.apply(this,arguments)}function ht(){return(ht=(0,oe.Z)(function*({appConfig:w,heartbeatServiceProvider:D},M){const B=te(w,M),se=ue(w,M),ve=D.getImmediate({optional:!0});if(ve){const Ct=yield ve.getHeartbeatsHeader();Ct&&se.append("x-firebase-client",Ct)}const it={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:xe,appId:w.appId}})},Ft=yield Re(()=>fetch(B,it));if(Ft.ok)return je(yield Ft.json());throw yield ze("Generate Auth Token",Ft)})).apply(this,arguments)}function te(w,{fid:D}){return`${De(w)}/${D}/authTokens:generate`}function V(w){return ae.apply(this,arguments)}function ae(){return(ae=(0,oe.Z)(function*(w,D=!1){let M;const B=yield er(w.appConfig,ve=>{if(!ct(ve))throw wt.create("not-registered");const Be=ve.authToken;if(!D&&Ot(Be))return ve;if(1===Be.requestStatus)return M=re(w,D),ve;{if(!navigator.onLine)throw wt.create("app-offline");const it=zt(ve);return M=nt(w,it),it}});return M?yield M:B.authToken})).apply(this,arguments)}function re(w,D){return j.apply(this,arguments)}function j(){return(j=(0,oe.Z)(function*(w,D){let M=yield Ae(w.appConfig);for(;1===M.authToken.requestStatus;)yield Ge(100),M=yield Ae(w.appConfig);const B=M.authToken;return 0===B.requestStatus?V(w,D):B})).apply(this,arguments)}function Ae(w){return er(w,D=>{if(!ct(D))throw wt.create("not-registered");return function Er(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function nt(w,D){return vt.apply(this,arguments)}function vt(){return(vt=(0,oe.Z)(function*(w,D){try{const M=yield ir(w,D),B=Object.assign(Object.assign({},D),{authToken:M});return yield Tn(w.appConfig,B),M}catch(M){if(!Ht(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const B=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Tn(w.appConfig,B)}else yield On(w.appConfig);throw M}})).apply(this,arguments)}function ct(w){return void 0!==w&&2===w.registrationStatus}function Ot(w){return 2===w.requestStatus&&!function un(w){const D=Date.now();return D<w.creationTime||w.creationTime+w.expiresIn<D+36e5}(w)}function zt(w){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:D})}function fn(){return(fn=(0,oe.Z)(function*(w){const D=w,{installationEntry:M,registrationPromise:B}=yield ne(D);return B?B.catch(console.error):V(D).catch(console.error),M.fid})).apply(this,arguments)}function ji(){return(ji=(0,oe.Z)(function*(w,D=!1){const M=w;return yield Vs(M),(yield V(M,D)).token})).apply(this,arguments)}function Vs(w){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,oe.Z)(function*(w){const{registrationPromise:D}=yield ne(w);D&&(yield D)})).apply(this,arguments)}function kt(w){return wt.create("missing-app-config-values",{valueName:w})}const ee="installations",$=w=>{const D=w.getProvider("app").getImmediate(),M=function bn(w){if(!w||!w.options)throw kt("App Configuration");if(!w.name)throw kt("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!w.options[M])throw kt(M);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,ye.qX)(D,"heartbeat"),_delete:()=>Promise.resolve()}},pe=w=>{const D=w.getProvider("app").getImmediate(),M=(0,ye.qX)(D,ee).getImmediate();return{getId:()=>function Ir(w){return fn.apply(this,arguments)}(M),getToken:se=>function Un(w){return ji.apply(this,arguments)}(M,se)}};(function Pe(){(0,ye.Xd)(new Ce.wA(ee,$,"PUBLIC")),(0,ye.Xd)(new Ce.wA("installations-internal",pe,"PRIVATE"))})(),(0,ye.KN)(Ne,X),(0,ye.KN)(Ne,X,"esm2017");const lt="@firebase/remote-config",tt=new G.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class io{constructor(D,M,B,se){this.client=D,this.storage=M,this.storageCache=B,this.logger=se}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-M,se=B<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${se}.`),se}fetch(D){var M=this;return(0,oe.Z)(function*(){const[B,se]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(se&&M.isCachedDataFresh(D.cacheMaxAgeMillis,B))return se;D.eTag=se&&se.eTag;const ve=yield M.client.fetch(D),Be=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ve.status&&Be.push(M.storage.setLastSuccessfulFetchResponse(ve)),yield Promise.all(Be),ve})()}}function cu(w=navigator){return w.languages&&w.languages[0]||w.language}class Vn{constructor(D,M,B,se,ve,Be){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=B,this.projectId=se,this.apiKey=ve,this.appId=Be}fetch(D){var M=this;return(0,oe.Z)(function*(){var B,se,ve;const[Be,it]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Mt={sdk_version:M.sdkVersion,app_instance_id:Be,app_instance_id_token:it,app_id:M.appId,language_code:cu()},Cr={method:"POST",headers:Qt,body:JSON.stringify(Mt)},Ar=fetch(Ct,Cr),Gc=new Promise((Oi,ka)=>{D.signal.addEventListener(()=>{const Zl=new Error("The operation was aborted.");Zl.name="AbortError",ka(Zl)})});let Au;try{yield Promise.race([Ar,Gc]),Au=yield Ar}catch(Oi){let ka="fetch-client-network";throw"AbortError"===(null===(B=Oi)||void 0===B?void 0:B.name)&&(ka="fetch-timeout"),tt.create(ka,{originalErrorMessage:null===(se=Oi)||void 0===se?void 0:se.message})}let Go=Au.status;const Su=Au.headers.get("ETag")||void 0;let zo,Ra;if(200===Au.status){let Oi;try{Oi=yield Au.json()}catch(ka){throw tt.create("fetch-client-parse",{originalErrorMessage:null===(ve=ka)||void 0===ve?void 0:ve.message})}zo=Oi.entries,Ra=Oi.state}if("INSTANCE_STATE_UNSPECIFIED"===Ra?Go=500:"NO_CHANGE"===Ra?Go=304:("NO_TEMPLATE"===Ra||"EMPTY_CONFIG"===Ra)&&(zo={}),304!==Go&&200!==Go)throw tt.create("fetch-status",{httpStatus:Go});return{status:Go,eTag:Su,config:zo}})()}}class vs{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,oe.Z)(function*(){const B=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,B)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:B}){var se=this;return(0,oe.Z)(function*(){yield function pr(w,D){return new Promise((M,B)=>{const se=Math.max(D-Date.now(),0),ve=setTimeout(M,se);w.addEventListener(()=>{clearTimeout(ve),B(tt.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const ve=yield se.client.fetch(D);return yield se.storage.deleteThrottleMetadata(),ve}catch(ve){if(!function ys(w){if(!(w instanceof G.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ve))throw ve;const Be={throttleEndTimeMillis:Date.now()+(0,G.$s)(B),backoffCount:B+1};return yield se.storage.setThrottleMetadata(Be),se.attemptFetch(D,Be)}})()}}class Ao{constructor(D,M,B,se,ve){this.app=D,this._client=M,this._storageCache=B,this._storage=se,this._logger=ve,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Gi(w,D){var M;const B=w.target.error||void 0;return tt.create(D,{originalErrorMessage:B&&(null===(M=B)||void 0===M?void 0:M.message)})}const Ai="app_namespace_store";class Tc{constructor(D,M,B,se=function _s(){return new Promise((w,D)=>{var M;try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=se=>{D(Gi(se,"storage-open"))},B.onsuccess=se=>{w(se.target.result)},B.onupgradeneeded=se=>{0===se.oldVersion&&se.target.result.createObjectStore(Ai,{keyPath:"compositeKey"})}}catch(B){D(tt.create("storage-open",{originalErrorMessage:null===(M=B)||void 0===M?void 0:M.message}))}})}()){this.appId=D,this.appName=M,this.namespace=B,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,oe.Z)(function*(){const B=yield M.openDbPromise;return new Promise((se,ve)=>{var Be;const Ft=B.transaction([Ai],"readonly").objectStore(Ai),Ct=M.createCompositeKey(D);try{const Qt=Ft.get(Ct);Qt.onerror=Mt=>{ve(Gi(Mt,"storage-get"))},Qt.onsuccess=Mt=>{const Cr=Mt.target.result;se(Cr?Cr.value:void 0)}}catch(Qt){ve(tt.create("storage-get",{originalErrorMessage:null===(Be=Qt)||void 0===Be?void 0:Be.message}))}})})()}set(D,M){var B=this;return(0,oe.Z)(function*(){const se=yield B.openDbPromise;return new Promise((ve,Be)=>{var it;const Ct=se.transaction([Ai],"readwrite").objectStore(Ai),Qt=B.createCompositeKey(D);try{const Mt=Ct.put({compositeKey:Qt,value:M});Mt.onerror=Cr=>{Be(Gi(Cr,"storage-set"))},Mt.onsuccess=()=>{ve()}}catch(Mt){Be(tt.create("storage-set",{originalErrorMessage:null===(it=Mt)||void 0===it?void 0:it.message}))}})})()}delete(D){var M=this;return(0,oe.Z)(function*(){const B=yield M.openDbPromise;return new Promise((se,ve)=>{var Be;const Ft=B.transaction([Ai],"readwrite").objectStore(Ai),Ct=M.createCompositeKey(D);try{const Qt=Ft.delete(Ct);Qt.onerror=Mt=>{ve(Gi(Mt,"storage-delete"))},Qt.onsuccess=()=>{se()}}catch(Qt){ve(tt.create("storage-delete",{originalErrorMessage:null===(Be=Qt)||void 0===Be?void 0:Be.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class la{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,oe.Z)(function*(){const M=D.storage.getLastFetchStatus(),B=D.storage.getLastSuccessfulFetchTimestampMillis(),se=D.storage.getActiveConfig(),ve=yield M;ve&&(D.lastFetchStatus=ve);const Be=yield B;Be&&(D.lastSuccessfulFetchTimestampMillis=Be);const it=yield se;it&&(D.activeConfig=it)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function ws(){return so.apply(this,arguments)}function so(){return(so=(0,oe.Z)(function*(){if(!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch(w){return!1}})).apply(this,arguments)}!function bc(){(0,ye.Xd)(new Ce.wA("remote-config",function w(D,{instanceIdentifier:M}){const B=D.getProvider("app").getImmediate(),se=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw tt.create("registration-window");if(!(0,G.hl)())throw tt.create("indexed-db-unavailable");const{projectId:ve,apiKey:Be,appId:it}=B.options;if(!ve)throw tt.create("registration-project-id");if(!Be)throw tt.create("registration-api-key");if(!it)throw tt.create("registration-app-id");const Ft=new Tc(it,B.name,M=M||"firebase"),Ct=new la(Ft),Qt=new Oe.Yd(lt);Qt.logLevel=Oe.in.ERROR;const Mt=new Vn(se,ye.Jn,M,ve,Be,it),Cr=new vs(Mt,Ft),Ar=new io(Cr,Ft,Ct,Qt),Gc=new Ao(B,Ar,Ct,Ft,Qt);return function Vt(w){const D=(0,G.m9)(w);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Gc),Gc},"PUBLIC").setMultipleInstances(!0)),(0,ye.KN)(lt,"0.3.10"),(0,ye.KN)(lt,"0.3.10","esm2017")}();const lu="/firebase-messaging-sw.js",So="/firebase-cloud-messaging-push-scope",ha="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Si="google.c.a.c_id",fa="google.c.a.c_l",Es="google.c.a.ts",pa="google.c.a.e";var Is=(()=>{return(w=Is||(Is={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Is;var w})();function Tr(w){const D=new Uint8Array(w);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ds(w){const M=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(M),se=new Uint8Array(B.length);for(let ve=0;ve<B.length;++ve)se[ve]=B.charCodeAt(ve);return se}const js="fcm_token_details_db",Cc="fcm_token_object_Store";function du(w){return ls.apply(this,arguments)}function ls(){return ls=(0,oe.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ve=>ve.name).includes(js))return null;let D=null;return(yield(0,Ze.X3)(js,5,{upgrade:(B=(0,oe.Z)(function*(se,ve,Be,it){var Ft;if(ve<2||!se.objectStoreNames.contains(Cc))return;const Ct=it.objectStore(Cc),Qt=yield Ct.index("fcmSenderId").get(w);if(yield Ct.clear(),Qt)if(2===ve){const Mt=Qt;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;D={token:Mt.fcmToken,createTime:null!==(Ft=Mt.createTime)&&void 0!==Ft?Ft:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:Tr(Mt.vapidKey)}}}else if(3===ve){const Mt=Qt;D={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:Tr(Mt.auth),p256dh:Tr(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:Tr(Mt.vapidKey)}}}else if(4===ve){const Mt=Qt;D={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:Tr(Mt.auth),p256dh:Tr(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:Tr(Mt.vapidKey)}}}}),function(ve,Be,it,Ft){return B.apply(this,arguments)})})).close(),yield(0,Ze.Lj)(js),yield(0,Ze.Lj)("fcm_vapid_details_db"),yield(0,Ze.Lj)("undefined"),Qn(D)?D:null;var B}),ls.apply(this,arguments)}function Qn(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:D}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Mi="firebase-messaging-store";let gr=null;function Ts(){return gr||(gr=(0,Ze.X3)("firebase-messaging-database",1,{upgrade:(w,D)=>{0===D&&w.createObjectStore(Mi)}})),gr}function T(w){return k.apply(this,arguments)}function k(){return(k=(0,oe.Z)(function*(w){const D=$e(w),B=yield(yield Ts()).transaction(Mi).objectStore(Mi).get(D);if(B)return B;{const se=yield du(w.appConfig.senderId);if(se)return yield b(w,se),se}})).apply(this,arguments)}function b(w,D){return P.apply(this,arguments)}function P(){return(P=(0,oe.Z)(function*(w,D){const M=$e(w),se=(yield Ts()).transaction(Mi,"readwrite");return yield se.objectStore(Mi).put(D,M),yield se.done,D})).apply(this,arguments)}function Q(w){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,oe.Z)(function*(w){const D=$e(w),B=(yield Ts()).transaction(Mi,"readwrite");yield B.objectStore(Mi).delete(D),yield B.done})).apply(this,arguments)}function $e({appConfig:w}){return w.appId}const pt=new G.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function In(w,D){return vn.apply(this,arguments)}function vn(){return(vn=(0,oe.Z)(function*(w,D){var M;const B=yield Rr(w),se=kr(D),ve={method:"POST",headers:B,body:JSON.stringify(se)};let Be;try{Be=yield(yield fetch(Gn(w.appConfig),ve)).json()}catch(it){throw pt.create("token-subscribe-failed",{errorInfo:null===(M=it)||void 0===M?void 0:M.toString()})}if(Be.error)throw pt.create("token-subscribe-failed",{errorInfo:Be.error.message});if(!Be.token)throw pt.create("token-subscribe-no-token");return Be.token})).apply(this,arguments)}function At(w,D){return dn.apply(this,arguments)}function dn(){return(dn=(0,oe.Z)(function*(w,D){var M;const B=yield Rr(w),se=kr(D.subscriptionOptions),ve={method:"PATCH",headers:B,body:JSON.stringify(se)};let Be;try{Be=yield(yield fetch(`${Gn(w.appConfig)}/${D.token}`,ve)).json()}catch(it){throw pt.create("token-update-failed",{errorInfo:null===(M=it)||void 0===M?void 0:M.toString()})}if(Be.error)throw pt.create("token-update-failed",{errorInfo:Be.error.message});if(!Be.token)throw pt.create("token-update-no-token");return Be.token})).apply(this,arguments)}function xn(w,D){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,oe.Z)(function*(w,D){var M;const se={method:"DELETE",headers:yield Rr(w)};try{const Be=yield(yield fetch(`${Gn(w.appConfig)}/${D}`,se)).json();if(Be.error)throw pt.create("token-unsubscribe-failed",{errorInfo:Be.error.message})}catch(ve){throw pt.create("token-unsubscribe-failed",{errorInfo:null===(M=ve)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function Gn({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Rr(w){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,oe.Z)(function*({appConfig:w,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function kr({p256dh:w,auth:D,endpoint:M,vapidKey:B}){const se={web:{endpoint:M,auth:D,p256dh:w}};return B!==ha&&(se.web.applicationPubKey=B),se}const Br=6048e5;function bs(w){return ai.apply(this,arguments)}function ai(){return(ai=(0,oe.Z)(function*(w){const D=yield Bp(w.swRegistration,w.vapidKey),M={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:D.endpoint,auth:Tr(D.getKey("auth")),p256dh:Tr(D.getKey("p256dh"))},B=yield T(w.firebaseDependencies);if(B){if($l(B.subscriptionOptions,M))return Date.now()>=B.createTime+Br?ma(w,{token:B.token,createTime:Date.now(),subscriptionOptions:M}):B.token;try{yield xn(w.firebaseDependencies,B.token)}catch(se){console.warn(se)}return Pt(w.firebaseDependencies,M)}return Pt(w.firebaseDependencies,M)})).apply(this,arguments)}function Ro(w){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,oe.Z)(function*(w){const D=yield T(w.firebaseDependencies);D&&(yield xn(w.firebaseDependencies,D.token),yield Q(w.firebaseDependencies));const M=yield w.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function ma(w,D){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,oe.Z)(function*(w,D){try{const M=yield At(w.firebaseDependencies,D),B=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield b(w.firebaseDependencies,B),M}catch(M){throw yield Ro(w),M}})).apply(this,arguments)}function Pt(w,D){return $s.apply(this,arguments)}function $s(){return($s=(0,oe.Z)(function*(w,D){const B={token:yield In(w,D),createTime:Date.now(),subscriptionOptions:D};return yield b(w,B),B.token})).apply(this,arguments)}function Bp(w,D){return ko.apply(this,arguments)}function ko(){return(ko=(0,oe.Z)(function*(w,D){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ds(D)})})).apply(this,arguments)}function $l(w,D){return D.vapidKey===w.vapidKey&&D.endpoint===w.endpoint&&D.auth===w.auth&&D.p256dh===w.p256dh}function ya(w){const D={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Hl(w,D){if(!D.notification)return;w.notification={};const M=D.notification.title;M&&(w.notification.title=M);const B=D.notification.body;B&&(w.notification.body=B);const se=D.notification.image;se&&(w.notification.image=se)}(D,w),function No(w,D){!D.data||(w.data=D.data)}(D,w),function Ih(w,D){var M,B,se,ve,Be;if(!D.fcmOptions&&!(null===(M=D.notification)||void 0===M?void 0:M.click_action))return;w.fcmOptions={};const it=null!==(se=null===(B=D.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==se?se:null===(ve=D.notification)||void 0===ve?void 0:ve.click_action;it&&(w.fcmOptions.link=it);const Ft=null===(Be=D.fcmOptions)||void 0===Be?void 0:Be.analytics_label;Ft&&(w.fcmOptions.analyticsLabel=Ft)}(D,w),D}function Ve(w){return"object"==typeof w&&!!w&&Si in w}function nn(w,D){const M=[];for(let B=0;B<w.length;B++)M.push(w.charAt(B)),B<D.length&&M.push(D.charAt(B));return M.join("")}function zn(w){return pt.create("missing-app-config-values",{valueName:w})}nn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class va{constructor(D,M,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function Dh(w){if(!w||!w.options)throw zn("App Configuration Object");if(!w.name)throw zn("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=w;for(const B of D)if(!M[B])throw zn(B);return{appName:w.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:se,installations:M,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Oo(w){return mr.apply(this,arguments)}function mr(){return(mr=(0,oe.Z)(function*(w){var D;try{w.swRegistration=yield navigator.serviceWorker.register(lu,{scope:So}),w.swRegistration.update().catch(()=>{})}catch(M){throw pt.create("failed-service-worker-registration",{browserErrorMessage:null===(D=M)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function hu(w,D){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,oe.Z)(function*(w,D){if(!D&&!w.swRegistration&&(yield Oo(w)),D||!w.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw pt.create("invalid-sw-registration");w.swRegistration=D}})).apply(this,arguments)}function fu(w,D){return Po.apply(this,arguments)}function Po(){return(Po=(0,oe.Z)(function*(w,D){D?w.vapidKey=D:w.vapidKey||(w.vapidKey=ha)})).apply(this,arguments)}function As(){return(As=(0,oe.Z)(function*(w,D){if(!navigator)throw pt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pt.create("permission-blocked");return yield fu(w,null==D?void 0:D.vapidKey),yield hu(w,null==D?void 0:D.serviceWorkerRegistration),bs(w)})).apply(this,arguments)}function Yr(w,D,M){return ui.apply(this,arguments)}function ui(){return(ui=(0,oe.Z)(function*(w,D,M){const B=Ac(D);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:M[Si],message_name:M[fa],message_time:M[Es],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ac(w){switch(w){case Is.NOTIFICATION_CLICKED:return"notification_open";case Is.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qi(){return(qi=(0,oe.Z)(function*(w,D){const M=D.data;if(!M.isFirebaseMessaging)return;w.onMessageHandler&&M.messageType===Is.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(ya(M)):w.onMessageHandler.next(ya(M)));const B=M.data;Ve(B)&&"1"===B[pa]&&(yield Yr(w,M.messageType,B))})).apply(this,arguments)}const _a="@firebase/messaging",bh=w=>{const D=new va(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Ss(w,D){return qi.apply(this,arguments)}(D,M)),D},Sc=w=>{const D=w.getProvider("messaging").getImmediate();return{getToken:B=>function Th(w,D){return As.apply(this,arguments)}(D,B)}};function wa(){return oo.apply(this,arguments)}function oo(){return(oo=(0,oe.Z)(function*(){try{yield(0,G.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,G.hl)()&&(0,G.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fo(){(0,ye.Xd)(new Ce.wA("messaging",bh,"PUBLIC")),(0,ye.Xd)(new Ce.wA("messaging-internal",Sc,"PRIVATE")),(0,ye.KN)(_a,"0.9.15"),(0,ye.KN)(_a,"0.9.15","esm2017")}();const ao="analytics",Sh="firebase_id",ds="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jn="https://www.googletagmanager.com/gtag/js",ur=new Oe.Yd("@firebase/analytics");function xs(w){return Promise.all(w.map(D=>D.catch(M=>M)))}function Lo(w,D){const M=document.createElement("script");M.src=`${Jn}?l=${w}&id=${D}`,M.async=!0,document.head.appendChild(M)}function Wl(w,D,M,B,se,ve){return yu.apply(this,arguments)}function yu(){return(yu=(0,oe.Z)(function*(w,D,M,B,se,ve){const Be=B[se];try{if(Be)yield D[Be];else{const Ft=(yield xs(M)).find(Ct=>Ct.measurementId===se);Ft&&(yield D[Ft.appId])}}catch(it){ur.error(it)}w("config",se,ve)})).apply(this,arguments)}function Da(w,D,M,B,se){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,oe.Z)(function*(w,D,M,B,se){try{let ve=[];if(se&&se.send_to){let Be=se.send_to;Array.isArray(Be)||(Be=[Be]);const it=yield xs(M);for(const Ft of Be){const Ct=it.find(Mt=>Mt.measurementId===Ft),Qt=Ct&&D[Ct.appId];if(!Qt){ve=[];break}ve.push(Qt)}}0===ve.length&&(ve=Object.values(D)),yield Promise.all(ve),w("event",B,se||{})}catch(ve){ur.error(ve)}})).apply(this,arguments)}function vu(){const w=window.document.getElementsByTagName("script");for(const D of Object.values(w))if(D.src&&D.src.includes(Jn))return D;return null}const cr=new G.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ri=new class kc{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function wu(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Nc(w){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,oe.Z)(function*(w){var D;const{appId:M,apiKey:B}=w,se={method:"GET",headers:wu(B)},ve=ds.replace("{app-id}",M),Be=yield fetch(ve,se);if(200!==Be.status&&304!==Be.status){let it="";try{const Ft=yield Be.json();(null===(D=Ft.error)||void 0===D?void 0:D.message)&&(it=Ft.error.message)}catch(Ft){}throw cr.create("config-fetch-failed",{httpStatus:Be.status,responseMessage:it})}return Be.json()})).apply(this,arguments)}function jp(w){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,oe.Z)(function*(w,D=Ri,M){const{appId:B,apiKey:se,measurementId:ve}=w.options;if(!B)throw cr.create("no-app-id");if(!se){if(ve)return{measurementId:ve,appId:B};throw cr.create("no-api-key")}const Be=D.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},it=new Pc;return setTimeout((0,oe.Z)(function*(){it.abort()}),void 0!==M?M:6e4),Bo({appId:B,apiKey:se,measurementId:ve},Be,it,D)})).apply(this,arguments)}function Bo(w,D,M){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,oe.Z)(function*(w,{throttleEndTimeMillis:D,backoffCount:M},B,se=Ri){var ve,Be;const{appId:it,measurementId:Ft}=w;try{yield Oc(B,D)}catch(Ct){if(Ft)return ur.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${null===(ve=Ct)||void 0===ve?void 0:ve.message}]`),{appId:it,measurementId:Ft};throw Ct}try{const Ct=yield Nc(w);return se.deleteThrottleMetadata(it),Ct}catch(Ct){const Qt=Ct;if(!ki(Qt)){if(se.deleteThrottleMetadata(it),Ft)return ur.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${null==Qt?void 0:Qt.message}]`),{appId:it,measurementId:Ft};throw Ct}const Mt=503===Number(null===(Be=null==Qt?void 0:Qt.customData)||void 0===Be?void 0:Be.httpStatus)?(0,G.$s)(M,se.intervalMillis,30):(0,G.$s)(M,se.intervalMillis),Cr={throttleEndTimeMillis:Date.now()+Mt,backoffCount:M+1};return se.setThrottleMetadata(it,Cr),ur.debug(`Calling attemptFetch again in ${Mt} millis`),Bo(w,Cr,B,se)}})).apply(this,arguments)}function Oc(w,D){return new Promise((M,B)=>{const se=Math.max(D-Date.now(),0),ve=setTimeout(M,se);w.addEventListener(()=>{clearTimeout(ve),B(cr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function ki(w){if(!(w instanceof G.ZR&&w.customData))return!1;const D=Number(w.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Pc{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function Ta(){return zs.apply(this,arguments)}function zs(){return(zs=(0,oe.Z)(function*(){var w;if(!(0,G.hl)())return ur.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,G.eu)()}catch(D){return ur.warn(cr.create("indexeddb-unavailable",{errorInfo:null===(w=D)||void 0===w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function hs(){return(hs=(0,oe.Z)(function*(w,D,M,B,se,ve,Be){var it;const Ft=jp(w);Ft.then(Ar=>{M[Ar.measurementId]=Ar.appId,w.options.measurementId&&Ar.measurementId!==w.options.measurementId&&ur.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Ar.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ar=>ur.error(Ar)),D.push(Ft);const Ct=Ta().then(Ar=>{if(Ar)return B.getId()}),[Qt,Mt]=yield Promise.all([Ft,Ct]);vu()||Lo(ve,Qt.measurementId),se("js",new Date);const Cr=null!==(it=null==Be?void 0:Be.config)&&void 0!==it?it:{};return Cr.origin="firebase",Cr.update=!0,null!=Mt&&(Cr[Sh]=Mt),se("config",Qt.measurementId,Cr),Qt.measurementId})).apply(this,arguments)}class Iu{constructor(D){this.app=D}_delete(){return delete jr[this.app.options.appId],Promise.resolve()}}let jr={},Du=[];const uo={};let ba,Rs,Ws="dataLayer",qs=!1;function Uc(w,D,M){!function co(){const w=[];if((0,G.ru)()&&w.push("This is a browser extension environment."),(0,G.zI)()||w.push("Cookies are not available."),w.length>0){const D=w.map((B,se)=>`(${se+1}) ${B}`).join(" "),M=cr.create("invalid-analytics-context",{errorInfo:D});ur.warn(M.message)}}();const B=w.options.appId;if(!B)throw cr.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw cr.create("no-api-key");ur.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jr[B])throw cr.create("already-exists",{id:B});if(!qs){!function zl(w){let D=[];Array.isArray(window[w])?D=window[w]:window[w]=D}(Ws);const{wrappedGtag:ve,gtagCore:Be}=function Rc(w,D,M,B,se){let ve=function(...Be){window[B].push(arguments)};return window[se]&&"function"==typeof window[se]&&(ve=window[se]),window[se]=function Gs(w,D,M,B){function ve(){return(ve=(0,oe.Z)(function*(Be,it,Ft){try{"event"===Be?yield Da(w,D,M,it,Ft):"config"===Be?yield Wl(w,D,M,B,it,Ft):w("set",it)}catch(Ct){ur.error(Ct)}})).apply(this,arguments)}return function se(Be,it,Ft){return ve.apply(this,arguments)}}(ve,w,D,M),{gtagCore:ve,wrappedGtag:window[se]}}(jr,Du,uo,Ws,"gtag");Rs=ve,ba=Be,qs=!0}return jr[B]=function xh(w,D,M,B,se,ve,Be){return hs.apply(this,arguments)}(w,Du,uo,D,ba,Ws,M),new Iu(w)}function m(){return(m=(0,oe.Z)(function*(w,D,M,B,se){if(se&&se.global)w("event",M,B);else{const ve=yield D;w("event",M,Object.assign(Object.assign({},B),{send_to:ve}))}})).apply(this,arguments)}function cn(){return an.apply(this,arguments)}function an(){return(an=(0,oe.Z)(function*(){if((0,G.ru)()||!(0,G.zI)()||!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch(w){return!1}})).apply(this,arguments)}const Tu="@firebase/analytics";!function Ca(){(0,ye.Xd)(new Ce.wA(ao,(D,{options:M})=>Uc(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ye.Xd)(new Ce.wA("analytics-internal",function w(D){try{const M=D.getProvider(ao).getImmediate();return{logEvent:(B,se,ve)=>function Ki(w,D,M,B){w=(0,G.m9)(w),function v(w,D,M,B,se){return m.apply(this,arguments)}(Rs,jr[w.app.options.appId],D,M,B).catch(se=>ur.error(se))}(M,B,se,ve)}}catch(M){throw cr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ye.KN)(Tu,"0.7.11"),(0,ye.KN)(Tu,"0.7.11","esm2017")}();var Yy=L(727);class Mh extends Yy.w0{constructor(D,M){super()}schedule(D,M=0){return this}}const Wn={setInterval(w,D,...M){const{delegate:B}=Wn;return(null==B?void 0:B.setInterval)?B.setInterval(w,D,...M):setInterval(w,D,...M)},clearInterval(w){const{delegate:D}=Wn;return((null==D?void 0:D.clearInterval)||clearInterval)(w)},delegate:void 0};var Zy=L(8737);class $p extends Mh{constructor(D,M){super(D,M),this.scheduler=D,this.work=M,this.pending=!1}schedule(D,M=0){if(this.closed)return this;this.state=D;const B=this.id,se=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(se,B,M)),this.pending=!0,this.delay=M,this.id=this.id||this.requestAsyncId(se,this.id,M),this}requestAsyncId(D,M,B=0){return Wn.setInterval(D.flush.bind(D,this),B)}recycleAsyncId(D,M,B=0){if(null!=B&&this.delay===B&&!1===this.pending)return M;Wn.clearInterval(M)}execute(D,M){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const B=this._execute(D,M);if(B)return B;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,M){let se,B=!1;try{this.work(D)}catch(ve){B=!0,se=ve||new Error("Scheduled action threw falsy error")}if(B)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:D,scheduler:M}=this,{actions:B}=M;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Zy.P)(B,this),null!=D&&(this.id=this.recycleAsyncId(M,D,null)),this.delay=null,super.unsubscribe()}}}const Qy={now:()=>(Qy.delegate||Date).now(),delegate:void 0};class Aa{constructor(D,M=Aa.now){this.schedulerActionCtor=D,this.now=M}schedule(D,M=0,B){return new this.schedulerActionCtor(this,D).schedule(B,M)}}Aa.now=Qy.now;class Jy extends Aa{constructor(D,M=Aa.now){super(D,M),this.actions=[],this._active=!1,this._scheduled=void 0}flush(D){const{actions:M}=this;if(this._active)return void M.push(D);let B;this._active=!0;do{if(B=D.execute(D.state,D.delay))break}while(D=M.shift());if(this._active=!1,B){for(;D=M.shift();)D.unsubscribe();throw B}}}const Bc=new class kh extends Jy{}(class Rh extends $p{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(D,M,B):D.flush(this)}}),lr=new Jy($p);var bu=L(8306),Nh=L(8505),Gp=L(9468),br=L(5363);const Yi=new x.GfV("7.4.1"),$c="__angularfire_symbol__analyticsIsSupportedValue",Sa="__angularfire_symbol__analyticsIsSupported",jo="__angularfire_symbol__remoteConfigIsSupportedValue",xa="__angularfire_symbol__remoteConfigIsSupported",Oh="__angularfire_symbol__messagingIsSupportedValue",Ph="__angularfire_symbol__messagingIsSupported";function Fh(w,D,M){if(D){if(1===D.length)return D[0];const ve=D.filter(Be=>Be.app===M);if(1===ve.length)return ve[0]}return M.container.getProvider(w).getImmediate({optional:!0})}globalThis[Sa]||(globalThis[Sa]=cn().then(w=>globalThis[$c]=w).catch(()=>globalThis[$c]=!1)),globalThis[Ph]||(globalThis[Ph]=wa().then(w=>globalThis[Oh]=w).catch(()=>globalThis[Oh]=!1)),globalThis[xa]||(globalThis[xa]=ws().then(w=>globalThis[jo]=w).catch(()=>globalThis[jo]=!1));const lo=(w,D)=>{const M=D?[D]:(0,F.C6)(),B=[];return M.forEach(se=>{se.container.getProvider(w).instances.forEach(Be=>{B.includes(Be)||B.push(Be)})}),B};function $o(){}class ql{constructor(D,M=Bc){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,B){const se=this.zone;return this.delegate.schedule(function(Be){se.runGuarded(()=>{D.apply(this,[Be])})},M,B)}}class Cu{constructor(D){this.zone=D,this.task=null}call(D,M){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$o,{},$o,$o)),M.pipe((0,Nh.b)({next:B,complete:B,error:B})).subscribe(D).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qp=(()=>{class w{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new ql(Zone.current)),this.insideAngular=M.run(()=>new ql(Zone.current,lr)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(M){return new(M||w)(x.LFG(x.R0b))},w.\u0275prov=x.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Ho(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Kl(w){return Ho().ngZone.runOutsideAngular(()=>w())}function Ys(w){return Ho().ngZone.run(()=>w())}function Hc(w){return Ho(),function Yp(w){return function(M){return(M=M.lift(new Cu(w.ngZone))).pipe((0,Gp.R)(w.outsideAngular),(0,br.Q)(w.insideAngular))}}(Ho())(w)}const Ma=(w,D)=>function(){const B=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Ys(()=>w.apply(void 0,B))},Lh=(w,D)=>function(){let M;const B=arguments;for(let ve=0;ve<arguments.length;ve++)"function"==typeof B[ve]&&(D&&(M||(M=Ys(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$o,{},$o,$o)))),B[ve]=Ma(B[ve],M));const se=Kl(()=>w.apply(this,B));if(!D){if(se instanceof bu.y){const ve=Ho();return se.pipe((0,Gp.R)(ve.outsideAngular),(0,br.Q)(ve.insideAngular))}return Ys(()=>se)}return se instanceof bu.y?se.pipe(Hc):se instanceof Promise?Ys(()=>new Promise((ve,Be)=>se.then(it=>Ys(()=>ve(it)),it=>Ys(()=>Be(it))))):"function"==typeof se&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),se.apply(this,arguments)}:Ys(()=>se)}},2090:(Dt,Me,L)=>{L.d(Me,{$s:()=>Yt,BH:()=>qe,L:()=>Ze,LL:()=>de,Mn:()=>ze,US:()=>Ce,ZR:()=>ge,b$:()=>Ht,d:()=>De,eu:()=>Re,hl:()=>ue,m9:()=>ht,ne:()=>wr,ru:()=>wt,tV:()=>Ne,uI:()=>ft,vZ:()=>yt,w1:()=>je,xO:()=>Vr,z$:()=>et,zI:()=>ie});const ye=function(te){const V=[];let ae=0;for(let re=0;re<te.length;re++){let j=te.charCodeAt(re);j<128?V[ae++]=j:j<2048?(V[ae++]=j>>6|192,V[ae++]=63&j|128):55296==(64512&j)&&re+1<te.length&&56320==(64512&te.charCodeAt(re+1))?(j=65536+((1023&j)<<10)+(1023&te.charCodeAt(++re)),V[ae++]=j>>18|240,V[ae++]=j>>12&63|128,V[ae++]=j>>6&63|128,V[ae++]=63&j|128):(V[ae++]=j>>12|224,V[ae++]=j>>6&63|128,V[ae++]=63&j|128)}return V},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(te,V){if(!Array.isArray(te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ae=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let j=0;j<te.length;j+=3){const Ae=te[j],nt=j+1<te.length,vt=nt?te[j+1]:0,ct=j+2<te.length,Ot=ct?te[j+2]:0;let Er=(15&vt)<<2|Ot>>6,Ir=63&Ot;ct||(Ir=64,nt||(Er=64)),re.push(ae[Ae>>2],ae[(3&Ae)<<4|vt>>4],ae[Er],ae[Ir])}return re.join("")},encodeString(te,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(te):this.encodeByteArray(ye(te),V)},decodeString(te,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(te):function(te){const V=[];let ae=0,re=0;for(;ae<te.length;){const j=te[ae++];if(j<128)V[re++]=String.fromCharCode(j);else if(j>191&&j<224){const Ae=te[ae++];V[re++]=String.fromCharCode((31&j)<<6|63&Ae)}else if(j>239&&j<365){const ct=((7&j)<<18|(63&te[ae++])<<12|(63&te[ae++])<<6|63&te[ae++])-65536;V[re++]=String.fromCharCode(55296+(ct>>10)),V[re++]=String.fromCharCode(56320+(1023&ct))}else{const Ae=te[ae++],nt=te[ae++];V[re++]=String.fromCharCode((15&j)<<12|(63&Ae)<<6|63&nt)}}return V.join("")}(this.decodeStringToByteArray(te,V))},decodeStringToByteArray(te,V){this.init_();const ae=V?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let j=0;j<te.length;){const Ae=ae[te.charAt(j++)],vt=j<te.length?ae[te.charAt(j)]:0;++j;const Ot=j<te.length?ae[te.charAt(j)]:64;++j;const zt=j<te.length?ae[te.charAt(j)]:64;if(++j,null==Ae||null==vt||null==Ot||null==zt)throw Error();re.push(Ae<<2|vt>>4),64!==Ot&&(re.push(vt<<4&240|Ot>>2),64!==zt&&re.push(Ot<<6&192|zt))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let te=0;te<this.ENCODED_VALS.length;te++)this.byteToCharMap_[te]=this.ENCODED_VALS.charAt(te),this.charToByteMap_[this.byteToCharMap_[te]]=te,this.byteToCharMapWebSafe_[te]=this.ENCODED_VALS_WEBSAFE.charAt(te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[te]]=te,te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(te)]=te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(te)]=te)}}},Ze=function(te){return function(te){const V=ye(te);return Ce.encodeByteArray(V,!0)}(te).replace(/\./g,"")},Ne=function(te){try{return Ce.decodeString(te,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,ae)=>{this.resolve=V,this.reject=ae})}wrapCallback(V){return(ae,re)=>{ae?this.reject(ae):this.resolve(re),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(ae):V(ae,re))}}}function et(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ft(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function wt(){const te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof te&&void 0!==te.id}function Ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function De(){return et().indexOf("Electron/")>=0}function je(){const te=et();return te.indexOf("MSIE ")>=0||te.indexOf("Trident/")>=0}function ze(){return et().indexOf("MSAppHost/")>=0}function ue(){return"object"==typeof indexedDB}function Re(){return new Promise((te,V)=>{try{let ae=!0;const re="validate-browser-context-for-indexeddb-analytics-module",j=self.indexedDB.open(re);j.onsuccess=()=>{j.result.close(),ae||self.indexedDB.deleteDatabase(re),te(!0)},j.onupgradeneeded=()=>{ae=!1},j.onerror=()=>{var Ae;V((null===(Ae=j.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(ae){V(ae)}})}function ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ge extends Error{constructor(V,ae,re){super(ae),this.code=V,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor(V,ae,re){this.service=V,this.serviceName=ae,this.errors=re}create(V,...ae){const re=ae[0]||{},j=`${this.service}/${V}`,Ae=this.errors[V],nt=Ae?function Ge(te,V){return te.replace(ut,(ae,re)=>{const j=V[re];return null!=j?String(j):`<${re}?>`})}(Ae,re):"Error";return new ge(j,`${this.serviceName}: ${nt} (${j}).`,re)}}const ut=/\{\$([^}]+)}/g;function yt(te,V){if(te===V)return!0;const ae=Object.keys(te),re=Object.keys(V);for(const j of ae){if(!re.includes(j))return!1;const Ae=te[j],nt=V[j];if(en(Ae)&&en(nt)){if(!yt(Ae,nt))return!1}else if(Ae!==nt)return!1}for(const j of re)if(!ae.includes(j))return!1;return!0}function en(te){return null!==te&&"object"==typeof te}function Vr(te){const V=[];for(const[ae,re]of Object.entries(te))Array.isArray(re)?re.forEach(j=>{V.push(encodeURIComponent(ae)+"="+encodeURIComponent(j))}):V.push(encodeURIComponent(ae)+"="+encodeURIComponent(re));return V.length?"&"+V.join("&"):""}function wr(te,V){const ae=new fr(te,V);return ae.subscribe.bind(ae)}class fr{constructor(V,ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ae,this.task.then(()=>{V(this)}).catch(re=>{this.error(re)})}next(V){this.forEachObserver(ae=>{ae.next(V)})}error(V){this.forEachObserver(ae=>{ae.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,ae,re){let j;if(void 0===V&&void 0===ae&&void 0===re)throw new Error("Missing Observer.");j=function Gt(te,V){if("object"!=typeof te||null===te)return!1;for(const ae of V)if(ae in te&&"function"==typeof te[ae])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:ae,complete:re},void 0===j.next&&(j.next=On),void 0===j.error&&(j.error=On),void 0===j.complete&&(j.complete=On);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch(nt){}}),this.observers.push(j),Ae}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let ae=0;ae<this.observers.length;ae++)this.sendOne(ae,V)}sendOne(V,ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{ae(this.observers[V])}catch(re){"undefined"!=typeof console&&console.error&&console.error(re)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}function Yt(te,V=1e3,ae=2){const re=V*Math.pow(ae,te),j=Math.round(.5*re*(Math.random()-.5)*2);return Math.min(144e5,re+j)}function ht(te){return te&&te._delegate?te._delegate:te}},4671:(Dt,Me,L)=>{var x=L(9808),F=L(1223);class oe extends x.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends oe{static makeCurrent(){(0,x.HT)(new ye)}onAndCancel(K,$,pe){return K.addEventListener($,pe,!1),()=>{K.removeEventListener($,pe,!1)}}dispatchEvent(K,$){K.dispatchEvent($)}remove(K){K.parentNode&&K.parentNode.removeChild(K)}createElement(K,$){return($=$||this.getDefaultDocument()).createElement(K)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(K){return K.nodeType===Node.ELEMENT_NODE}isShadowRoot(K){return K instanceof DocumentFragment}getGlobalEventTarget(K,$){return"window"===$?window:"document"===$?K:"body"===$?K.body:null}getBaseHref(K){const $=function Ce(){return G=G||document.querySelector("base"),G?G.getAttribute("href"):null}();return null==$?null:function Ze(ee){Oe=Oe||document.createElement("a"),Oe.setAttribute("href",ee);const K=Oe.pathname;return"/"===K.charAt(0)?K:`/${K}`}($)}resetBaseElement(){G=null}getUserAgent(){return window.navigator.userAgent}getCookie(K){return(0,x.Mx)(document.cookie,K)}}let Oe,G=null;const Ne=new F.OlP("TRANSITION_ID"),Z=[{provide:F.ip1,useFactory:function X(ee,K,$){return()=>{$.get(F.CZH).donePromise.then(()=>{const pe=(0,x.q)(),Pe=K.querySelectorAll(`style[ng-transition="${ee}"]`);for(let lt=0;lt<Pe.length;lt++)pe.remove(Pe[lt])})}},deps:[Ne,x.K0,F.zs3],multi:!0}];class xe{static init(){(0,F.VLi)(new xe)}addToWindow(K){F.dqk.getAngularTestability=(pe,Pe=!0)=>{const lt=K.findTestabilityInTree(pe,Pe);if(null==lt)throw new Error("Could not find testability for element.");return lt},F.dqk.getAllAngularTestabilities=()=>K.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>K.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(pe=>{const Pe=F.dqk.getAllAngularTestabilities();let lt=Pe.length,Wt=!1;const on=function($n){Wt=Wt||$n,lt--,0==lt&&pe(Wt)};Pe.forEach(function($n){$n.whenStable(on)})})}findTestabilityInTree(K,$,pe){if(null==$)return null;const Pe=K.getTestability($);return null!=Pe?Pe:pe?(0,x.q)().isShadowRoot($)?this.findTestabilityInTree(K,$.host,!0):this.findTestabilityInTree(K,$.parentElement,!0):null}}let qe=(()=>{class ee{build(){return new XMLHttpRequest}}return ee.\u0275fac=function($){return new($||ee)},ee.\u0275prov=F.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const Le=new F.OlP("EventManagerPlugins");let et=(()=>{class ee{constructor($,pe){this._zone=pe,this._eventNameToPlugin=new Map,$.forEach(Pe=>Pe.manager=this),this._plugins=$.slice().reverse()}addEventListener($,pe,Pe){return this._findPluginFor(pe).addEventListener($,pe,Pe)}addGlobalEventListener($,pe,Pe){return this._findPluginFor(pe).addGlobalEventListener($,pe,Pe)}getZone(){return this._zone}_findPluginFor($){const pe=this._eventNameToPlugin.get($);if(pe)return pe;const Pe=this._plugins;for(let lt=0;lt<Pe.length;lt++){const Wt=Pe[lt];if(Wt.supports($))return this._eventNameToPlugin.set($,Wt),Wt}throw new Error(`No event manager plugin found for event ${$}`)}}return ee.\u0275fac=function($){return new($||ee)(F.LFG(Le),F.LFG(F.R0b))},ee.\u0275prov=F.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class ft{constructor(K){this._doc=K}addGlobalEventListener(K,$,pe){const Pe=(0,x.q)().getGlobalEventTarget(this._doc,K);if(!Pe)throw new Error(`Unsupported event target ${Pe} for event ${$}`);return this.addEventListener(Pe,$,pe)}}let We=(()=>{class ee{constructor(){this._stylesSet=new Set}addStyles($){const pe=new Set;$.forEach(Pe=>{this._stylesSet.has(Pe)||(this._stylesSet.add(Pe),pe.add(Pe))}),this.onStylesAdded(pe)}onStylesAdded($){}getAllStyles(){return Array.from(this._stylesSet)}}return ee.\u0275fac=function($){return new($||ee)},ee.\u0275prov=F.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),Tt=(()=>{class ee extends We{constructor($){super(),this._doc=$,this._hostNodes=new Map,this._hostNodes.set($.head,[])}_addStylesToHost($,pe,Pe){$.forEach(lt=>{const Wt=this._doc.createElement("style");Wt.textContent=lt,Pe.push(pe.appendChild(Wt))})}addHost($){const pe=[];this._addStylesToHost(this._stylesSet,$,pe),this._hostNodes.set($,pe)}removeHost($){const pe=this._hostNodes.get($);pe&&pe.forEach(wt),this._hostNodes.delete($)}onStylesAdded($){this._hostNodes.forEach((pe,Pe)=>{this._addStylesToHost($,Pe,pe)})}ngOnDestroy(){this._hostNodes.forEach($=>$.forEach(wt))}}return ee.\u0275fac=function($){return new($||ee)(F.LFG(x.K0))},ee.\u0275prov=F.Yz7({token:ee,factory:ee.\u0275fac}),ee})();function wt(ee){(0,x.q)().remove(ee)}const Ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},De=/%COMP%/g;function ie(ee,K,$){for(let pe=0;pe<K.length;pe++){let Pe=K[pe];Array.isArray(Pe)?ie(ee,Pe,$):(Pe=Pe.replace(De,ee),$.push(Pe))}return $}function W(ee){return K=>{if("__ngUnwrap__"===K)return ee;!1===ee(K)&&(K.preventDefault(),K.returnValue=!1)}}let ge=(()=>{class ee{constructor($,pe,Pe){this.eventManager=$,this.sharedStylesHost=pe,this.appId=Pe,this.rendererByCompId=new Map,this.defaultRenderer=new de($)}createRenderer($,pe){if(!$||!pe)return this.defaultRenderer;switch(pe.encapsulation){case F.ifc.Emulated:{let Pe=this.rendererByCompId.get(pe.id);return Pe||(Pe=new Xt(this.eventManager,this.sharedStylesHost,pe,this.appId),this.rendererByCompId.set(pe.id,Pe)),Pe.applyToHost($),Pe}case 1:case F.ifc.ShadowDom:return new qt(this.eventManager,this.sharedStylesHost,$,pe);default:if(!this.rendererByCompId.has(pe.id)){const Pe=ie(pe.id,pe.styles,[]);this.sharedStylesHost.addStyles(Pe),this.rendererByCompId.set(pe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ee.\u0275fac=function($){return new($||ee)(F.LFG(et),F.LFG(Tt),F.LFG(F.AFp))},ee.\u0275prov=F.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class de{constructor(K){this.eventManager=K,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(K,$){return $?document.createElementNS(Ht[$]||$,K):document.createElement(K)}createComment(K){return document.createComment(K)}createText(K){return document.createTextNode(K)}appendChild(K,$){K.appendChild($)}insertBefore(K,$,pe){K&&K.insertBefore($,pe)}removeChild(K,$){K&&K.removeChild($)}selectRootElement(K,$){let pe="string"==typeof K?document.querySelector(K):K;if(!pe)throw new Error(`The selector "${K}" did not match any elements`);return $||(pe.textContent=""),pe}parentNode(K){return K.parentNode}nextSibling(K){return K.nextSibling}setAttribute(K,$,pe,Pe){if(Pe){$=Pe+":"+$;const lt=Ht[Pe];lt?K.setAttributeNS(lt,$,pe):K.setAttribute($,pe)}else K.setAttribute($,pe)}removeAttribute(K,$,pe){if(pe){const Pe=Ht[pe];Pe?K.removeAttributeNS(Pe,$):K.removeAttribute(`${pe}:${$}`)}else K.removeAttribute($)}addClass(K,$){K.classList.add($)}removeClass(K,$){K.classList.remove($)}setStyle(K,$,pe,Pe){Pe&(F.JOm.DashCase|F.JOm.Important)?K.style.setProperty($,pe,Pe&F.JOm.Important?"important":""):K.style[$]=pe}removeStyle(K,$,pe){pe&F.JOm.DashCase?K.style.removeProperty($):K.style[$]=""}setProperty(K,$,pe){K[$]=pe}setValue(K,$){K.nodeValue=$}listen(K,$,pe){return"string"==typeof K?this.eventManager.addGlobalEventListener(K,$,W(pe)):this.eventManager.addEventListener(K,$,W(pe))}}class Xt extends de{constructor(K,$,pe,Pe){super(K),this.component=pe;const lt=ie(Pe+"-"+pe.id,pe.styles,[]);$.addStyles(lt),this.contentAttr=function ue(ee){return"_ngcontent-%COMP%".replace(De,ee)}(Pe+"-"+pe.id),this.hostAttr=function Re(ee){return"_nghost-%COMP%".replace(De,ee)}(Pe+"-"+pe.id)}applyToHost(K){super.setAttribute(K,this.hostAttr,"")}createElement(K,$){const pe=super.createElement(K,$);return super.setAttribute(pe,this.contentAttr,""),pe}}class qt extends de{constructor(K,$,pe,Pe){super(K),this.sharedStylesHost=$,this.hostEl=pe,this.shadowRoot=pe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const lt=ie(Pe.id,Pe.styles,[]);for(let Wt=0;Wt<lt.length;Wt++){const on=document.createElement("style");on.textContent=lt[Wt],this.shadowRoot.appendChild(on)}}nodeOrShadowRoot(K){return K===this.hostEl?this.shadowRoot:K}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(K,$){return super.appendChild(this.nodeOrShadowRoot(K),$)}insertBefore(K,$,pe){return super.insertBefore(this.nodeOrShadowRoot(K),$,pe)}removeChild(K,$){return super.removeChild(this.nodeOrShadowRoot(K),$)}parentNode(K){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(K)))}}let Qe=(()=>{class ee extends ft{constructor($){super($)}supports($){return!0}addEventListener($,pe,Pe){return $.addEventListener(pe,Pe,!1),()=>this.removeEventListener($,pe,Pe)}removeEventListener($,pe,Pe){return $.removeEventListener(pe,Pe)}}return ee.\u0275fac=function($){return new($||ee)(F.LFG(x.K0))},ee.\u0275prov=F.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const sn=["alt","control","meta","shift"],yn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},An={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jn={alt:ee=>ee.altKey,control:ee=>ee.ctrlKey,meta:ee=>ee.metaKey,shift:ee=>ee.shiftKey};let Ln=(()=>{class ee extends ft{constructor($){super($)}supports($){return null!=ee.parseEventName($)}addEventListener($,pe,Pe){const lt=ee.parseEventName(pe),Wt=ee.eventCallback(lt.fullKey,Pe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,x.q)().onAndCancel($,lt.domEventName,Wt))}static parseEventName($){const pe=$.toLowerCase().split("."),Pe=pe.shift();if(0===pe.length||"keydown"!==Pe&&"keyup"!==Pe)return null;const lt=ee._normalizeKey(pe.pop());let Wt="";if(sn.forEach($n=>{const ar=pe.indexOf($n);ar>-1&&(pe.splice(ar,1),Wt+=$n+".")}),Wt+=lt,0!=pe.length||0===lt.length)return null;const on={};return on.domEventName=Pe,on.fullKey=Wt,on}static getEventFullKey($){let pe="",Pe=function kn(ee){let K=ee.key;if(null==K){if(K=ee.keyIdentifier,null==K)return"Unidentified";K.startsWith("U+")&&(K=String.fromCharCode(parseInt(K.substring(2),16)),3===ee.location&&An.hasOwnProperty(K)&&(K=An[K]))}return yn[K]||K}($);return Pe=Pe.toLowerCase()," "===Pe?Pe="space":"."===Pe&&(Pe="dot"),sn.forEach(lt=>{lt!=Pe&&jn[lt]($)&&(pe+=lt+".")}),pe+=Pe,pe}static eventCallback($,pe,Pe){return lt=>{ee.getEventFullKey(lt)===$&&Pe.runGuarded(()=>pe(lt))}}static _normalizeKey($){return"esc"===$?"escape":$}}return ee.\u0275fac=function($){return new($||ee)(F.LFG(x.K0))},ee.\u0275prov=F.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const bi=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:x.bD},{provide:F.g9A,useValue:function Nn(){ye.makeCurrent(),xe.init()},multi:!0},{provide:x.K0,useFactory:function en(){return(0,F.RDi)(document),document},deps:[]}]),En=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function yt(){return new F.qLn},deps:[]},{provide:Le,useClass:Qe,multi:!0,deps:[x.K0,F.R0b,F.Lbi]},{provide:Le,useClass:Ln,multi:!0,deps:[x.K0]},{provide:ge,useClass:ge,deps:[et,Tt,F.AFp]},{provide:F.FYo,useExisting:ge},{provide:We,useExisting:Tt},{provide:Tt,useClass:Tt,deps:[x.K0]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b]},{provide:et,useClass:et,deps:[Le,F.R0b]},{provide:x.JF,useClass:qe,deps:[]}];let gn=(()=>{class ee{constructor($){if($)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition($){return{ngModule:ee,providers:[{provide:F.AFp,useValue:$.appId},{provide:Ne,useExisting:F.AFp},Z]}}}return ee.\u0275fac=function($){return new($||ee)(F.LFG(ee,12))},ee.\u0275mod=F.oAB({type:ee}),ee.\u0275inj=F.cJS({providers:En,imports:[x.ez,F.hGG]}),ee})();"undefined"!=typeof window&&window;var fn=L(520),Un=L(9293);const ji=[{path:"",loadChildren:()=>L.e(698).then(L.bind(L,3698)).then(ee=>ee.HomeModule)},{path:"about",loadChildren:()=>L.e(70).then(L.bind(L,6070)).then(ee=>ee.AboutModule)},{path:"blogs",loadChildren:()=>L.e(190).then(L.bind(L,190)).then(ee=>ee.BlogsModule)},{path:"portfolio",loadChildren:()=>L.e(64).then(L.bind(L,4064)).then(ee=>ee.PortfolioModule)},{path:"contact",loadChildren:()=>L.e(774).then(L.bind(L,7774)).then(ee=>ee.ContactModule)}];let Vs=(()=>{class ee{}return ee.\u0275fac=function($){return new($||ee)},ee.\u0275mod=F.oAB({type:ee}),ee.\u0275inj=F.cJS({imports:[[Un.Bz.forRoot(ji)],Un.Bz]}),ee})(),Ci=(()=>{class ee{constructor(){}ngOnInit(){}}return ee.\u0275fac=function($){return new($||ee)},ee.\u0275cmp=F.Xpm({type:ee,selectors:[["app-navigation"]],decls:11,vars:0,consts:[[1,"controls"],["routerLink","/","routerLinkActive","active-btn",1,"control"],[1,"fas","fa-home"],["routerLink","about","routerLinkActive","active-btn",1,"control"],[1,"fas","fa-user"],["routerLink","portfolio","routerLinkActive","active-btn",1,"control"],[1,"fas","fa-briefcase"],["routerLink","blogs","routerLinkActive","active-btn",1,"control"],[1,"far","fa-newspaper"],["routerLink","contact","routerLinkActive","active-btn",1,"control"],[1,"fas","fa-envelope-open"]],template:function($,pe){1&$&&(F.TgZ(0,"div",0)(1,"button",1),F._UZ(2,"i",2),F.qZA(),F.TgZ(3,"button",3),F._UZ(4,"i",4),F.qZA(),F.TgZ(5,"button",5),F._UZ(6,"i",6),F.qZA(),F.TgZ(7,"button",7),F._UZ(8,"i",8),F.qZA(),F.TgZ(9,"button",9),F._UZ(10,"i",10),F.qZA()())},directives:[Un.rH,Un.Od],styles:[".controls[_ngcontent-%COMP%]{position:fixed;z-index:10;top:50%;right:3%;display:flex;flex-direction:column;align-items:center;justify-content:center;transform:translateY(-50%)}.controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{padding:1rem;cursor:pointer;background-color:var(--color-grey-4);width:55px;height:55px;border-radius:50%;display:flex;justify-content:center;align-items:center;margin:.7rem 0;box-shadow:var(--box-shadow-1)}.controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--color-grey-2);pointer-events:none}.controls[_ngcontent-%COMP%]   .active-btn[_ngcontent-%COMP%]{background-color:var(--color-secondary);transition:all .4s ease-in-out}.controls[_ngcontent-%COMP%]   .active-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-white)}"]}),ee})(),os=(()=>{class ee{constructor(){this.mode=new F.vpe,this.setLigth=!1}ngOnInit(){}changeTheme(){this.setLigth=!this.setLigth,this.mode.emit(this.setLigth)}}return ee.\u0275fac=function($){return new($||ee)},ee.\u0275cmp=F.Xpm({type:ee,selectors:[["app-custom-theme"]],outputs:{mode:"mode"},decls:2,vars:0,consts:[[1,"theme-btn",3,"click"],[1,"fas","fa-adjust"]],template:function($,pe){1&$&&(F.TgZ(0,"button",0),F.NdJ("click",function(){return pe.changeTheme()}),F._UZ(1,"i",1),F.qZA())},styles:[".theme-btn[_ngcontent-%COMP%]{top:5%;right:3%;width:70px;height:70px;border-radius:50%;background-color:var(--color-grey-4);cursor:pointer;position:fixed;display:flex;justify-content:center;align-items:center;box-shadow:0 3px 15px #0000004d;transition:all .1s ease-in-out}.theme-btn[_ngcontent-%COMP%]:active{transform:translateY(-3px)}.theme-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--color-grey-2);pointer-events:none}"]}),ee})();const yi=function(ee){return[ee]};let ii=(()=>{class ee{constructor(){this.setMode=!1}receiveMode($){this.setMode=$}}return ee.\u0275fac=function($){return new($||ee)},ee.\u0275cmp=F.Xpm({type:ee,selectors:[["app-root"]],decls:4,vars:3,consts:[[1,"main-content",3,"ngClass"],[3,"mode"]],template:function($,pe){1&$&&(F.TgZ(0,"main",0),F._UZ(1,"router-outlet")(2,"app-navigation"),F.TgZ(3,"app-custom-theme",1),F.NdJ("mode",function(lt){return pe.receiveMode(lt)}),F.qZA()()),2&$&&F.Q6J("ngClass",F.VKq(1,yi,pe.setMode?"light-mode":""))},directives:[x.mk,Un.lC,Ci,os],styles:[""]}),ee})(),Co=(()=>{class ee{}return ee.\u0275fac=function($){return new($||ee)},ee.\u0275mod=F.oAB({type:ee}),ee.\u0275inj=F.cJS({imports:[[x.ez]]}),ee})(),$i=(()=>{class ee{}return ee.\u0275fac=function($){return new($||ee)},ee.\u0275mod=F.oAB({type:ee}),ee.\u0275inj=F.cJS({imports:[[x.ez,Un.Bz]]}),ee})();var vi=L(3692);const as_firebase={projectId:"my-portfolio-5caed",appId:"1:767105787616:web:5624224a7ecdd13f155285",storageBucket:"my-portfolio-5caed.appspot.com",apiKey:"AIzaSyCQTz_j4vmc2yx_nhUHm7286CRgf5kzcZE",authDomain:"my-portfolio-5caed.firebaseapp.com",messagingSenderId:"767105787616",measurementId:"G-LGLSE1SYC7"};var bn=L(2875);let kt=(()=>{class ee{}return ee.\u0275fac=function($){return new($||ee)},ee.\u0275mod=F.oAB({type:ee,bootstrap:[ii]}),ee.\u0275inj=F.cJS({providers:[],imports:[[gn,Vs,fn.JF,$i,Co,(0,vi.hX)(()=>(0,vi.ZF)(as_firebase)),(0,bn.Cm)(()=>(0,bn.ad)())]]}),ee})();(0,F.G48)(),bi().bootstrapModule(kt).catch(ee=>console.error(ee))},5867:(Dt,Me,L)=>{L.d(Me,{C6:()=>x.C6,KN:()=>x.KN,Mq:()=>x.Mq,ZF:()=>x.ZF});var x=L(9681);(0,x.KN)("firebase","9.8.4","app")},8306:(Dt,Me,L)=>{L.d(Me,{y:()=>X});var x=L(2961),F=L(727),oe=L(8822),ye=L(6393);var Oe=L(2416),Ze=L(576),Ne=L(2806);let X=(()=>{class Le{constructor(ft){ft&&(this._subscribe=ft)}lift(ft){const We=new Le;return We.source=this,We.operator=ft,We}subscribe(ft,We,Tt){const wt=function qe(Le){return Le&&Le instanceof x.Lv||function xe(Le){return Le&&(0,Ze.m)(Le.next)&&(0,Ze.m)(Le.error)&&(0,Ze.m)(Le.complete)}(Le)&&(0,F.Nn)(Le)}(ft)?ft:new x.Hp(ft,We,Tt);return(0,Ne.x)(()=>{const{operator:Ht,source:De}=this;wt.add(Ht?Ht.call(wt,De):De?this._subscribe(wt):this._trySubscribe(wt))}),wt}_trySubscribe(ft){try{return this._subscribe(ft)}catch(We){ft.error(We)}}forEach(ft,We){return new(We=Z(We))((Tt,wt)=>{const Ht=new x.Hp({next:De=>{try{ft(De)}catch(je){wt(je),Ht.unsubscribe()}},error:wt,complete:Tt});this.subscribe(Ht)})}_subscribe(ft){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(ft)}[oe.L](){return this}pipe(...ft){return function Ce(Le){return 0===Le.length?ye.y:1===Le.length?Le[0]:function(ft){return Le.reduce((We,Tt)=>Tt(We),ft)}}(ft)(this)}toPromise(ft){return new(ft=Z(ft))((We,Tt)=>{let wt;this.subscribe(Ht=>wt=Ht,Ht=>Tt(Ht),()=>We(wt))})}}return Le.create=et=>new Le(et),Le})();function Z(Le){var et;return null!==(et=null!=Le?Le:Oe.v.Promise)&&void 0!==et?et:Promise}},7579:(Dt,Me,L)=>{L.d(Me,{x:()=>Oe});var x=L(8306),F=L(727);const ye=(0,L(3888).d)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var G=L(8737),Ce=L(2806);let Oe=(()=>{class Ne extends x.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const xe=new Ze(this,this);return xe.operator=Z,xe}_throwIfClosed(){if(this.closed)throw new ye}next(Z){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(Z)}})}error(Z){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:xe}=this;for(;xe.length;)xe.shift().error(Z)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:xe,isStopped:qe,observers:Le}=this;return xe||qe?F.Lc:(this.currentObservers=null,Le.push(Z),new F.w0(()=>{this.currentObservers=null,(0,G.P)(Le,Z)}))}_checkFinalizedStatuses(Z){const{hasError:xe,thrownError:qe,isStopped:Le}=this;xe?Z.error(qe):Le&&Z.complete()}asObservable(){const Z=new x.y;return Z.source=this,Z}}return Ne.create=(X,Z)=>new Ze(X,Z),Ne})();class Ze extends Oe{constructor(X,Z){super(),this.destination=X,this.source=Z}next(X){var Z,xe;null===(xe=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===xe||xe.call(Z,X)}error(X){var Z,xe;null===(xe=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===xe||xe.call(Z,X)}complete(){var X,Z;null===(Z=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===Z||Z.call(X)}_subscribe(X){var Z,xe;return null!==(xe=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(X))&&void 0!==xe?xe:F.Lc}}},2961:(Dt,Me,L)=>{L.d(Me,{Hp:()=>ft,Lv:()=>xe});var x=L(576),F=L(727),oe=L(2416),ye=L(7849);function G(){}const Ce=Ne("C",void 0,void 0);function Ne(De,je,ze){return{kind:De,value:je,error:ze}}var X=L(3410),Z=L(2806);class xe extends F.w0{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,F.Nn)(je)&&je.add(this)):this.destination=Ht}static create(je,ze,Fe){return new ft(je,ze,Fe)}next(je){this.isStopped?wt(function Ze(De){return Ne("N",De,void 0)}(je),this):this._next(je)}error(je){this.isStopped?wt(function Oe(De){return Ne("E",void 0,De)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?wt(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Le(De,je){return qe.call(De,je)}class et{constructor(je){this.partialObserver=je}next(je){const{partialObserver:ze}=this;if(ze.next)try{ze.next(je)}catch(Fe){We(Fe)}}error(je){const{partialObserver:ze}=this;if(ze.error)try{ze.error(je)}catch(Fe){We(Fe)}else We(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(ze){We(ze)}}}class ft extends xe{constructor(je,ze,Fe){let Et;if(super(),(0,x.m)(je)||!je)Et={next:null!=je?je:void 0,error:null!=ze?ze:void 0,complete:null!=Fe?Fe:void 0};else{let ue;this&&oe.v.useDeprecatedNextContext?(ue=Object.create(je),ue.unsubscribe=()=>this.unsubscribe(),Et={next:je.next&&Le(je.next,ue),error:je.error&&Le(je.error,ue),complete:je.complete&&Le(je.complete,ue)}):Et=je}this.destination=new et(Et)}}function We(De){oe.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(De):(0,ye.h)(De)}function wt(De,je){const{onStoppedNotification:ze}=oe.v;ze&&X.z.setTimeout(()=>ze(De,je))}const Ht={closed:!0,next:G,error:function Tt(De){throw De},complete:G}},727:(Dt,Me,L)=>{L.d(Me,{Lc:()=>Ce,w0:()=>G,Nn:()=>Oe});var x=L(576);const oe=(0,L(3888).d)(Ne=>function(Z){Ne(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((xe,qe)=>`${qe+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var ye=L(8737);class G{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Le of Z)Le.remove(this);else Z.remove(this);const{initialTeardown:xe}=this;if((0,x.m)(xe))try{xe()}catch(Le){X=Le instanceof oe?Le.errors:[Le]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Le of qe)try{Ze(Le)}catch(et){X=null!=X?X:[],et instanceof oe?X=[...X,...et.errors]:X.push(et)}}if(X)throw new oe(X)}}add(X){var Z;if(X&&X!==this)if(this.closed)Ze(X);else{if(X instanceof G){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(X)}}_hasParent(X){const{_parentage:Z}=this;return Z===X||Array.isArray(Z)&&Z.includes(X)}_addParent(X){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(X),Z):Z?[Z,X]:X}_removeParent(X){const{_parentage:Z}=this;Z===X?this._parentage=null:Array.isArray(Z)&&(0,ye.P)(Z,X)}remove(X){const{_finalizers:Z}=this;Z&&(0,ye.P)(Z,X),X instanceof G&&X._removeParent(this)}}G.EMPTY=(()=>{const Ne=new G;return Ne.closed=!0,Ne})();const Ce=G.EMPTY;function Oe(Ne){return Ne instanceof G||Ne&&"closed"in Ne&&(0,x.m)(Ne.remove)&&(0,x.m)(Ne.add)&&(0,x.m)(Ne.unsubscribe)}function Ze(Ne){(0,x.m)(Ne)?Ne():Ne.unsubscribe()}},2416:(Dt,Me,L)=>{L.d(Me,{v:()=>x});const x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Dt,Me,L)=>{L.d(Me,{E:()=>F});const F=new(L(8306).y)(G=>G.complete())},8996:(Dt,Me,L)=>{L.d(Me,{D:()=>je});var x=L(8421),F=L(5363),oe=L(9468),Ce=L(8306),Ze=L(2202),Ne=L(576),X=L(9672);function xe(ze,Fe){if(!ze)throw new Error("Iterable cannot be null");return new Ce.y(Et=>{(0,X.f)(Et,Fe,()=>{const ue=ze[Symbol.asyncIterator]();(0,X.f)(Et,Fe,()=>{ue.next().then(Re=>{Re.done?Et.complete():Et.next(Re.value)})},0,!0)})})}var qe=L(3670),Le=L(8239),et=L(1144),ft=L(6495),We=L(2206),Tt=L(4532),wt=L(3260);function je(ze,Fe){return Fe?function De(ze,Fe){if(null!=ze){if((0,qe.c)(ze))return function ye(ze,Fe){return(0,x.Xf)(ze).pipe((0,oe.R)(Fe),(0,F.Q)(Fe))}(ze,Fe);if((0,et.z)(ze))return function Oe(ze,Fe){return new Ce.y(Et=>{let ue=0;return Fe.schedule(function(){ue===ze.length?Et.complete():(Et.next(ze[ue++]),Et.closed||this.schedule())})})}(ze,Fe);if((0,Le.t)(ze))return function G(ze,Fe){return(0,x.Xf)(ze).pipe((0,oe.R)(Fe),(0,F.Q)(Fe))}(ze,Fe);if((0,We.D)(ze))return xe(ze,Fe);if((0,ft.T)(ze))return function Z(ze,Fe){return new Ce.y(Et=>{let ue;return(0,X.f)(Et,Fe,()=>{ue=ze[Ze.h](),(0,X.f)(Et,Fe,()=>{let Re,ie;try{({value:Re,done:ie}=ue.next())}catch(W){return void Et.error(W)}ie?Et.complete():Et.next(Re)},0,!0)}),()=>(0,Ne.m)(null==ue?void 0:ue.return)&&ue.return()})}(ze,Fe);if((0,wt.L)(ze))return function Ht(ze,Fe){return xe((0,wt.Q)(ze),Fe)}(ze,Fe)}throw(0,Tt.z)(ze)}(ze,Fe):(0,x.Xf)(ze)}},8421:(Dt,Me,L)=>{L.d(Me,{Xf:()=>qe});var x=L(655),F=L(1144),oe=L(8239),ye=L(8306),G=L(3670),Ce=L(2206),Oe=L(4532),Ze=L(6495),Ne=L(3260),X=L(576),Z=L(7849),xe=L(8822);function qe(De){if(De instanceof ye.y)return De;if(null!=De){if((0,G.c)(De))return function Le(De){return new ye.y(je=>{const ze=De[xe.L]();if((0,X.m)(ze.subscribe))return ze.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,F.z)(De))return function et(De){return new ye.y(je=>{for(let ze=0;ze<De.length&&!je.closed;ze++)je.next(De[ze]);je.complete()})}(De);if((0,oe.t)(De))return function ft(De){return new ye.y(je=>{De.then(ze=>{je.closed||(je.next(ze),je.complete())},ze=>je.error(ze)).then(null,Z.h)})}(De);if((0,Ce.D)(De))return Tt(De);if((0,Ze.T)(De))return function We(De){return new ye.y(je=>{for(const ze of De)if(je.next(ze),je.closed)return;je.complete()})}(De);if((0,Ne.L)(De))return function wt(De){return Tt((0,Ne.Q)(De))}(De)}throw(0,Oe.z)(De)}function Tt(De){return new ye.y(je=>{(function Ht(De,je){var ze,Fe,Et,ue;return(0,x.mG)(this,void 0,void 0,function*(){try{for(ze=(0,x.KL)(De);!(Fe=yield ze.next()).done;)if(je.next(Fe.value),je.closed)return}catch(Re){Et={error:Re}}finally{try{Fe&&!Fe.done&&(ue=ze.return)&&(yield ue.call(ze))}finally{if(Et)throw Et.error}}je.complete()})})(De,je).catch(ze=>je.error(ze))})}},9646:(Dt,Me,L)=>{L.d(Me,{of:()=>oe});var x=L(7669),F=L(8996);function oe(...ye){const G=(0,x.yG)(ye);return(0,F.D)(ye,G)}},5403:(Dt,Me,L)=>{L.d(Me,{x:()=>F});var x=L(2961);function F(ye,G,Ce,Oe,Ze){return new oe(ye,G,Ce,Oe,Ze)}class oe extends x.Lv{constructor(G,Ce,Oe,Ze,Ne,X){super(G),this.onFinalize=Ne,this.shouldUnsubscribe=X,this._next=Ce?function(Z){try{Ce(Z)}catch(xe){G.error(xe)}}:super._next,this._error=Ze?function(Z){try{Ze(Z)}catch(xe){G.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(Z){G.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var G;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(G=this.onFinalize)||void 0===G||G.call(this))}}}},4351:(Dt,Me,L)=>{L.d(Me,{b:()=>oe});var x=L(5577),F=L(576);function oe(ye,G){return(0,F.m)(G)?(0,x.z)(ye,G,1):(0,x.z)(ye,1)}},9300:(Dt,Me,L)=>{L.d(Me,{h:()=>oe});var x=L(4482),F=L(5403);function oe(ye,G){return(0,x.e)((Ce,Oe)=>{let Ze=0;Ce.subscribe((0,F.x)(Oe,Ne=>ye.call(G,Ne,Ze++)&&Oe.next(Ne)))})}},4004:(Dt,Me,L)=>{L.d(Me,{U:()=>oe});var x=L(4482),F=L(5403);function oe(ye,G){return(0,x.e)((Ce,Oe)=>{let Ze=0;Ce.subscribe((0,F.x)(Oe,Ne=>{Oe.next(ye.call(G,Ne,Ze++))}))})}},8189:(Dt,Me,L)=>{L.d(Me,{J:()=>oe});var x=L(5577),F=L(6393);function oe(ye=1/0){return(0,x.z)(F.y,ye)}},5577:(Dt,Me,L)=>{L.d(Me,{z:()=>Ze});var x=L(4004),F=L(8421),oe=L(4482),ye=L(9672),G=L(5403),Oe=L(576);function Ze(Ne,X,Z=1/0){return(0,Oe.m)(X)?Ze((xe,qe)=>(0,x.U)((Le,et)=>X(xe,Le,qe,et))((0,F.Xf)(Ne(xe,qe))),Z):("number"==typeof X&&(Z=X),(0,oe.e)((xe,qe)=>function Ce(Ne,X,Z,xe,qe,Le,et,ft){const We=[];let Tt=0,wt=0,Ht=!1;const De=()=>{Ht&&!We.length&&!Tt&&X.complete()},je=Fe=>Tt<xe?ze(Fe):We.push(Fe),ze=Fe=>{Le&&X.next(Fe),Tt++;let Et=!1;(0,F.Xf)(Z(Fe,wt++)).subscribe((0,G.x)(X,ue=>{null==qe||qe(ue),Le?je(ue):X.next(ue)},()=>{Et=!0},void 0,()=>{if(Et)try{for(Tt--;We.length&&Tt<xe;){const ue=We.shift();et?(0,ye.f)(X,et,()=>ze(ue)):ze(ue)}De()}catch(ue){X.error(ue)}}))};return Ne.subscribe((0,G.x)(X,je,()=>{Ht=!0,De()})),()=>{null==ft||ft()}}(xe,qe,Ne,Z)))}},5363:(Dt,Me,L)=>{L.d(Me,{Q:()=>ye});var x=L(9672),F=L(4482),oe=L(5403);function ye(G,Ce=0){return(0,F.e)((Oe,Ze)=>{Oe.subscribe((0,oe.x)(Ze,Ne=>(0,x.f)(Ze,G,()=>Ze.next(Ne),Ce),()=>(0,x.f)(Ze,G,()=>Ze.complete(),Ce),Ne=>(0,x.f)(Ze,G,()=>Ze.error(Ne),Ce)))})}},9468:(Dt,Me,L)=>{L.d(Me,{R:()=>F});var x=L(4482);function F(oe,ye=0){return(0,x.e)((G,Ce)=>{Ce.add(oe.schedule(()=>G.subscribe(Ce),ye))})}},5698:(Dt,Me,L)=>{L.d(Me,{q:()=>ye});var x=L(515),F=L(4482),oe=L(5403);function ye(G){return G<=0?()=>x.E:(0,F.e)((Ce,Oe)=>{let Ze=0;Ce.subscribe((0,oe.x)(Oe,Ne=>{++Ze<=G&&(Oe.next(Ne),G<=Ze&&Oe.complete())}))})}},8505:(Dt,Me,L)=>{L.d(Me,{b:()=>G});var x=L(576),F=L(4482),oe=L(5403),ye=L(6393);function G(Ce,Oe,Ze){const Ne=(0,x.m)(Ce)||Oe||Ze?{next:Ce,error:Oe,complete:Ze}:Ce;return Ne?(0,F.e)((X,Z)=>{var xe;null===(xe=Ne.subscribe)||void 0===xe||xe.call(Ne);let qe=!0;X.subscribe((0,oe.x)(Z,Le=>{var et;null===(et=Ne.next)||void 0===et||et.call(Ne,Le),Z.next(Le)},()=>{var Le;qe=!1,null===(Le=Ne.complete)||void 0===Le||Le.call(Ne),Z.complete()},Le=>{var et;qe=!1,null===(et=Ne.error)||void 0===et||et.call(Ne,Le),Z.error(Le)},()=>{var Le,et;qe&&(null===(Le=Ne.unsubscribe)||void 0===Le||Le.call(Ne)),null===(et=Ne.finalize)||void 0===et||et.call(Ne)}))}):ye.y}},3410:(Dt,Me,L)=>{L.d(Me,{z:()=>x});const x={setTimeout(F,oe,...ye){const{delegate:G}=x;return(null==G?void 0:G.setTimeout)?G.setTimeout(F,oe,...ye):setTimeout(F,oe,...ye)},clearTimeout(F){const{delegate:oe}=x;return((null==oe?void 0:oe.clearTimeout)||clearTimeout)(F)},delegate:void 0}},2202:(Dt,Me,L)=>{L.d(Me,{h:()=>F});const F=function x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,Me,L)=>{L.d(Me,{L:()=>x});const x="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Dt,Me,L)=>{L.d(Me,{_6:()=>Ce,jO:()=>ye,yG:()=>G});var x=L(576);function oe(Oe){return Oe[Oe.length-1]}function ye(Oe){return(0,x.m)(oe(Oe))?Oe.pop():void 0}function G(Oe){return function F(Oe){return Oe&&(0,x.m)(Oe.schedule)}(oe(Oe))?Oe.pop():void 0}function Ce(Oe,Ze){return"number"==typeof oe(Oe)?Oe.pop():Ze}},8737:(Dt,Me,L)=>{function x(F,oe){if(F){const ye=F.indexOf(oe);0<=ye&&F.splice(ye,1)}}L.d(Me,{P:()=>x})},3888:(Dt,Me,L)=>{function x(F){const ye=F(G=>{Error.call(G),G.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}L.d(Me,{d:()=>x})},2806:(Dt,Me,L)=>{L.d(Me,{O:()=>ye,x:()=>oe});var x=L(2416);let F=null;function oe(G){if(x.v.useDeprecatedSynchronousErrorHandling){const Ce=!F;if(Ce&&(F={errorThrown:!1,error:null}),G(),Ce){const{errorThrown:Oe,error:Ze}=F;if(F=null,Oe)throw Ze}}else G()}function ye(G){x.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=G)}},9672:(Dt,Me,L)=>{function x(F,oe,ye,G=0,Ce=!1){const Oe=oe.schedule(function(){ye(),Ce?F.add(this.schedule(null,G)):this.unsubscribe()},G);if(F.add(Oe),!Ce)return Oe}L.d(Me,{f:()=>x})},6393:(Dt,Me,L)=>{function x(F){return F}L.d(Me,{y:()=>x})},1144:(Dt,Me,L)=>{L.d(Me,{z:()=>x});const x=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(Dt,Me,L)=>{L.d(Me,{D:()=>F});var x=L(576);function F(oe){return Symbol.asyncIterator&&(0,x.m)(null==oe?void 0:oe[Symbol.asyncIterator])}},576:(Dt,Me,L)=>{function x(F){return"function"==typeof F}L.d(Me,{m:()=>x})},3670:(Dt,Me,L)=>{L.d(Me,{c:()=>oe});var x=L(8822),F=L(576);function oe(ye){return(0,F.m)(ye[x.L])}},6495:(Dt,Me,L)=>{L.d(Me,{T:()=>oe});var x=L(2202),F=L(576);function oe(ye){return(0,F.m)(null==ye?void 0:ye[x.h])}},8239:(Dt,Me,L)=>{L.d(Me,{t:()=>F});var x=L(576);function F(oe){return(0,x.m)(null==oe?void 0:oe.then)}},3260:(Dt,Me,L)=>{L.d(Me,{L:()=>ye,Q:()=>oe});var x=L(655),F=L(576);function oe(G){return(0,x.FC)(this,arguments,function*(){const Oe=G.getReader();try{for(;;){const{value:Ze,done:Ne}=yield(0,x.qq)(Oe.read());if(Ne)return yield(0,x.qq)(void 0);yield yield(0,x.qq)(Ze)}}finally{Oe.releaseLock()}})}function ye(G){return(0,F.m)(null==G?void 0:G.getReader)}},4482:(Dt,Me,L)=>{L.d(Me,{A:()=>F,e:()=>oe});var x=L(576);function F(ye){return(0,x.m)(null==ye?void 0:ye.lift)}function oe(ye){return G=>{if(F(G))return G.lift(function(Ce){try{return ye(Ce,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(Dt,Me,L)=>{L.d(Me,{h:()=>oe});var x=L(2416),F=L(3410);function oe(ye){F.z.setTimeout(()=>{const{onUnhandledError:G}=x.v;if(!G)throw ye;G(ye)})}},4532:(Dt,Me,L)=>{function x(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Me,{z:()=>x})},655:(Dt,Me,L)=>{function ye(ie,W){var le={};for(var ge in ie)Object.prototype.hasOwnProperty.call(ie,ge)&&W.indexOf(ge)<0&&(le[ge]=ie[ge]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(ge=Object.getOwnPropertySymbols(ie);de<ge.length;de++)W.indexOf(ge[de])<0&&Object.prototype.propertyIsEnumerable.call(ie,ge[de])&&(le[ge[de]]=ie[ge[de]])}return le}function Ze(ie,W,le,ge){return new(le||(le=Promise))(function(Ge,ut){function Xt(sn){try{Qe(ge.next(sn))}catch(wn){ut(wn)}}function qt(sn){try{Qe(ge.throw(sn))}catch(wn){ut(wn)}}function Qe(sn){sn.done?Ge(sn.value):function de(Ge){return Ge instanceof le?Ge:new le(function(ut){ut(Ge)})}(sn.value).then(Xt,qt)}Qe((ge=ge.apply(ie,W||[])).next())})}function We(ie){return this instanceof We?(this.v=ie,this):new We(ie)}function Tt(ie,W,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,ge=le.apply(ie,W||[]),Ge=[];return de={},ut("next"),ut("throw"),ut("return"),de[Symbol.asyncIterator]=function(){return this},de;function ut(yn){ge[yn]&&(de[yn]=function(An){return new Promise(function(jn,Ln){Ge.push([yn,An,jn,Ln])>1||Xt(yn,An)})})}function Xt(yn,An){try{!function qt(yn){yn.value instanceof We?Promise.resolve(yn.value.v).then(Qe,sn):wn(Ge[0][2],yn)}(ge[yn](An))}catch(jn){wn(Ge[0][3],jn)}}function Qe(yn){Xt("next",yn)}function sn(yn){Xt("throw",yn)}function wn(yn,An){yn(An),Ge.shift(),Ge.length&&Xt(Ge[0][0],Ge[0][1])}}function Ht(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,W=ie[Symbol.asyncIterator];return W?W.call(ie):(ie=function xe(ie){var W="function"==typeof Symbol&&Symbol.iterator,le=W&&ie[W],ge=0;if(le)return le.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&ge>=ie.length&&(ie=void 0),{value:ie&&ie[ge++],done:!ie}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),le={},ge("next"),ge("throw"),ge("return"),le[Symbol.asyncIterator]=function(){return this},le);function ge(Ge){le[Ge]=ie[Ge]&&function(ut){return new Promise(function(Xt,qt){!function de(Ge,ut,Xt,qt){Promise.resolve(qt).then(function(Qe){Ge({value:Qe,done:Xt})},ut)}(Xt,qt,(ut=ie[Ge](ut)).done,ut.value)})}}}L.d(Me,{FC:()=>Tt,KL:()=>Ht,_T:()=>ye,mG:()=>Ze,qq:()=>We})},9808:(Dt,Me,L)=>{L.d(Me,{Do:()=>De,EM:()=>Qn,HT:()=>G,JF:()=>Ts,K0:()=>Oe,Mx:()=>Cn,S$:()=>We,V_:()=>X,Ye:()=>je,b0:()=>Ht,bD:()=>jl,ez:()=>pa,lw:()=>Ze,mk:()=>sr,mr:()=>wt,q:()=>oe,sg:()=>zr,w_:()=>Ce});var x=L(1223);let F=null;function oe(){return F}function G(T){F||(F=T)}class Ce{}const Oe=new x.OlP("DocumentToken");let Ze=(()=>{class T{historyGo(b){throw new Error("Not implemented")}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=x.Yz7({token:T,factory:function(){return function Ne(){return(0,x.LFG)(Z)}()},providedIn:"platform"}),T})();const X=new x.OlP("Location Initialized");let Z=(()=>{class T extends Ze{constructor(b){super(),this._doc=b,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oe().getBaseHref(this._doc)}onPopState(b){const P=oe().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",b,!1),()=>P.removeEventListener("popstate",b)}onHashChange(b){const P=oe().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",b,!1),()=>P.removeEventListener("hashchange",b)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(b){this.location.pathname=b}pushState(b,P,Q){xe()?this._history.pushState(b,P,Q):this.location.hash=Q}replaceState(b,P,Q){xe()?this._history.replaceState(b,P,Q):this.location.hash=Q}forward(){this._history.forward()}back(){this._history.back()}historyGo(b=0){this._history.go(b)}getState(){return this._history.state}}return T.\u0275fac=function(b){return new(b||T)(x.LFG(Oe))},T.\u0275prov=x.Yz7({token:T,factory:function(){return function qe(){return new Z((0,x.LFG)(Oe))}()},providedIn:"platform"}),T})();function xe(){return!!window.history.pushState}function Le(T,k){if(0==T.length)return k;if(0==k.length)return T;let b=0;return T.endsWith("/")&&b++,k.startsWith("/")&&b++,2==b?T+k.substring(1):1==b?T+k:T+"/"+k}function et(T){const k=T.match(/#|\?|$/),b=k&&k.index||T.length;return T.slice(0,b-("/"===T[b-1]?1:0))+T.slice(b)}function ft(T){return T&&"?"!==T[0]?"?"+T:T}let We=(()=>{class T{historyGo(b){throw new Error("Not implemented")}}return T.\u0275fac=function(b){return new(b||T)},T.\u0275prov=x.Yz7({token:T,factory:function(){return function Tt(T){const k=(0,x.LFG)(Oe).location;return new Ht((0,x.LFG)(Ze),k&&k.origin||"")}()},providedIn:"root"}),T})();const wt=new x.OlP("appBaseHref");let Ht=(()=>{class T extends We{constructor(b,P){if(super(),this._platformLocation=b,this._removeListenerFns=[],null==P&&(P=this._platformLocation.getBaseHrefFromDOM()),null==P)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=P}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}prepareExternalUrl(b){return Le(this._baseHref,b)}path(b=!1){const P=this._platformLocation.pathname+ft(this._platformLocation.search),Q=this._platformLocation.hash;return Q&&b?`${P}${Q}`:P}pushState(b,P,Q,Ie){const $e=this.prepareExternalUrl(Q+ft(Ie));this._platformLocation.pushState(b,P,$e)}replaceState(b,P,Q,Ie){const $e=this.prepareExternalUrl(Q+ft(Ie));this._platformLocation.replaceState(b,P,$e)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(b=0){var P,Q;null===(Q=(P=this._platformLocation).historyGo)||void 0===Q||Q.call(P,b)}}return T.\u0275fac=function(b){return new(b||T)(x.LFG(Ze),x.LFG(wt,8))},T.\u0275prov=x.Yz7({token:T,factory:T.\u0275fac}),T})(),De=(()=>{class T extends We{constructor(b,P){super(),this._platformLocation=b,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(b){this._removeListenerFns.push(this._platformLocation.onPopState(b),this._platformLocation.onHashChange(b))}getBaseHref(){return this._baseHref}path(b=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(b){const P=Le(this._baseHref,b);return P.length>0?"#"+P:P}pushState(b,P,Q,Ie){let $e=this.prepareExternalUrl(Q+ft(Ie));0==$e.length&&($e=this._platformLocation.pathname),this._platformLocation.pushState(b,P,$e)}replaceState(b,P,Q,Ie){let $e=this.prepareExternalUrl(Q+ft(Ie));0==$e.length&&($e=this._platformLocation.pathname),this._platformLocation.replaceState(b,P,$e)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(b=0){var P,Q;null===(Q=(P=this._platformLocation).historyGo)||void 0===Q||Q.call(P,b)}}return T.\u0275fac=function(b){return new(b||T)(x.LFG(Ze),x.LFG(wt,8))},T.\u0275prov=x.Yz7({token:T,factory:T.\u0275fac}),T})(),je=(()=>{class T{constructor(b,P){this._subject=new x.vpe,this._urlChangeListeners=[],this._platformStrategy=b;const Q=this._platformStrategy.getBaseHref();this._platformLocation=P,this._baseHref=et(Et(Q)),this._platformStrategy.onPopState(Ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ie.state,type:Ie.type})})}path(b=!1){return this.normalize(this._platformStrategy.path(b))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(b,P=""){return this.path()==this.normalize(b+ft(P))}normalize(b){return T.stripTrailingSlash(function Fe(T,k){return T&&k.startsWith(T)?k.substring(T.length):k}(this._baseHref,Et(b)))}prepareExternalUrl(b){return b&&"/"!==b[0]&&(b="/"+b),this._platformStrategy.prepareExternalUrl(b)}go(b,P="",Q=null){this._platformStrategy.pushState(Q,"",b,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+ft(P)),Q)}replaceState(b,P="",Q=null){this._platformStrategy.replaceState(Q,"",b,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(b+ft(P)),Q)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(b=0){var P,Q;null===(Q=(P=this._platformStrategy).historyGo)||void 0===Q||Q.call(P,b)}onUrlChange(b){this._urlChangeListeners.push(b),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)}))}_notifyUrlChangeListeners(b="",P){this._urlChangeListeners.forEach(Q=>Q(b,P))}subscribe(b,P,Q){return this._subject.subscribe({next:b,error:P,complete:Q})}}return T.normalizeQueryParams=ft,T.joinWithSlash=Le,T.stripTrailingSlash=et,T.\u0275fac=function(b){return new(b||T)(x.LFG(We),x.LFG(Ze))},T.\u0275prov=x.Yz7({token:T,factory:function(){return function ze(){return new je((0,x.LFG)(We),(0,x.LFG)(Ze))}()},providedIn:"root"}),T})();function Et(T){return T.replace(/\/index.html$/,"")}function Cn(T,k){k=encodeURIComponent(k);for(const b of T.split(";")){const P=b.indexOf("="),[Q,Ie]=-1==P?[b,""]:[b.slice(0,P),b.slice(P+1)];if(Q.trim()===k)return decodeURIComponent(Ie)}return null}let sr=(()=>{class T{constructor(b,P,Q,Ie){this._iterableDiffers=b,this._keyValueDiffers=P,this._ngEl=Q,this._renderer=Ie,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(b){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof b?b.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(b){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof b?b.split(/\s+/):b,this._rawClass&&((0,x.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const b=this._iterableDiffer.diff(this._rawClass);b&&this._applyIterableChanges(b)}else if(this._keyValueDiffer){const b=this._keyValueDiffer.diff(this._rawClass);b&&this._applyKeyValueChanges(b)}}_applyKeyValueChanges(b){b.forEachAddedItem(P=>this._toggleClass(P.key,P.currentValue)),b.forEachChangedItem(P=>this._toggleClass(P.key,P.currentValue)),b.forEachRemovedItem(P=>{P.previousValue&&this._toggleClass(P.key,!1)})}_applyIterableChanges(b){b.forEachAddedItem(P=>{if("string"!=typeof P.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,x.AaK)(P.item)}`);this._toggleClass(P.item,!0)}),b.forEachRemovedItem(P=>this._toggleClass(P.item,!1))}_applyClasses(b){b&&(Array.isArray(b)||b instanceof Set?b.forEach(P=>this._toggleClass(P,!0)):Object.keys(b).forEach(P=>this._toggleClass(P,!!b[P])))}_removeClasses(b){b&&(Array.isArray(b)||b instanceof Set?b.forEach(P=>this._toggleClass(P,!1)):Object.keys(b).forEach(P=>this._toggleClass(P,!1)))}_toggleClass(b,P){(b=b.trim())&&b.split(/\s+/g).forEach(Q=>{P?this._renderer.addClass(this._ngEl.nativeElement,Q):this._renderer.removeClass(this._ngEl.nativeElement,Q)})}}return T.\u0275fac=function(b){return new(b||T)(x.Y36(x.ZZ4),x.Y36(x.aQg),x.Y36(x.SBq),x.Y36(x.Qsj))},T.\u0275dir=x.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),T})();class Yn{constructor(k,b,P,Q){this.$implicit=k,this.ngForOf=b,this.index=P,this.count=Q}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zr=(()=>{class T{constructor(b,P,Q){this._viewContainer=b,this._template=P,this._differs=Q,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(b){this._ngForOf=b,this._ngForOfDirty=!0}set ngForTrackBy(b){this._trackByFn=b}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(b){b&&(this._template=b)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const b=this._ngForOf;!this._differ&&b&&(this._differ=this._differs.find(b).create(this.ngForTrackBy))}if(this._differ){const b=this._differ.diff(this._ngForOf);b&&this._applyChanges(b)}}_applyChanges(b){const P=this._viewContainer;b.forEachOperation((Q,Ie,$e)=>{if(null==Q.previousIndex)P.createEmbeddedView(this._template,new Yn(Q.item,this._ngForOf,-1,-1),null===$e?void 0:$e);else if(null==$e)P.remove(null===Ie?void 0:Ie);else if(null!==Ie){const _t=P.get(Ie);P.move(_t,$e),Hn(_t,Q)}});for(let Q=0,Ie=P.length;Q<Ie;Q++){const _t=P.get(Q).context;_t.index=Q,_t.count=Ie,_t.ngForOf=this._ngForOf}b.forEachIdentityChange(Q=>{Hn(P.get(Q.currentIndex),Q)})}static ngTemplateContextGuard(b,P){return!0}}return T.\u0275fac=function(b){return new(b||T)(x.Y36(x.s_b),x.Y36(x.Rgc),x.Y36(x.ZZ4))},T.\u0275dir=x.lG2({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),T})();function Hn(T,k){T.context.$implicit=k.item}let pa=(()=>{class T{}return T.\u0275fac=function(b){return new(b||T)},T.\u0275mod=x.oAB({type:T}),T.\u0275inj=x.cJS({}),T})();const jl="browser";let Qn=(()=>{class T{}return T.\u0275prov=(0,x.Yz7)({token:T,providedIn:"root",factory:()=>new ga((0,x.LFG)(Oe),window)}),T})();class ga{constructor(k,b){this.document=k,this.window=b,this.offset=()=>[0,0]}setOffset(k){this.offset=Array.isArray(k)?()=>k:k}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(k){this.supportsScrolling()&&this.window.scrollTo(k[0],k[1])}scrollToAnchor(k){if(!this.supportsScrolling())return;const b=function Mi(T,k){const b=T.getElementById(k)||T.getElementsByName(k)[0];if(b)return b;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const P=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let Q=P.currentNode;for(;Q;){const Ie=Q.shadowRoot;if(Ie){const $e=Ie.getElementById(k)||Ie.querySelector(`[name="${k}"]`);if($e)return $e}Q=P.nextNode()}}return null}(this.document,k);b&&(this.scrollToElement(b),b.focus())}setHistoryScrollRestoration(k){if(this.supportScrollRestoration()){const b=this.window.history;b&&b.scrollRestoration&&(b.scrollRestoration=k)}}scrollToElement(k){const b=k.getBoundingClientRect(),P=b.left+this.window.pageXOffset,Q=b.top+this.window.pageYOffset,Ie=this.offset();this.window.scrollTo(P-Ie[0],Q-Ie[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const k=xi(this.window.history)||xi(Object.getPrototypeOf(this.window.history));return!(!k||!k.writable&&!k.set)}catch(k){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(k){return!1}}}function xi(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class Ts{}},520:(Dt,Me,L)=>{L.d(Me,{Ed:()=>Kn,JF:()=>On});var x=L(9808),F=L(1223),oe=L(9646),ye=L(8306),G=L(4351),Ce=L(9300),Oe=L(4004);class Ze{}class Ne{}class X{constructor(ne){this.normalizedNames=new Map,this.lazyUpdate=null,ne?this.lazyInit="string"==typeof ne?()=>{this.headers=new Map,ne.split("\n").forEach(J=>{const fe=J.indexOf(":");if(fe>0){const Se=J.slice(0,fe),Ue=Se.toLowerCase(),Ke=J.slice(fe+1).trim();this.maybeSetNormalizedName(Se,Ue),this.headers.has(Ue)?this.headers.get(Ue).push(Ke):this.headers.set(Ue,[Ke])}})}:()=>{this.headers=new Map,Object.keys(ne).forEach(J=>{let fe=ne[J];const Se=J.toLowerCase();"string"==typeof fe&&(fe=[fe]),fe.length>0&&(this.headers.set(Se,fe),this.maybeSetNormalizedName(J,Se))})}:this.headers=new Map}has(ne){return this.init(),this.headers.has(ne.toLowerCase())}get(ne){this.init();const J=this.headers.get(ne.toLowerCase());return J&&J.length>0?J[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ne){return this.init(),this.headers.get(ne.toLowerCase())||null}append(ne,J){return this.clone({name:ne,value:J,op:"a"})}set(ne,J){return this.clone({name:ne,value:J,op:"s"})}delete(ne,J){return this.clone({name:ne,value:J,op:"d"})}maybeSetNormalizedName(ne,J){this.normalizedNames.has(J)||this.normalizedNames.set(J,ne)}init(){this.lazyInit&&(this.lazyInit instanceof X?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ne=>this.applyUpdate(ne)),this.lazyUpdate=null))}copyFrom(ne){ne.init(),Array.from(ne.headers.keys()).forEach(J=>{this.headers.set(J,ne.headers.get(J)),this.normalizedNames.set(J,ne.normalizedNames.get(J))})}clone(ne){const J=new X;return J.lazyInit=this.lazyInit&&this.lazyInit instanceof X?this.lazyInit:this,J.lazyUpdate=(this.lazyUpdate||[]).concat([ne]),J}applyUpdate(ne){const J=ne.name.toLowerCase();switch(ne.op){case"a":case"s":let fe=ne.value;if("string"==typeof fe&&(fe=[fe]),0===fe.length)return;this.maybeSetNormalizedName(ne.name,J);const Se=("a"===ne.op?this.headers.get(J):void 0)||[];Se.push(...fe),this.headers.set(J,Se);break;case"d":const Ue=ne.value;if(Ue){let Ke=this.headers.get(J);if(!Ke)return;Ke=Ke.filter(tn=>-1===Ue.indexOf(tn)),0===Ke.length?(this.headers.delete(J),this.normalizedNames.delete(J)):this.headers.set(J,Ke)}else this.headers.delete(J),this.normalizedNames.delete(J)}}forEach(ne){this.init(),Array.from(this.normalizedNames.keys()).forEach(J=>ne(this.normalizedNames.get(J),this.headers.get(J)))}}class Z{encodeKey(ne){return et(ne)}encodeValue(ne){return et(ne)}decodeKey(ne){return decodeURIComponent(ne)}decodeValue(ne){return decodeURIComponent(ne)}}const qe=/%(\d[a-f0-9])/gi,Le={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function et(we){return encodeURIComponent(we).replace(qe,(ne,J)=>{var fe;return null!==(fe=Le[J])&&void 0!==fe?fe:ne})}function ft(we){return`${we}`}class We{constructor(ne={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ne.encoder||new Z,ne.fromString){if(ne.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xe(we,ne){const J=new Map;return we.length>0&&we.replace(/^\?/,"").split("&").forEach(Se=>{const Ue=Se.indexOf("="),[Ke,tn]=-1==Ue?[ne.decodeKey(Se),""]:[ne.decodeKey(Se.slice(0,Ue)),ne.decodeValue(Se.slice(Ue+1))],xt=J.get(Ke)||[];xt.push(tn),J.set(Ke,xt)}),J}(ne.fromString,this.encoder)}else ne.fromObject?(this.map=new Map,Object.keys(ne.fromObject).forEach(J=>{const fe=ne.fromObject[J];this.map.set(J,Array.isArray(fe)?fe:[fe])})):this.map=null}has(ne){return this.init(),this.map.has(ne)}get(ne){this.init();const J=this.map.get(ne);return J?J[0]:null}getAll(ne){return this.init(),this.map.get(ne)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ne,J){return this.clone({param:ne,value:J,op:"a"})}appendAll(ne){const J=[];return Object.keys(ne).forEach(fe=>{const Se=ne[fe];Array.isArray(Se)?Se.forEach(Ue=>{J.push({param:fe,value:Ue,op:"a"})}):J.push({param:fe,value:Se,op:"a"})}),this.clone(J)}set(ne,J){return this.clone({param:ne,value:J,op:"s"})}delete(ne,J){return this.clone({param:ne,value:J,op:"d"})}toString(){return this.init(),this.keys().map(ne=>{const J=this.encoder.encodeKey(ne);return this.map.get(ne).map(fe=>J+"="+this.encoder.encodeValue(fe)).join("&")}).filter(ne=>""!==ne).join("&")}clone(ne){const J=new We({encoder:this.encoder});return J.cloneFrom=this.cloneFrom||this,J.updates=(this.updates||[]).concat(ne),J}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ne=>this.map.set(ne,this.cloneFrom.map.get(ne))),this.updates.forEach(ne=>{switch(ne.op){case"a":case"s":const J=("a"===ne.op?this.map.get(ne.param):void 0)||[];J.push(ft(ne.value)),this.map.set(ne.param,J);break;case"d":if(void 0===ne.value){this.map.delete(ne.param);break}{let fe=this.map.get(ne.param)||[];const Se=fe.indexOf(ft(ne.value));-1!==Se&&fe.splice(Se,1),fe.length>0?this.map.set(ne.param,fe):this.map.delete(ne.param)}}}),this.cloneFrom=this.updates=null)}}class wt{constructor(){this.map=new Map}set(ne,J){return this.map.set(ne,J),this}get(ne){return this.map.has(ne)||this.map.set(ne,ne.defaultValue()),this.map.get(ne)}delete(ne){return this.map.delete(ne),this}has(ne){return this.map.has(ne)}keys(){return this.map.keys()}}function De(we){return"undefined"!=typeof ArrayBuffer&&we instanceof ArrayBuffer}function je(we){return"undefined"!=typeof Blob&&we instanceof Blob}function ze(we){return"undefined"!=typeof FormData&&we instanceof FormData}class Et{constructor(ne,J,fe,Se){let Ue;if(this.url=J,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ne.toUpperCase(),function Ht(we){switch(we){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Se?(this.body=void 0!==fe?fe:null,Ue=Se):Ue=fe,Ue&&(this.reportProgress=!!Ue.reportProgress,this.withCredentials=!!Ue.withCredentials,Ue.responseType&&(this.responseType=Ue.responseType),Ue.headers&&(this.headers=Ue.headers),Ue.context&&(this.context=Ue.context),Ue.params&&(this.params=Ue.params)),this.headers||(this.headers=new X),this.context||(this.context=new wt),this.params){const Ke=this.params.toString();if(0===Ke.length)this.urlWithParams=J;else{const tn=J.indexOf("?");this.urlWithParams=J+(-1===tn?"?":tn<J.length-1?"&":"")+Ke}}else this.params=new We,this.urlWithParams=J}serializeBody(){return null===this.body?null:De(this.body)||je(this.body)||ze(this.body)||function Fe(we){return"undefined"!=typeof URLSearchParams&&we instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof We?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ze(this.body)?null:je(this.body)?this.body.type||null:De(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof We?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ne={}){var J;const fe=ne.method||this.method,Se=ne.url||this.url,Ue=ne.responseType||this.responseType,Ke=void 0!==ne.body?ne.body:this.body,tn=void 0!==ne.withCredentials?ne.withCredentials:this.withCredentials,xt=void 0!==ne.reportProgress?ne.reportProgress:this.reportProgress;let jt=ne.headers||this.headers,Yt=ne.params||this.params;const Sn=null!==(J=ne.context)&&void 0!==J?J:this.context;return void 0!==ne.setHeaders&&(jt=Object.keys(ne.setHeaders).reduce((ir,ht)=>ir.set(ht,ne.setHeaders[ht]),jt)),ne.setParams&&(Yt=Object.keys(ne.setParams).reduce((ir,ht)=>ir.set(ht,ne.setParams[ht]),Yt)),new Et(fe,Se,Ke,{params:Yt,headers:jt,context:Sn,reportProgress:xt,responseType:Ue,withCredentials:tn})}}var ue=(()=>((ue=ue||{})[ue.Sent=0]="Sent",ue[ue.UploadProgress=1]="UploadProgress",ue[ue.ResponseHeader=2]="ResponseHeader",ue[ue.DownloadProgress=3]="DownloadProgress",ue[ue.Response=4]="Response",ue[ue.User=5]="User",ue))();class Re{constructor(ne,J=200,fe="OK"){this.headers=ne.headers||new X,this.status=void 0!==ne.status?ne.status:J,this.statusText=ne.statusText||fe,this.url=ne.url||null,this.ok=this.status>=200&&this.status<300}}class ie extends Re{constructor(ne={}){super(ne),this.type=ue.ResponseHeader}clone(ne={}){return new ie({headers:ne.headers||this.headers,status:void 0!==ne.status?ne.status:this.status,statusText:ne.statusText||this.statusText,url:ne.url||this.url||void 0})}}class W extends Re{constructor(ne={}){super(ne),this.type=ue.Response,this.body=void 0!==ne.body?ne.body:null}clone(ne={}){return new W({body:void 0!==ne.body?ne.body:this.body,headers:ne.headers||this.headers,status:void 0!==ne.status?ne.status:this.status,statusText:ne.statusText||this.statusText,url:ne.url||this.url||void 0})}}class le extends Re{constructor(ne){super(ne,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ne.url||"(unknown url)"}`:`Http failure response for ${ne.url||"(unknown url)"}: ${ne.status} ${ne.statusText}`,this.error=ne.error||null}}function ge(we,ne){return{body:ne,headers:we.headers,context:we.context,observe:we.observe,params:we.params,reportProgress:we.reportProgress,responseType:we.responseType,withCredentials:we.withCredentials}}let de=(()=>{class we{constructor(J){this.handler=J}request(J,fe,Se={}){let Ue;if(J instanceof Et)Ue=J;else{let xt,jt;xt=Se.headers instanceof X?Se.headers:new X(Se.headers),Se.params&&(jt=Se.params instanceof We?Se.params:new We({fromObject:Se.params})),Ue=new Et(J,fe,void 0!==Se.body?Se.body:null,{headers:xt,context:Se.context,params:jt,reportProgress:Se.reportProgress,responseType:Se.responseType||"json",withCredentials:Se.withCredentials})}const Ke=(0,oe.of)(Ue).pipe((0,G.b)(xt=>this.handler.handle(xt)));if(J instanceof Et||"events"===Se.observe)return Ke;const tn=Ke.pipe((0,Ce.h)(xt=>xt instanceof W));switch(Se.observe||"body"){case"body":switch(Ue.responseType){case"arraybuffer":return tn.pipe((0,Oe.U)(xt=>{if(null!==xt.body&&!(xt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return xt.body}));case"blob":return tn.pipe((0,Oe.U)(xt=>{if(null!==xt.body&&!(xt.body instanceof Blob))throw new Error("Response is not a Blob.");return xt.body}));case"text":return tn.pipe((0,Oe.U)(xt=>{if(null!==xt.body&&"string"!=typeof xt.body)throw new Error("Response is not a string.");return xt.body}));default:return tn.pipe((0,Oe.U)(xt=>xt.body))}case"response":return tn;default:throw new Error(`Unreachable: unhandled observe type ${Se.observe}}`)}}delete(J,fe={}){return this.request("DELETE",J,fe)}get(J,fe={}){return this.request("GET",J,fe)}head(J,fe={}){return this.request("HEAD",J,fe)}jsonp(J,fe){return this.request("JSONP",J,{params:(new We).append(fe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(J,fe={}){return this.request("OPTIONS",J,fe)}patch(J,fe,Se={}){return this.request("PATCH",J,ge(Se,fe))}post(J,fe,Se={}){return this.request("POST",J,ge(Se,fe))}put(J,fe,Se={}){return this.request("PUT",J,ge(Se,fe))}}return we.\u0275fac=function(J){return new(J||we)(F.LFG(Ze))},we.\u0275prov=F.Yz7({token:we,factory:we.\u0275fac}),we})();class Ge{constructor(ne,J){this.next=ne,this.interceptor=J}handle(ne){return this.interceptor.intercept(ne,this.next)}}const ut=new F.OlP("HTTP_INTERCEPTORS");let Qe,Xt=(()=>{class we{intercept(J,fe){return fe.handle(J)}}return we.\u0275fac=function(J){return new(J||we)},we.\u0275prov=F.Yz7({token:we,factory:we.\u0275fac}),we})(),qt=0;class An{}let jn=(()=>{class we{constructor(J,fe){this.callbackMap=J,this.document=fe,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+qt++}handle(J){if("JSONP"!==J.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==J.responseType)throw new Error("JSONP requests must use Json response type.");return new ye.y(fe=>{const Se=this.nextCallback(),Ue=J.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${Se}$1`),Ke=this.document.createElement("script");Ke.src=Ue;let tn=null,xt=!1;this.callbackMap[Se]=ir=>{delete this.callbackMap[Se],tn=ir,xt=!0};const jt=()=>{Ke.parentNode&&Ke.parentNode.removeChild(Ke),delete this.callbackMap[Se]};return Ke.addEventListener("load",ir=>{this.resolvedPromise.then(()=>{jt(),xt?(fe.next(new W({body:tn,status:200,statusText:"OK",url:Ue})),fe.complete()):fe.error(new le({url:Ue,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})}),Ke.addEventListener("error",ir=>{jt(),fe.error(new le({error:ir,status:0,statusText:"JSONP Error",url:Ue}))}),this.document.body.appendChild(Ke),fe.next({type:ue.Sent}),()=>{xt||this.removeListeners(Ke),jt()}})}removeListeners(J){Qe||(Qe=this.document.implementation.createHTMLDocument()),Qe.adoptNode(J)}}return we.\u0275fac=function(J){return new(J||we)(F.LFG(An),F.LFG(x.K0))},we.\u0275prov=F.Yz7({token:we,factory:we.\u0275fac}),we})(),Ln=(()=>{class we{constructor(J){this.jsonp=J}intercept(J,fe){return"JSONP"===J.method?this.jsonp.handle(J):fe.handle(J)}}return we.\u0275fac=function(J){return new(J||we)(F.LFG(jn))},we.\u0275prov=F.Yz7({token:we,factory:we.\u0275fac}),we})();const kn=/^\)\]\}',?\n/;let yt=(()=>{class we{constructor(J){this.xhrFactory=J}handle(J){if("JSONP"===J.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ye.y(fe=>{const Se=this.xhrFactory.build();if(Se.open(J.method,J.urlWithParams),J.withCredentials&&(Se.withCredentials=!0),J.headers.forEach((ht,te)=>Se.setRequestHeader(ht,te.join(","))),J.headers.has("Accept")||Se.setRequestHeader("Accept","application/json, text/plain, */*"),!J.headers.has("Content-Type")){const ht=J.detectContentTypeHeader();null!==ht&&Se.setRequestHeader("Content-Type",ht)}if(J.responseType){const ht=J.responseType.toLowerCase();Se.responseType="json"!==ht?ht:"text"}const Ue=J.serializeBody();let Ke=null;const tn=()=>{if(null!==Ke)return Ke;const ht=Se.statusText||"OK",te=new X(Se.getAllResponseHeaders()),V=function Nn(we){return"responseURL"in we&&we.responseURL?we.responseURL:/^X-Request-URL:/m.test(we.getAllResponseHeaders())?we.getResponseHeader("X-Request-URL"):null}(Se)||J.url;return Ke=new ie({headers:te,status:Se.status,statusText:ht,url:V}),Ke},xt=()=>{let{headers:ht,status:te,statusText:V,url:ae}=tn(),re=null;204!==te&&(re=void 0===Se.response?Se.responseText:Se.response),0===te&&(te=re?200:0);let j=te>=200&&te<300;if("json"===J.responseType&&"string"==typeof re){const Ae=re;re=re.replace(kn,"");try{re=""!==re?JSON.parse(re):null}catch(nt){re=Ae,j&&(j=!1,re={error:nt,text:re})}}j?(fe.next(new W({body:re,headers:ht,status:te,statusText:V,url:ae||void 0})),fe.complete()):fe.error(new le({error:re,headers:ht,status:te,statusText:V,url:ae||void 0}))},jt=ht=>{const{url:te}=tn(),V=new le({error:ht,status:Se.status||0,statusText:Se.statusText||"Unknown Error",url:te||void 0});fe.error(V)};let Yt=!1;const Sn=ht=>{Yt||(fe.next(tn()),Yt=!0);let te={type:ue.DownloadProgress,loaded:ht.loaded};ht.lengthComputable&&(te.total=ht.total),"text"===J.responseType&&!!Se.responseText&&(te.partialText=Se.responseText),fe.next(te)},ir=ht=>{let te={type:ue.UploadProgress,loaded:ht.loaded};ht.lengthComputable&&(te.total=ht.total),fe.next(te)};return Se.addEventListener("load",xt),Se.addEventListener("error",jt),Se.addEventListener("timeout",jt),Se.addEventListener("abort",jt),J.reportProgress&&(Se.addEventListener("progress",Sn),null!==Ue&&Se.upload&&Se.upload.addEventListener("progress",ir)),Se.send(Ue),fe.next({type:ue.Sent}),()=>{Se.removeEventListener("error",jt),Se.removeEventListener("abort",jt),Se.removeEventListener("load",xt),Se.removeEventListener("timeout",jt),J.reportProgress&&(Se.removeEventListener("progress",Sn),null!==Ue&&Se.upload&&Se.upload.removeEventListener("progress",ir)),Se.readyState!==Se.DONE&&Se.abort()}})}}return we.\u0275fac=function(J){return new(J||we)(F.LFG(x.JF))},we.\u0275prov=F.Yz7({token:we,factory:we.\u0275fac}),we})();const en=new F.OlP("XSRF_COOKIE_NAME"),Vr=new F.OlP("XSRF_HEADER_NAME");class bi{}let En=(()=>{class we{constructor(J,fe,Se){this.doc=J,this.platform=fe,this.cookieName=Se,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const J=this.doc.cookie||"";return J!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,x.Mx)(J,this.cookieName),this.lastCookieString=J),this.lastToken}}return we.\u0275fac=function(J){return new(J||we)(F.LFG(x.K0),F.LFG(F.Lbi),F.LFG(en))},we.\u0275prov=F.Yz7({token:we,factory:we.\u0275fac}),we})(),gn=(()=>{class we{constructor(J,fe){this.tokenService=J,this.headerName=fe}intercept(J,fe){const Se=J.url.toLowerCase();if("GET"===J.method||"HEAD"===J.method||Se.startsWith("http://")||Se.startsWith("https://"))return fe.handle(J);const Ue=this.tokenService.getToken();return null!==Ue&&!J.headers.has(this.headerName)&&(J=J.clone({headers:J.headers.set(this.headerName,Ue)})),fe.handle(J)}}return we.\u0275fac=function(J){return new(J||we)(F.LFG(bi),F.LFG(Vr))},we.\u0275prov=F.Yz7({token:we,factory:we.\u0275fac}),we})(),wr=(()=>{class we{constructor(J,fe){this.backend=J,this.injector=fe,this.chain=null}handle(J){if(null===this.chain){const fe=this.injector.get(ut,[]);this.chain=fe.reduceRight((Se,Ue)=>new Ge(Se,Ue),this.backend)}return this.chain.handle(J)}}return we.\u0275fac=function(J){return new(J||we)(F.LFG(Ne),F.LFG(F.zs3))},we.\u0275prov=F.Yz7({token:we,factory:we.\u0275fac}),we})();function Tn(){return"object"==typeof window?window:{}}let Gt=(()=>{class we{static disable(){return{ngModule:we,providers:[{provide:gn,useClass:Xt}]}}static withOptions(J={}){return{ngModule:we,providers:[J.cookieName?{provide:en,useValue:J.cookieName}:[],J.headerName?{provide:Vr,useValue:J.headerName}:[]]}}}return we.\u0275fac=function(J){return new(J||we)},we.\u0275mod=F.oAB({type:we}),we.\u0275inj=F.cJS({providers:[gn,{provide:ut,useExisting:gn,multi:!0},{provide:bi,useClass:En},{provide:en,useValue:"XSRF-TOKEN"},{provide:Vr,useValue:"X-XSRF-TOKEN"}]}),we})(),On=(()=>{class we{}return we.\u0275fac=function(J){return new(J||we)},we.\u0275mod=F.oAB({type:we}),we.\u0275inj=F.cJS({providers:[de,{provide:Ze,useClass:wr},yt,{provide:Ne,useExisting:yt}],imports:[[Gt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),we})(),Kn=(()=>{class we{}return we.\u0275fac=function(J){return new(J||we)},we.\u0275mod=F.oAB({type:we}),we.\u0275inj=F.cJS({providers:[jn,{provide:An,useFactory:Tn},{provide:ut,useClass:Ln,multi:!0}]}),we})()},1223:(Dt,Me,L)=>{L.d(Me,{deG:()=>Zy,tb:()=>Iy,AFp:()=>Dp,ip1:()=>l0,CZH:()=>vc,hGG:()=>By,z2F:()=>ch,sBO:()=>LD,Sil:()=>Ty,_Vd:()=>ep,EJc:()=>CD,SBq:()=>Zd,qLn:()=>$h,vpe:()=>to,tBr:()=>Su,XFs:()=>fe,OlP:()=>Wn,zs3:()=>Ii,ZZ4:()=>Uy,aQg:()=>gh,soG:()=>Tp,YKP:()=>Qm,h0i:()=>Sl,PXZ:()=>Vl,R0b:()=>no,FiY:()=>zo,Lbi:()=>Ey,g9A:()=>Ll,Qsj:()=>iD,FYo:()=>Rw,JOm:()=>fo,tp0:()=>Oi,Rgc:()=>ru,dDg:()=>Sp,q4F:()=>Nw,GfV:()=>kw,s_b:()=>ih,ifc:()=>ht,eFA:()=>Ec,G48:()=>A0,_c5:()=>HD,VLi:()=>_0,c2e:()=>Dy,zSh:()=>ul,wAp:()=>Nt,vHH:()=>Fe,cg1:()=>ns,kL8:()=>El,dqk:()=>j,sIi:()=>Va,CqO:()=>vl,QGY:()=>tr,F4k:()=>Ut,RDi:()=>Ie,AaK:()=>We,TTD:()=>js,xp6:()=>Pv,uIk:()=>am,Suo:()=>Zw,Xpm:()=>ji,lG2:()=>vi,Yz7:()=>En,cJS:()=>wr,oAB:()=>ii,Yjl:()=>as,Y36:()=>yl,_UZ:()=>mm,qZA:()=>Sd,TgZ:()=>Lf,LFG:()=>Ct,$8M:()=>ks,$Z:()=>U_,NdJ:()=>pn,CRH:()=>Qw,Q6J:()=>pm,VKq:()=>Bw,iGM:()=>Yw,LSH:()=>hv,YNc:()=>pl,_uU:()=>Gf,Oqu:()=>Qu,hij:()=>Ld,Gf:()=>oy});var x=L(8189),F=L(8421),oe=L(515),ye=L(7669),G=L(8996),Oe=L(7579),Ze=L(727),Ne=L(8306),X=L(5698),Z=L(2961),xe=L(4482);function Le(r,i,...o){return!0===i?(r(),null):!1===i?null:i(...o).pipe((0,X.q)(1)).subscribe(()=>r())}function et(r){for(let i in r)if(r[i]===et)return i;throw Error("Could not find renamed property on target object.")}function We(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(We).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Tt(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const wt=et({__forward_ref__:et});function Ht(r){return r.__forward_ref__=Ht,r.toString=function(){return We(this())},r}function De(r){return function je(r){return"function"==typeof r&&r.hasOwnProperty(wt)&&r.__forward_ref__===Ht}(r)?r():r}class Fe extends Error{constructor(i,o){super(function Et(r,i){return`NG0${Math.abs(r)}${i?": "+i:""}`}(i,o)),this.code=i}}function ue(r){return"string"==typeof r?r:null==r?"":String(r)}function Re(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ue(r)}function ge(r,i){const o=i?` in ${i}`:"";throw new Fe(-201,`No provider for ${Re(r)} found${o}`)}function Nn(r,i){null==r&&function yt(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function En(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function wr(r){return{providers:r.providers||[],imports:r.imports||[]}}function fr(r){return Tn(r,er)||Tn(r,ne)}function Tn(r,i){return r.hasOwnProperty(i)?r[i]:null}function Kn(r){return r&&(r.hasOwnProperty(we)||r.hasOwnProperty(J))?r[we]:null}const er=et({\u0275prov:et}),we=et({\u0275inj:et}),ne=et({ngInjectableDef:et}),J=et({ngInjectorDef:et});var fe=(()=>((fe=fe||{})[fe.Default=0]="Default",fe[fe.Host=1]="Host",fe[fe.Self=2]="Self",fe[fe.SkipSelf=4]="SkipSelf",fe[fe.Optional=8]="Optional",fe))();let Se;function Ke(r){const i=Se;return Se=r,i}function tn(r,i,o){const u=fr(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&fe.Optional?null:void 0!==i?i:void ge(We(r),"Injector")}function jt(r){return{toString:r}.toString()}var Yt=(()=>((Yt=Yt||{})[Yt.OnPush=0]="OnPush",Yt[Yt.Default=1]="Default",Yt))(),ht=(()=>{return(r=ht||(ht={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",ht;var r})();const te="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,ae="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=te||"undefined"!=typeof global&&global||V||ae,vt={},ct=[],Ot=et({\u0275cmp:et}),un=et({\u0275dir:et}),zt=et({\u0275pipe:et}),Er=et({\u0275mod:et}),Ir=et({\u0275fac:et}),fn=et({__NG_ELEMENT_ID__:et});let Un=0;function ji(r){return jt(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Yt.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||ct,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||ht.Emulated,id:"c",styles:r.styles||ct,_:null,setInput:null,schemas:r.schemas||null,tView:null},l=r.directives,d=r.features,f=r.pipes;return u.id+=Un++,u.inputs=$i(r.inputs,o),u.outputs=$i(r.outputs),d&&d.forEach(y=>y(u)),u.directiveDefs=l?()=>("function"==typeof l?l():l).map(Ci):null,u.pipeDefs=f?()=>("function"==typeof f?f():f).map(os):null,u})}function Ci(r){return bn(r)||function kt(r){return r[un]||null}(r)}function os(r){return function ee(r){return r[zt]||null}(r)}const yi={};function ii(r){return jt(()=>{const i={type:r.type,bootstrap:r.bootstrap||ct,declarations:r.declarations||ct,imports:r.imports||ct,exports:r.exports||ct,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(yi[r.id]=r.type),i})}function $i(r,i){if(null==r)return vt;const o={};for(const u in r)if(r.hasOwnProperty(u)){let l=r[u],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),o[l]=u,i&&(i[l]=d)}return o}const vi=ji;function as(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function bn(r){return r[Ot]||null}function K(r,i){const o=r[Er]||null;if(!o&&!0===i)throw new Error(`Type ${We(r)} does not have '\u0275mod' property.`);return o}function Vn(r){return Array.isArray(r)&&"object"==typeof r[1]}function pr(r){return Array.isArray(r)&&!0===r[1]}function ys(r){return 0!=(8&r.flags)}function vs(r){return 2==(2&r.flags)}function Dr(r){return 1==(1&r.flags)}function Mr(r){return null!==r.template}function Ao(r){return 0!=(512&r[2])}function Tr(r,i){return r.hasOwnProperty(Ir)?r[Ir]:null}class Ds{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function js(){return Mo}function Mo(r){return r.type.prototype.ngOnChanges&&(r.setInput=du),Cc}function Cc(){const r=Qn(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===vt)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function du(r,i,o,u){const l=Qn(r)||function ga(r,i){return r[ls]=i}(r,{previous:vt,current:null}),d=l.current||(l.current={}),f=l.previous,y=this.declaredInputs[o],_=f[y];d[y]=new Ds(_&&_.currentValue,i,f===vt),r[u]=i}js.ngInherit=!0;const ls="__ngSimpleChanges__";function Qn(r){return r[ls]||null}const k="math";let Q;function Ie(r){Q=r}function pt(r){return!!r.listen}const In={createRenderer:(r,i)=>function $e(){return void 0!==Q?Q:"undefined"!=typeof document?document:void 0}()};function At(r){for(;Array.isArray(r);)r=r[0];return r}function Gn(r,i){return At(i[r.index])}function Wi(r,i){return r.data[i]}function Br(r,i){const o=i[r];return Vn(o)?o:o[0]}function bs(r){return 4==(4&r[2])}function ai(r){return 128==(128&r[2])}function Kr(r,i){return null==i?null:r[i]}function ma(r){r[18]=0}function Cs(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const Pt={lFrame:Ia(null),bindingsEnabled:!0};function Hl(){return Pt.bindingsEnabled}function Ve(){return Pt.lFrame.lView}function nn(){return Pt.lFrame.tView}function zn(){let r=va();for(;null!==r&&64===r.type;)r=r.parent;return r}function va(){return Pt.lFrame.currentTNode}function mr(r,i){const o=Pt.lFrame;o.currentTNode=r,o.isParent=i}function hu(){return Pt.lFrame.isParent}function Ss(){return Pt.lFrame.bindingIndex++}function bh(r,i){const o=Pt.lFrame;o.bindingIndex=o.bindingRootIndex=r,Fo(i)}function Fo(r){Pt.lFrame.currentDirectiveIndex=r}function oo(){return Pt.lFrame.currentQueryIndex}function gu(r){Pt.lFrame.currentQueryIndex=r}function xc(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function mu(r,i,o){if(o&fe.SkipSelf){let l=i,d=r;for(;!(l=l.parent,null!==l||o&fe.Host||(l=xc(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;i=l,r=d}const u=Pt.lFrame=Mc();return u.currentTNode=i,u.lView=r,!0}function Ea(r){const i=Mc(),o=r[1];Pt.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Mc(){const r=Pt.lFrame,i=null===r?null:r.child;return null===i?Ia(r):i}function Ia(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Ch(){const r=Pt.lFrame;return Pt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Ah=Ch;function ao(){const r=Ch();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Zr(){return Pt.lFrame.selectedIndex}function ds(r){Pt.lFrame.selectedIndex=r}function Jn(){const r=Pt.lFrame;return Wi(r.tView,r.selectedIndex)}function Da(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const d=r.data[o].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:y,ngAfterViewInit:_,ngAfterViewChecked:S,ngOnDestroy:R}=d;f&&(r.contentHooks||(r.contentHooks=[])).push(-o,f),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),_&&(r.viewHooks||(r.viewHooks=[])).push(-o,_),S&&((r.viewHooks||(r.viewHooks=[])).push(o,S),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,S)),null!=R&&(r.destroyHooks||(r.destroyHooks=[])).push(o,R)}}function Ms(r,i,o){vu(r,i,3,o)}function Gs(r,i,o,u){(3&r[2])===o&&vu(r,i,o,u)}function Rc(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function vu(r,i,o,u){const d=null!=u?u:-1,f=i.length-1;let y=0;for(let _=void 0!==u?65535&r[18]:0;_<f;_++)if("number"==typeof i[_+1]){if(y=i[_],null!=u&&y>=u)break}else i[_]<0&&(r[18]+=65536),(y<d||-1==d)&&(_i(r,o,i,_),r[18]=(4294901760&r[18])+_+2),_++}function _i(r,i,o,u){const l=o[u]<0,d=o[u+1],y=r[l?-o[u]:o[u]];if(l){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{d.call(y)}finally{}}}else try{d.call(y)}finally{}}class Uo{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Bo(r,i,o){const u=pt(r);let l=0;for(;l<o.length;){const d=o[l];if("number"==typeof d){if(0!==d)break;l++;const f=o[l++],y=o[l++],_=o[l++];u?r.setAttribute(i,y,_,f):i.setAttributeNS(f,y,_)}else{const f=d,y=o[++l];Oc(f)?u&&r.setProperty(i,f,y):u?r.setAttribute(i,f,y):i.setAttribute(f,y),l++}}return l}function Bn(r){return 3===r||4===r||6===r}function Oc(r){return 64===r.charCodeAt(0)}function ki(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||Pc(r,o,l,null,-1===o||2===o?i[++u]:null)}}return r}function Pc(r,i,o,u,l){let d=0,f=r.length;if(-1===i)f=-1;else for(;d<r.length;){const y=r[d++];if("number"==typeof y){if(y===i){f=-1;break}if(y>i){f=d-1;break}}}for(;d<r.length;){const y=r[d];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==l&&(r[d+1]=l));if(u===r[d+1])return void(r[d+2]=l)}d++,null!==u&&d++,null!==l&&d++}-1!==f&&(r.splice(f,0,i),d=f+1),r.splice(d++,0,o),null!==u&&r.splice(d++,0,u),null!==l&&r.splice(d++,0,l)}function Ta(r){return-1!==r}function zs(r){return 32767&r}function hs(r,i){let o=function xh(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let Iu=!0;function jr(r){const i=Iu;return Iu=r,i}let Fc=0;function Rs(r,i){const o=Lc(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,qs(u.data,r),qs(i,null),qs(u.blueprint,null));const l=co(r,i),d=r.injectorIndex;if(Ta(l)){const f=zs(l),y=hs(l,i),_=y[1].data;for(let S=0;S<8;S++)i[d+S]=y[f+S]|_[f+S]}return i[d+8]=l,d}function qs(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Lc(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function co(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){const d=l[1],f=d.type;if(u=2===f?d.declTNode:1===f?l[6]:null,null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Uc(r,i,o){!function ba(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(fn)&&(u=o[fn]),null==u&&(u=o[fn]=Fc++);const l=255&u;i.data[r+(l>>5)]|=1<<l}(r,i,o)}function m(r,i,o){if(o&fe.Optional)return r;ge(i,"NodeInjector")}function p(r,i,o,u){if(o&fe.Optional&&void 0===u&&(u=null),0==(o&(fe.Self|fe.Host))){const l=r[9],d=Ke(void 0);try{return l?l.get(i,u,o&fe.Optional):tn(i,u,o&fe.Optional)}finally{Ke(d)}}return m(u,i,o)}function I(r,i,o,u=fe.Default,l){if(null!==r){const d=function st(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(fn)?r[fn]:void 0;return"number"==typeof i?i>=0?255&i:N:i}(o);if("function"==typeof d){if(!mu(i,r,u))return u&fe.Host?m(l,o,u):p(i,o,u,l);try{const f=d(u);if(null!=f||u&fe.Optional)return f;ge(o)}finally{Ah()}}else if("number"==typeof d){let f=null,y=Lc(r,i),_=-1,S=u&fe.Host?i[16][6]:null;for((-1===y||u&fe.SkipSelf)&&(_=-1===y?co(r,i):i[y+8],-1!==_&&mt(u,!1)?(f=i[1],y=zs(_),i=hs(_,i)):y=-1);-1!==y;){const R=i[1];if(Lt(d,y,R.data)){const U=H(y,i,o,f,u,S);if(U!==C)return U}_=i[y+8],-1!==_&&mt(u,i[1].data[y+8]===S)&&Lt(d,y,i)?(f=R,y=zs(_),i=hs(_,i)):y=-1}}}return p(i,o,u,l)}const C={};function N(){return new cn(zn(),Ve())}function H(r,i,o,u,l,d){const f=i[1],y=f.data[r+8],R=q(y,f,o,null==u?vs(y)&&Iu:u!=f&&0!=(3&y.type),l&fe.Host&&d===y);return null!==R?_e(i,f,R,y):C}function q(r,i,o,u,l){const d=r.providerIndexes,f=i.data,y=1048575&d,_=r.directiveStart,R=d>>20,Y=l?y+R:r.directiveEnd;for(let ce=u?y:y+R;ce<Y;ce++){const be=f[ce];if(ce<_&&o===be||ce>=_&&be.type===o)return ce}if(l){const ce=f[_];if(ce&&Mr(ce)&&ce.type===o)return _}return null}function _e(r,i,o,u){let l=r[o];const d=i.data;if(function _u(r){return r instanceof Uo}(l)){const f=l;f.resolving&&function ie(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${r}${o}`)}(Re(d[o]));const y=jr(f.canSeeViewProviders);f.resolving=!0;const _=f.injectImpl?Ke(f.injectImpl):null;mu(r,u,fe.Default);try{l=r[o]=f.factory(void 0,d,r,u),i.firstCreatePass&&o>=u.directiveStart&&function yu(r,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:d}=i.type.prototype;if(u){const f=Mo(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,f)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,l),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,d))}(o,d[o],i)}finally{null!==_&&Ke(_),jr(y),f.resolving=!1,Ah()}}return l}function Lt(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function mt(r,i){return!(r&fe.Self||r&fe.Host&&i)}class cn{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return I(this._tNode,this._lView,i,u,o)}}function ks(r){return function v(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const d=o[l];if(Bn(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(d===i)return o[l+1];l+=2}}}return null}(zn(),r)}const Ns="__parameters__";function Ca(r,i,o){return jt(()=>{const u=function Vc(r){return function(...o){if(r){const u=r(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...d){if(this instanceof l)return u.apply(this,d),this;const f=new l(...d);return y.annotation=f,y;function y(_,S,R){const U=_.hasOwnProperty(Ns)?_[Ns]:Object.defineProperty(_,Ns,{value:[]})[Ns];for(;U.length<=R;)U.push(null);return(U[R]=U[R]||[]).push(f),_}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=r,l.annotationCls=l,l})}class Wn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=En({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Zy=new Wn("AnalyzeForEntryComponents");function br(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),br(u,i)):i!==r&&i.push(u)}return i}function Yi(r,i){r.forEach(o=>Array.isArray(o)?Yi(o,i):i(o))}function $c(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function Sa(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}const Ma={},Lh="__NG_DI_FLAG__",w="ngTempTokenPath",M=/\n/gm,se="__source",ve=et({provide:String,useValue:et});let Be;function it(r){const i=Be;return Be=r,i}function Ft(r,i=fe.Default){if(void 0===Be)throw new Fe(203,"");return null===Be?tn(r,void 0,i):Be.get(r,i&fe.Optional?null:void 0,i)}function Ct(r,i=fe.Default){return(function Ue(){return Se}()||Ft)(De(r),i)}const Mt=Ct;function Cr(r){const i=[];for(let o=0;o<r.length;o++){const u=De(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Fe(900,"");let l,d=fe.Default;for(let f=0;f<u.length;f++){const y=u[f],_=Gc(y);"number"==typeof _?-1===_?l=y.token:d|=_:l=y}i.push(Ct(l,d))}else i.push(Ct(u))}return i}function Ar(r,i){return r[Lh]=i,r.prototype[Lh]=i,r}function Gc(r){return r[Lh]}const Su=Ar(Ca("Inject",r=>({token:r})),-1),zo=Ar(Ca("Optional"),8),Oi=Ar(Ca("SkipSelf"),4);class Xp{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const rg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hE=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var $r=(()=>(($r=$r||{})[$r.NONE=0]="NONE",$r[$r.HTML=1]="HTML",$r[$r.STYLE=2]="STYLE",$r[$r.SCRIPT=3]="SCRIPT",$r[$r.URL=4]="URL",$r[$r.RESOURCE_URL=5]="RESOURCE_URL",$r))();function hv(r){const i=function Bh(){const r=Ve();return r&&r[12]}();return i?i.sanitize($r.URL,r)||"":function Uh(r,i){const o=function ov(r){return r instanceof Xp&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(r,"URL")?function Wo(r){return r instanceof Xp?r.changingThisBreaksApplicationSecurity:r}(r):function ig(r){return(r=String(r)).match(rg)||r.match(hE)?r:"unsafe:"+r}(ue(r))}const EE="__ngContext__";function Pi(r,i){r[EE]=i}function pv(r){const i=function jh(r){return r[EE]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function mv(r){return r.ngOriginalError}function bE(r,...i){r.error(...i)}class $h{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=function yv(r){return r&&r.ngErrorLogger||bE}(i);u(this._console,"ERROR",i),o&&u(this._console,"ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&mv(i);for(;o&&mv(o);)o=mv(o);return o||null}}const ME=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function Os(r){return r instanceof Function?r():r}var fo=(()=>((fo=fo||{})[fo.Important=1]="Important",fo[fo.DashCase=2]="DashCase",fo))();function cg(r,i){return undefined(r,i)}function Zc(r){const i=r[3];return pr(i)?i[3]:i}function dg(r){return Ev(r[13])}function hg(r){return Ev(r[4])}function Ev(r){for(;null!==r&&!pr(r);)r=r[4];return r}function Mu(r,i,o,u,l){if(null!=u){let d,f=!1;pr(u)?d=u:Vn(u)&&(f=!0,u=u[0]);const y=At(u);0===r&&null!==o?null==l?Zh(i,o,y):qo(i,o,y,l||null,!0):1===r&&null!==o?qo(i,o,y,l||null,!0):2===r?function Sv(r,i,o){const u=nd(r,i);u&&function LE(r,i,o,u){pt(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,y,f):3===r&&i.destroyNode(y),null!=d&&function UE(r,i,o,u,l){const d=o[7];d!==At(o)&&Mu(i,r,u,d,l);for(let y=10;y<o.length;y++){const _=o[y];Jc(_[1],_,r,i,u,d)}}(i,r,d,o,l)}}function Wh(r,i,o){if(pt(r))return r.createElement(i,o);{const u=null!==o?function P(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":i===k?"http://www.w3.org/1998/MathML/":null}(o):null;return null===u?r.createElement(i):r.createElementNS(u,i)}}function yg(r,i){const o=r[9],u=o.indexOf(i),l=i[3];1024&i[2]&&(i[2]&=-1025,Cs(l,-1)),o.splice(u,1)}function qh(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const l=u[17];null!==l&&l!==r&&yg(l,u),i>0&&(r[o-1][4]=u[4]);const d=Sa(r,10+i);!function ed(r,i){Jc(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const f=d[19];null!==f&&f.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Kh(r,i){if(!(256&i[2])){const o=i[11];pt(o)&&o.destroyNode&&Jc(r,i,o,3,null,null),function Iv(r){let i=r[13];if(!i)return vg(r[1],r);for(;i;){let o=null;if(Vn(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)Vn(i)&&vg(i[1],i),i=i[3];null===i&&(i=r),Vn(i)&&vg(i[1],i),o=i&&i[4]}i=o}}(i)}}function vg(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function FE(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof Uo)){const d=o[u+1];if(Array.isArray(d))for(let f=0;f<d.length;f+=2){const y=l[d[f]],_=d[f+1];try{_.call(y)}finally{}}else try{d.call(l)}finally{}}}}(r,i),function PE(r,i){const o=r.cleanup,u=i[7];let l=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const f=o[d+1],y="function"==typeof f?f(i):At(i[f]),_=u[l=o[d+2]],S=o[d+3];"boolean"==typeof S?y.removeEventListener(o[d],_,S):S>=0?u[l=S]():u[l=-S].unsubscribe(),d+=2}else{const f=u[l=o[d+1]];o[d].call(f)}if(null!==u){for(let d=l+1;d<u.length;d++)u[d]();i[7]=null}}(r,i),1===i[1].type&&pt(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&pr(i[3])){o!==i[3]&&yg(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function td(r,i,o){return function Yh(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const l=r.data[u.directiveStart].encapsulation;if(l===ht.None||l===ht.Emulated)return null}return Gn(u,o)}(r,i.parent,o)}function qo(r,i,o,u,l){pt(r)?r.insertBefore(i,o,u,l):i.insertBefore(o,u,l)}function Zh(r,i,o){pt(r)?r.appendChild(i,o):i.appendChild(o)}function _g(r,i,o,u,l){null!==u?qo(r,i,o,u,l):Zh(r,i,o)}function nd(r,i){return pt(r)?r.parentNode(i):i.parentNode}let bv=function Tv(r,i,o){return 40&r.type?Gn(r,o):null};function Jh(r,i,o,u){const l=td(r,u,i),d=i[11],y=function Dv(r,i,o){return bv(r,i,o)}(u.parent||i[6],u,i);if(null!=l)if(Array.isArray(o))for(let _=0;_<o.length;_++)_g(d,l,o[_],y,!1);else _g(d,l,o,y,!1)}function Xh(r,i){if(null!==i){const o=i.type;if(3&o)return Gn(i,r);if(4&o)return Eg(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return Xh(r,u);{const l=r[i.index];return pr(l)?Eg(-1,l):At(l)}}if(32&o)return cg(i,r)()||At(r[i.index]);{const u=Av(r,i);return null!==u?Array.isArray(u)?u[0]:Xh(Zc(r[16]),u):Xh(r,i.next)}}return null}function Av(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Eg(r,i){const o=10+r+1;if(o<i.length){const u=i[o],l=u[1].firstChild;if(null!==l)return Xh(u,l)}return i[7]}function Qc(r,i,o,u,l,d,f){for(;null!=o;){const y=u[o.index],_=o.type;if(f&&0===i&&(y&&Pi(At(y),u),o.flags|=4),64!=(64&o.flags))if(8&_)Qc(r,i,o.child,u,l,d,!1),Mu(i,r,l,y,d);else if(32&_){const S=cg(o,u);let R;for(;R=S();)Mu(i,r,l,R,d);Mu(i,r,l,y,d)}else 16&_?ef(r,i,u,o,l,d):Mu(i,r,l,y,d);o=f?o.projectionNext:o.next}}function Jc(r,i,o,u,l,d){Qc(o,u,r.firstChild,i,l,d,!1)}function ef(r,i,o,u,l,d){const f=o[16],_=f[6].projection[u.projection];if(Array.isArray(_))for(let S=0;S<_.length;S++)Mu(i,r,l,_[S],d);else Qc(r,i,_,f[3],l,d,!0)}function Mv(r,i,o){pt(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function tf(r,i,o){pt(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function Ig(r,i,o){let u=r.length;for(;;){const l=r.indexOf(i,o);if(-1===l)return l;if(0===l||r.charCodeAt(l-1)<=32){const d=i.length;if(l+d===u||r.charCodeAt(l+d)<=32)return l}o=l+1}}const Dg="ng-template";function Rv(r,i,o){let u=0;for(;u<r.length;){let l=r[u++];if(o&&"class"===l){if(l=r[u],-1!==Ig(l.toLowerCase(),i,0))return!0}else if(1===l){for(;u<r.length&&"string"==typeof(l=r[u++]);)if(l.toLowerCase()===i)return!0;return!1}}return!1}function jE(r){return 4===r.type&&r.value!==Dg}function $E(r,i,o){return i===(4!==r.type||o?r.value:Dg)}function VT(r,i,o){let u=4;const l=r.attrs||[],d=function kv(r){for(let i=0;i<r.length;i++)if(Bn(r[i]))return i;return r.length}(l);let f=!1;for(let y=0;y<i.length;y++){const _=i[y];if("number"!=typeof _){if(!f)if(4&u){if(u=2|1&u,""!==_&&!$E(r,_,o)||""===_&&1===i.length){if(po(u))return!1;f=!0}}else{const S=8&u?_:i[++y];if(8&u&&null!==r.attrs){if(!Rv(r.attrs,S,o)){if(po(u))return!1;f=!0}continue}const U=Tg(8&u?"class":_,l,jE(r),o);if(-1===U){if(po(u))return!1;f=!0;continue}if(""!==S){let Y;Y=U>d?"":l[U+1].toLowerCase();const ce=8&u?Y:null;if(ce&&-1!==Ig(ce,S,0)||2&u&&S!==Y){if(po(u))return!1;f=!0}}}}else{if(!f&&!po(u)&&!po(_))return!1;if(f&&po(_))continue;f=!1,u=_|1&u}}return po(u)||f}function po(r){return 0==(1&r)}function Tg(r,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let d=!1;for(;l<i.length;){const f=i[l];if(f===r)return l;if(3===f||6===f)d=!0;else{if(1===f||2===f){let y=i[++l];for(;"string"==typeof y;)y=i[++l];continue}if(4===f)break;if(0===f){l+=4;continue}}l+=d?1:2}return-1}return function zE(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function HE(r,i,o=!1){for(let u=0;u<i.length;u++)if(VT(r,i[u],o))return!0;return!1}function nf(r,i){return r?":not("+i.trim()+")":i}function Ov(r){let i=r[0],o=1,u=2,l="",d=!1;for(;o<r.length;){let f=r[o];if("string"==typeof f)if(2&u){const y=r[++o];l+="["+f+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?l+="."+f:4&u&&(l+=" "+f);else""!==l&&!po(f)&&(i+=nf(d,l),l=""),u=f,d=d||!po(u);o++}return""!==l&&(i+=nf(d,l)),i}const Jt={};function Pv(r){WE(nn(),Ve(),Zr()+r,!1)}function WE(r,i,o,u){if(!u)if(3==(3&i[2])){const d=r.preOrderCheckHooks;null!==d&&Ms(i,d,o)}else{const d=r.preOrderHooks;null!==d&&Gs(i,d,0,o)}ds(o)}function sd(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],d=o[u+1];if(-1!==d){const f=r.data[d];gu(l),f.contentQueries(2,i[d],d)}}}function Nu(r,i,o,u,l,d,f,y,_,S){const R=i.blueprint.slice();return R[0]=l,R[2]=140|u,ma(R),R[3]=R[15]=r,R[8]=o,R[10]=f||r&&r[10],R[11]=y||r&&r[11],R[12]=_||r&&r[12]||null,R[9]=S||r&&r[9]||null,R[6]=d,R[16]=2==i.type?r[16]:R,R}function nl(r,i,o,u,l){let d=r.data[i];if(null===d)d=function Og(r,i,o,u,l){const d=va(),f=hu(),_=r.data[i]=function Fg(r,i,o,u,l,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?d:d&&d.parent,o,i,u,l);return null===r.firstChild&&(r.firstChild=_),null!==d&&(f?null==d.child&&null!==_.parent&&(d.child=_):null===d.next&&(d.next=_)),_}(r,i,o,u,l),function _a(){return Pt.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=l;const f=function Oo(){const r=Pt.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();d.injectorIndex=null===f?-1:f.injectorIndex}return mr(d,!0),d}function Pa(r,i,o,u){if(0===o)return-1;const l=i.length;for(let d=0;d<o;d++)i.push(u),r.blueprint.push(u),r.data.push(null);return l}function rl(r,i,o){Ea(i);try{const u=r.viewQuery;null!==u&&_f(1,u,o);const l=r.template;null!==l&&li(r,i,l,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&sd(r,i),r.staticViewQueries&&_f(2,r.viewQuery,o);const d=r.components;null!==d&&function Ng(r,i){for(let o=0;o<i.length;o++)o_(r,i[o])}(i,d)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,ao()}}function il(r,i,o,u){const l=i[2];if(256!=(256&l)){Ea(i);try{ma(i),function Ac(r){return Pt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&li(r,i,o,2,u);const f=3==(3&l);if(f){const S=r.preOrderCheckHooks;null!==S&&Ms(i,S,null)}else{const S=r.preOrderHooks;null!==S&&Gs(i,S,0,null),Rc(i,0)}if(function ad(r){for(let i=dg(r);null!==i;i=hg(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const l=o[u],d=l[3];0==(1024&l[2])&&Cs(d,1),l[2]|=1024}}}(i),function uI(r){for(let i=dg(r);null!==i;i=hg(i))for(let o=10;o<i.length;o++){const u=i[o],l=u[1];ai(u)&&il(l,u,l.template,u[8])}}(i),null!==r.contentQueries&&sd(r,i),f){const S=r.contentCheckHooks;null!==S&&Ms(i,S)}else{const S=r.contentHooks;null!==S&&Gs(i,S,1),Rc(i,1)}!function Kv(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)ds(~l);else{const d=l,f=o[++u],y=o[++u];bh(f,d),y(2,i[d])}}}finally{ds(-1)}}(r,i);const y=r.components;null!==y&&function kg(r,i){for(let o=0;o<i.length;o++)s_(r,i[o])}(i,y);const _=r.viewQuery;if(null!==_&&_f(2,_,u),f){const S=r.viewCheckHooks;null!==S&&Ms(i,S)}else{const S=r.viewHooks;null!==S&&Gs(i,S,2),Rc(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),i[2]&=-73,1024&i[2]&&(i[2]&=-1025,Cs(i[3],-1))}finally{ao()}}}function rI(r,i,o,u){const l=i[10],f=bs(i);try{!f&&l.begin&&l.begin(),f&&rl(r,i,u),il(r,i,o,u)}finally{!f&&l.end&&l.end()}}function li(r,i,o,u,l){const d=Zr(),f=2&u;try{ds(-1),f&&i.length>20&&WE(r,i,20,!1),o(u,l)}finally{ds(d)}}function Pg(r,i,o){!Hl()||(function Bg(r,i,o,u){const l=o.directiveStart,d=o.directiveEnd;r.firstCreatePass||Rs(o,i),Pi(u,i);const f=o.initialInputs;for(let y=l;y<d;y++){const _=r.data[y],S=Mr(_);S&&$g(i,o,_);const R=_e(i,r,y,o);Pi(R,i),null!==f&&gf(0,y-l,R,_,0,f),S&&(Br(o.index,i)[8]=R)}}(r,i,o,Gn(o,i)),128==(128&o.flags)&&function oI(r,i,o){const u=o.directiveStart,l=o.directiveEnd,f=o.index,y=function Sc(){return Pt.lFrame.currentDirectiveIndex}();try{ds(f);for(let _=u;_<l;_++){const S=r.data[_],R=i[_];Fo(_),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&e_(S,R)}}finally{ds(-1),Fo(y)}}(r,i,o))}function Ou(r,i,o=Gn){const u=i.localNames;if(null!==u){let l=i.index+1;for(let d=0;d<u.length;d+=2){const f=u[d+1],y=-1===f?o(i,r):r[f];r[l++]=y}}}function Yv(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=uf(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function uf(r,i,o,u,l,d,f,y,_,S){const R=20+u,U=R+l,Y=function cf(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:Jt);return o}(R,U),ce="function"==typeof S?S():S;return Y[1]={type:r,blueprint:Y,template:o,queries:null,viewQuery:y,declTNode:i,data:Y.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:_,consts:ce,incompleteFirstPass:!1}}function df(r,i,o,u){const l=Ei(i);null===o?l.push(u):(l.push(o),r.firstCreatePass&&Zg(r).push(u,l.length-1))}function Lg(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const l=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,l):o[u]=[i,l]}return o}function Nr(r,i,o,u){let l=!1;if(Hl()){const d=function t_(r,i,o){const u=r.directiveRegistry;let l=null;if(u)for(let d=0;d<u.length;d++){const f=u[d];HE(o,f.selectors,!1)&&(l||(l=[]),Uc(Rs(o,i),r,f.type),Mr(f)?(n_(r,o),l.unshift(f)):l.push(f))}return l}(r,i,o),f=null===u?null:{"":-1};if(null!==d){l=!0,pf(o,r.data.length,d.length);for(let R=0;R<d.length;R++){const U=d[R];U.providersResolver&&U.providersResolver(U)}let y=!1,_=!1,S=Pa(r,i,d.length,null);for(let R=0;R<d.length;R++){const U=d[R];o.mergedAttrs=ki(o.mergedAttrs,U.hostAttrs),r_(r,o,i,S,U),jg(S,U,f),null!==U.contentQueries&&(o.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(o.flags|=128);const Y=U.type.prototype;!y&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!_&&(Y.ngOnChanges||Y.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),_=!0),S++}!function Qv(r,i){const u=i.directiveEnd,l=r.data,d=i.attrs,f=[];let y=null,_=null;for(let S=i.directiveStart;S<u;S++){const R=l[S],U=R.inputs,Y=null===d||jE(i)?null:Gg(U,d);f.push(Y),y=Lg(U,S,y),_=Lg(R.outputs,S,_)}null!==y&&(y.hasOwnProperty("class")&&(i.flags|=16),y.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=f,i.inputs=y,i.outputs=_}(r,o)}f&&function aI(r,i,o){if(i){const u=r.localNames=[];for(let l=0;l<i.length;l+=2){const d=o[i[l+1]];if(null==d)throw new Fe(-301,!1);u.push(i[l],d)}}}(o,u,f)}return o.mergedAttrs=ki(o.mergedAttrs,o.attrs),l}function Xr(r,i,o,u,l,d){const f=d.hostBindings;if(f){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const _=~i.index;(function ff(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=_&&y.push(_),y.push(u,l,f)}}function e_(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function n_(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function jg(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;Mr(i)&&(o[""]=r)}}function pf(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function r_(r,i,o,u,l){r.data[u]=l;const d=l.factory||(l.factory=Tr(l.type)),f=new Uo(d,Mr(l),null);r.blueprint[u]=f,o[u]=f,Xr(r,i,0,u,Pa(r,o,l.hostVars,Jt),l)}function $g(r,i,o){const u=Gn(i,r),l=Yv(o),d=r[10],f=vf(r,Nu(r,l,null,o.onPush?64:16,u,i,d,d.createRenderer(u,o),null,null));r[i.index]=f}function Qs(r,i,o,u,l,d){const f=Gn(r,i);!function Hg(r,i,o,u,l,d,f){if(null==d)pt(r)?r.removeAttribute(i,l,o):i.removeAttribute(l);else{const y=null==f?ue(d):f(d,u||"",l);pt(r)?r.setAttribute(i,l,y,o):o?i.setAttributeNS(o,l,y):i.setAttribute(l,y)}}(i[11],f,d,r.value,o,u,l)}function gf(r,i,o,u,l,d){const f=d[i];if(null!==f){const y=u.setInput;for(let _=0;_<f.length;){const S=f[_++],R=f[_++],U=f[_++];null!==y?u.setInput(o,U,S,R):o[R]=U}}}function Gg(r,i){let o=null,u=0;for(;u<i.length;){const l=i[u];if(0!==l)if(5!==l){if("number"==typeof l)break;r.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,r[l],i[u+1])),u+=2}else u+=2;else u+=4}return o}function zg(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function s_(r,i){const o=Br(i,r);if(ai(o)){const u=o[1];80&o[2]?il(u,o,u.template,o[8]):o[5]>0&&mf(o)}}function mf(r){for(let u=dg(r);null!==u;u=hg(u))for(let l=10;l<u.length;l++){const d=u[l];if(1024&d[2]){const f=d[1];il(f,d,f.template,d[8])}else d[5]>0&&mf(d)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Br(o[u],r);ai(l)&&l[5]>0&&mf(l)}}function o_(r,i){const o=Br(i,r),u=o[1];(function yf(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),rl(u,o,o[8])}function vf(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Wg(r){for(;r;){r[2]|=64;const i=Zc(r);if(Ao(r)&&!i)return r;r=i}return null}function Fa(r){!function qg(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=pv(o),l=u[1];rI(l,u,l.template,o)}}(r[8])}function _f(r,i,o){gu(0),i(r,o)}const a_=(()=>Promise.resolve(null))();function Ei(r){return r[7]||(r[7]=[])}function Zg(r){return r.cleanup||(r.cleanup=[])}function ud(r,i){const o=r[9],u=o?o.get($h,null):null;u&&u.handleError(i)}function Qg(r,i,o,u,l){for(let d=0;d<o.length;){const f=o[d++],y=o[d++],_=i[f],S=r.data[f];null!==S.setInput?S.setInput(_,l,u,y):_[y]=l}}function Js(r,i,o){const u=function Pn(r,i){return At(i[r])}(i,r);!function fg(r,i,o){pt(r)?r.setValue(i,o):i.textContent=o}(r[11],u,o)}function cd(r,i,o){let u=o?r.styles:null,l=o?r.classes:null,d=0;if(null!==i)for(let f=0;f<i.length;f++){const y=i[f];"number"==typeof y?d=y:1==d?l=Tt(l,y):2==d&&(u=Tt(u,y+": "+i[++f]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=l:r.classesWithoutHost=l}const dd=new Wn("INJECTOR",-1);class Ef{get(i,o=Ma){if(o===Ma){const u=new Error(`NullInjectorError: No provider for ${We(i)}!`);throw u.name="NullInjectorError",u}return o}}const ul=new Wn("Set Injector scope."),Yo={},l_={};let Jg;function If(){return void 0===Jg&&(Jg=new Ef),Jg}function hd(r,i=null,o=null,u){const l=Df(r,i,o,u);return l._resolveInjectorDefTypes(),l}function Df(r,i=null,o=null,u){return new d_(r,o,i||If(),u)}class d_{constructor(i,o,u,l=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&Yi(o,y=>this.processProvider(y,i,o)),Yi([i],y=>this.processInjectorType(y,[],d)),this.records.set(dd,Pu(void 0,this));const f=this.records.get(ul);this.scope=null!=f?f.value:null,this.source=l||("object"==typeof i?null:We(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=Ma,u=fe.Default){this.assertNotDestroyed();const l=it(this),d=Ke(void 0);try{if(!(u&fe.SkipSelf)){let y=this.records.get(i);if(void 0===y){const _=function em(r){return"function"==typeof r||"object"==typeof r&&r instanceof Wn}(i)&&fr(i);y=_&&this.injectableDefInScope(_)?Pu(Tf(i),Yo):null,this.records.set(i,y)}if(null!=y)return this.hydrate(i,y)}return(u&fe.Self?If():this.parent).get(i,o=u&fe.Optional&&o===Ma?null:o)}catch(f){if("NullInjectorError"===f.name){if((f[w]=f[w]||[]).unshift(We(i)),l)throw f;return function Au(r,i,o,u){const l=r[w];throw i[se]&&l.unshift(i[se]),r.message=function Go(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let l=We(i);if(Array.isArray(i))l=i.map(We).join(" -> ");else if("object"==typeof i){let d=[];for(let f in i)if(i.hasOwnProperty(f)){let y=i[f];d.push(f+":"+("string"==typeof y?JSON.stringify(y):We(y)))}l=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${r.replace(M,"\n  ")}`}("\n"+r.message,l,o,u),r.ngTokenPath=l,r[w]=null,r}(f,i,"R3InjectorError",this.source)}throw f}finally{Ke(d),it(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,l)=>i.push(We(l))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processInjectorType(i,o,u){if(!(i=De(i)))return!1;let l=Kn(i);const d=null==l&&i.ngModule||void 0,f=void 0===d?i:d,y=-1!==u.indexOf(f);if(void 0!==d&&(l=Kn(d)),null==l)return!1;if(null!=l.imports&&!y){let R;u.push(f);try{Yi(l.imports,U=>{this.processInjectorType(U,o,u)&&(void 0===R&&(R=[]),R.push(U))})}finally{}if(void 0!==R)for(let U=0;U<R.length;U++){const{ngModule:Y,providers:ce}=R[U];Yi(ce,be=>this.processProvider(be,Y,ce||ct))}}this.injectorDefTypes.add(f);const _=Tr(f)||(()=>new f);this.records.set(f,Pu(_,Yo));const S=l.providers;if(null!=S&&!y){const R=i;Yi(S,U=>this.processProvider(U,R,S))}return void 0!==d&&void 0!==i.providers}processProvider(i,o,u){let l=La(i=De(i))?i:De(i&&i.provide);const d=function lI(r,i,o){return fd(r)?Pu(void 0,r.useValue):Pu(function cl(r,i,o){let u;if(La(r)){const l=De(r);return Tr(l)||Tf(l)}if(fd(r))u=()=>De(r.useValue);else if(function Fu(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Cr(r.deps||[]));else if(function pd(r){return!(!r||!r.useExisting)}(r))u=()=>Ct(De(r.useExisting));else{const l=De(r&&(r.useClass||r.provide));if(!function Xg(r){return!!r.deps}(r))return Tr(l)||Tf(l);u=()=>new l(...Cr(r.deps))}return u}(r),Yo)}(i);if(La(i)||!0!==i.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Pu(void 0,Yo,!0),f.factory=()=>Cr(f.multi),this.records.set(l,f)),l=i,f.multi.push(i)}this.records.set(l,d)}hydrate(i,o){return o.value===Yo&&(o.value=l_,o.value=o.factory()),"object"==typeof o.value&&o.value&&function ll(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=De(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Tf(r){const i=fr(r),o=null!==i?i.factory:Tr(r);if(null!==o)return o;if(r instanceof Wn)throw new Fe(204,!1);if(r instanceof Function)return function h_(r){const i=r.length;if(i>0)throw function jo(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?"),new Fe(204,!1);const o=function Gt(r){const i=r&&(r[er]||r[ne]);if(i){const o=function On(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Fe(204,!1)}function Pu(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function fd(r){return null!==r&&"object"==typeof r&&ve in r}function La(r){return"function"==typeof r}let Ii=(()=>{class r{static create(o,u){var l;if(Array.isArray(o))return hd({name:""},u,o,"");{const d=null!==(l=o.name)&&void 0!==l?l:"";return hd({name:d},o.parent,o.providers,d)}}}return r.THROW_IF_NOT_FOUND=Ma,r.NULL=new Ef,r.\u0275prov=En({token:r,providedIn:"any",factory:()=>Ct(dd)}),r.__NG_ELEMENT_ID__=-1,r})();function mI(r,i){Da(pv(r)[1],zn())}let xf=null;function Zo(){if(!xf){const r=j.Symbol;if(r&&r.iterator)xf=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(xf=u)}}}return xf}function Va(r){return!!Uu(r)&&(Array.isArray(r)||!(r instanceof Map)&&Zo()in r)}function Uu(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function mn(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function am(r,i,o,u){const l=Ve();return mn(l,Ss(),i)&&(nn(),Qs(Jn(),l,r,i,o,u)),am}function pl(r,i,o,u,l,d,f,y){const _=Ve(),S=nn(),R=r+20,U=S.firstCreatePass?function b_(r,i,o,u,l,d,f,y,_){const S=i.consts,R=nl(i,r,4,f||null,Kr(S,y));Nr(i,o,R,Kr(S,_)),Da(i,R);const U=R.tViews=uf(2,R,u,l,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,S);return null!==i.queries&&(i.queries.template(i,R),U.queries=i.queries.embeddedTView(R)),R}(R,S,_,i,o,u,l,d,f):S.data[R];mr(U,!1);const Y=_[11].createComment("");Jh(S,_,Y,U),Pi(Y,_),vf(_,_[R]=zg(Y,_,Y,U)),Dr(U)&&Pg(S,_,U),null!=f&&Ou(_,U,y)}function yl(r,i=fe.Default){const o=Ve();return null===o?Ct(r,i):I(zn(),o,De(r),i)}function U_(){throw new Error("invalid")}function pm(r,i,o){const u=Ve();return mn(u,Ss(),i)&&function Xi(r,i,o,u,l,d,f,y){const _=Gn(i,o);let R,S=i.inputs;!y&&null!=S&&(R=S[u])?(Qg(r,o,R,u,l),vs(i)&&function Jv(r,i){const o=Br(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function iI(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),l=null!=f?f(l,i.value||"",u):l,pt(d)?d.setProperty(_,u,l):Oc(u)||(_.setProperty?_.setProperty(u,l):_[u]=l))}(nn(),Jn(),u,r,i,u[11],o,!1),pm}function gm(r,i,o,u,l){const f=l?"class":"style";Qg(r,o,i.inputs[f],f,u)}function Lf(r,i,o,u){const l=Ve(),d=nn(),f=20+r,y=l[11],_=l[f]=Wh(y,i,function Wl(){return Pt.lFrame.currentNamespace}()),S=d.firstCreatePass?function bI(r,i,o,u,l,d,f){const y=i.consts,S=nl(i,r,2,l,Kr(y,d));return Nr(i,o,S,Kr(y,f)),null!==S.attrs&&cd(S,S.attrs,!1),null!==S.mergedAttrs&&cd(S,S.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,S),S}(f,d,l,0,i,o,u):d.data[f];mr(S,!0);const R=S.mergedAttrs;null!==R&&Bo(y,_,R);const U=S.classes;null!==U&&tf(y,_,U);const Y=S.styles;return null!==Y&&Mv(y,_,Y),64!=(64&S.flags)&&Jh(d,l,_,S),0===function ko(){return Pt.lFrame.elementDepthCount}()&&Pi(_,l),function $l(){Pt.lFrame.elementDepthCount++}(),Dr(S)&&(Pg(d,l,S),function sl(r,i,o){if(ys(i)){const l=i.directiveEnd;for(let d=i.directiveStart;d<l;d++){const f=r.data[d];f.contentQueries&&f.contentQueries(1,o[d],d)}}}(d,S,l)),null!==u&&Ou(l,S),Lf}function Sd(){let r=zn();hu()?function Hs(){Pt.lFrame.isParent=!1}():(r=r.parent,mr(r,!1));const i=r;!function ya(){Pt.lFrame.elementDepthCount--}();const o=nn();return o.firstCreatePass&&(Da(o,r),ys(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function Nc(r){return 0!=(16&r.flags)}(i)&&gm(o,i,Ve(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Eu(r){return 0!=(32&r.flags)}(i)&&gm(o,i,Ve(),i.stylesWithoutHost,!1),Sd}function mm(r,i,o,u){return Lf(r,i,o,u),Sd(),mm}function tr(r){return!!r&&"function"==typeof r.then}function Ut(r){return!!r&&"function"==typeof r.subscribe}const vl=Ut;function pn(r,i,o,u){const l=Ve(),d=nn(),f=zn();return function ot(r,i,o,u,l,d,f,y){const _=Dr(u),R=r.firstCreatePass&&Zg(r),U=i[8],Y=Ei(i);let ce=!0;if(3&u.type||y){const rt=Gn(u,i),at=y?y(rt):rt,ke=Y.length,Rt=y?hn=>y(At(hn[u.index])):u.index;if(pt(o)){let hn=null;if(!y&&_&&(hn=function Pr(r,i,o,u){const l=r.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const f=l[d];if(f===o&&l[d+1]===u){const y=i[7],_=l[d+2];return y.length>_?y[_]:null}"string"==typeof f&&(d+=2)}return null}(r,i,l,u.index)),null!==hn)(hn.__ngLastListenerFn__||hn).__ngNextListenerFn__=d,hn.__ngLastListenerFn__=d,ce=!1;else{d=Md(u,i,U,d,!1);const Mn=o.listen(at,l,d);Y.push(d,Mn),R&&R.push(l,Rt,ke,ke+1)}}else d=Md(u,i,U,d,!0),at.addEventListener(l,d,f),Y.push(d),R&&R.push(l,Rt,ke,f)}else d=Md(u,i,U,d,!1);const be=u.outputs;let Je;if(ce&&null!==be&&(Je=be[l])){const rt=Je.length;if(rt)for(let at=0;at<rt;at+=2){const is=i[Je[at]][Je[at+1]].subscribe(d),Ic=Y.length;Y.push(d,is),R&&R.push(l,u.index,Ic,-(Ic+1))}}}(d,l,l[11],f,r,i,!!o,u),pn}function xd(r,i,o,u){try{return!1!==o(u)}catch(l){return ud(r,l),!1}}function Md(r,i,o,u,l){return function d(f){if(f===Function)return u;const y=2&r.flags?Br(r.index,i):i;0==(32&i[2])&&Wg(y);let _=xd(i,0,u,f),S=d.__ngNextListenerFn__;for(;S;)_=xd(i,0,S,f)&&_,S=S.__ngNextListenerFn__;return l&&!1===_&&(f.preventDefault(),f.returnValue=!1),_}}function Gf(r,i=""){const o=Ve(),u=nn(),l=r+20,d=u.firstCreatePass?nl(u,l,1,i,null):u.data[l],f=o[l]=function Xl(r,i){return pt(r)?r.createText(i):r.createTextNode(i)}(o[11],i);Jh(u,o,f,d),mr(d,!1)}function Qu(r){return Ld("",r,""),Qu}function Ld(r,i,o){const u=Ve(),l=function Vu(r,i,o,u){return mn(r,Ss(),o)?i+ue(o)+u:Jt}(u,r,i,o);return l!==Jt&&Js(u,Zr(),l),Ld}const tc=void 0;var Mm=["en",[["a","p"],["AM","PM"],tc],[["AM","PM"],tc,tc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tc,"{1} 'at' {0}",tc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xm(r){const o=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Ka={};function ns(r){const i=function ow(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Rm(i);if(o)return o;const u=i.split("-")[0];if(o=Rm(u),o)return o;if("en"===u)return Mm;throw new Error(`Missing locale data for the locale "${r}".`)}function El(r){return ns(r)[Nt.PluralCase]}function Rm(r){return r in Ka||(Ka[r]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[r]),Ka[r]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const jd="en-US";let km=jd;class eo{}class tD{resolveComponentFactory(i){throw function Mw(r){const i=Error(`No component factory found for ${We(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let ep=(()=>{class r{}return r.NULL=new tD,r})();function nD(){return Al(zn(),Ve())}function Al(r,i){return new Zd(Gn(r,i))}let Zd=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=nD,r})();function rD(r){return r instanceof Zd?r.nativeElement:r}class Rw{}let iD=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function oD(){const r=Ve(),o=Br(zn().index,r);return function sD(r){return r[11]}(Vn(o)?o:r)}(),r})(),aD=(()=>{class r{}return r.\u0275prov=En({token:r,providedIn:"root",factory:()=>null}),r})();class kw{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Nw=new kw("13.3.11"),qm={};function Qd(r,i,o,u,l=!1){for(;null!==o;){const d=i[o.index];if(null!==d&&u.push(At(d)),pr(d))for(let y=10;y<d.length;y++){const _=d[y],S=_[1].firstChild;null!==S&&Qd(_[1],_,S,u)}const f=o.type;if(8&f)Qd(r,i,o.child,u);else if(32&f){const y=cg(o,i);let _;for(;_=y();)u.push(_)}else if(16&f){const y=Av(i,o);if(Array.isArray(y))u.push(...y);else{const _=Zc(i[16]);Qd(_[1],_,y,u,!0)}}o=l?o.projectionNext:o.next}return u}class Jd{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Qd(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(pr(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(qh(i,u),Sa(o,u))}this._attachedToViewContainer=!1}Kh(this._lView[1],this._lView)}onDestroy(i){df(this._lView[1],this._lView,null,i)}markForCheck(){Wg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Kg(r,i,o){const u=i[10];u.begin&&u.begin();try{il(r,i,r.template,o)}catch(l){throw ud(i,l),l}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gg(r,i){Jc(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Fe(902,"");this._appRef=i}}class Ow extends Jd{constructor(i){super(i),this._view=i}detectChanges(){Fa(this._view)}checkNoChanges(){}get context(){return null}}class Km extends ep{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=bn(i);return new Xd(o,this.ngModule)}}function Pw(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class Xd extends eo{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function BT(r){return r.map(Ov).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Pw(this.componentDef.inputs)}get outputs(){return Pw(this.componentDef.outputs)}create(i,o,u,l){const d=(l=l||this.ngModule)?function ri(r,i){return{get:(o,u,l)=>{const d=r.get(o,qm,l);return d!==qm||u===qm?d:i.get(o,u,l)}}}(i,l.injector):i,f=d.get(Rw,In),y=d.get(aD,null),_=f.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",R=u?function lf(r,i,o){if(pt(r))return r.selectRootElement(i,o===ht.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(_,u,this.componentDef.encapsulation):Wh(f.createRenderer(null,this.componentDef),S,function Ym(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?k:null}(S)),U=this.componentDef.onPush?576:528,Y=function v_(r,i){return{components:[],scheduler:r||ME,clean:a_,playerHandler:i||null,flags:0}}(),ce=uf(0,null,null,1,0,null,null,null,null,null),be=Nu(null,ce,Y,U,null,null,f,_,y,d);let Je,rt;Ea(be);try{const at=function nm(r,i,o,u,l,d){const f=o[1];o[20]=r;const _=nl(f,20,2,"#host",null),S=_.mergedAttrs=i.hostAttrs;null!==S&&(cd(_,S,!0),null!==r&&(Bo(l,r,S),null!==_.classes&&tf(l,r,_.classes),null!==_.styles&&Mv(l,r,_.styles)));const R=u.createRenderer(r,i),U=Nu(o,Yv(i),null,i.onPush?64:16,o[20],_,u,R,d||null,null);return f.firstCreatePass&&(Uc(Rs(_,o),f,i.type),n_(f,_),pf(_,o.length,1)),vf(o,U),o[20]=U}(R,this.componentDef,be,f,_);if(R)if(u)Bo(_,R,["ng-version",Nw.full]);else{const{attrs:ke,classes:Rt}=function bg(r){const i=[],o=[];let u=1,l=2;for(;u<r.length;){let d=r[u];if("string"==typeof d)2===l?""!==d&&i.push(d,r[++u]):8===l&&o.push(d);else{if(!po(l))break;l=d}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);ke&&Bo(_,R,ke),Rt&&Rt.length>0&&tf(_,R,Rt.join(" "))}if(rt=Wi(ce,20),void 0!==o){const ke=rt.projection=[];for(let Rt=0;Rt<this.ngContentSelectors.length;Rt++){const hn=o[Rt];ke.push(null!=hn?Array.from(hn):null)}}Je=function Lu(r,i,o,u,l){const d=o[1],f=function Vg(r,i,o){const u=zn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),r_(r,u,i,Pa(r,i,1,null),o));const l=_e(i,r,u.directiveStart,u);Pi(l,i);const d=Gn(u,i);return d&&Pi(d,i),l}(d,o,i);if(u.components.push(f),r[8]=f,l&&l.forEach(_=>_(f,i)),i.contentQueries){const _=zn();i.contentQueries(1,f,_.directiveStart)}const y=zn();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(ds(y.index),Xr(o[1],y,0,y.directiveStart,y.directiveEnd,i),e_(i,f)),f}(at,this.componentDef,be,Y,[mI]),rl(ce,be,null)}finally{ao()}return new Ja(this.componentType,Je,Al(rt,be),be,rt)}}class Ja extends class xw{}{constructor(i,o,u,l,d){super(),this.location=u,this._rootLView=l,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new Ow(l),this.componentType=i}get injector(){return new cn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Sl{}class Qm{}const ia=new Map;class np extends Sl{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Km(this);const u=K(i);this._bootstrapComponents=Os(u.bootstrap),this._r3Injector=Df(i,o,[{provide:Sl,useValue:this},{provide:ep,useValue:this.componentFactoryResolver}],We(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=Ii.THROW_IF_NOT_FOUND,u=fe.Default){return i===Ii||i===Sl||i===dd?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class rp extends Qm{constructor(i){super(),this.moduleType=i,null!==K(i)&&function lc(r){const i=new Set;!function o(u){const l=K(u,!0),d=l.id;null!==d&&(function Xa(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${We(i)} vs ${We(i.name)}`)}(d,ia.get(d),u),ia.set(d,u));const f=Os(l.imports);for(const y of f)i.has(y)||(i.add(y),o(y))}(r)}(i)}create(i){return new np(this.moduleType,i)}}function Bw(r,i,o,u){return function Gw(r,i,o,u,l,d){const f=i+o;return mn(r,f,l)?function es(r,i,o){return r[i]=o}(r,f+1,d?u.call(d,l):u(l)):function th(r,i){const o=r[i];return o===Jt?void 0:o}(r,f+1)}(Ve(),function Yr(){const r=Pt.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}(),r,i,o,u)}function op(r){return i=>{setTimeout(r,void 0,i)}}const to=class rh extends Oe.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var l,d,f;let y=i,_=o||(()=>null),S=u;if(i&&"object"==typeof i){const U=i;y=null===(l=U.next)||void 0===l?void 0:l.bind(U),_=null===(d=U.error)||void 0===d?void 0:d.bind(U),S=null===(f=U.complete)||void 0===f?void 0:f.bind(U)}this.__isAsync&&(_=op(_),y&&(y=op(y)),S&&(S=op(S)));const R=super.subscribe({next:y,error:_,complete:S});return i instanceof Ze.w0&&i.add(R),R}};function rs(){return this._results[Zo()]()}class ap{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Zo(),u=ap.prototype;u[o]||(u[o]=rs)}get changes(){return this._changes||(this._changes=new to)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=br(i);(this._changesDetected=!function Gp(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let l=r[u],d=i[u];if(o&&(l=o(l),d=o(d)),d!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ru=(()=>{class r{}return r.__NG_ELEMENT_ID__=iu,r})();const up=ru,Ww=class extends up{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=Nu(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),rl(o,u,i),new Jd(u)}};function iu(){return sa(zn(),Ve())}function sa(r,i){return 4&r.type?new Ww(i,r,Al(r,i)):null}let ih=(()=>{class r{}return r.__NG_ELEMENT_ID__=hc,r})();function hc(){return ny(zn(),Ve())}const fD=ih,fc=class extends fD{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Al(this._hostTNode,this._hostLView)}get injector(){return new cn(this._hostTNode,this._hostLView)}get parentInjector(){const i=co(this._hostTNode,this._hostLView);if(Ta(i)){const o=hs(i,this._hostLView),u=zs(i);return new cn(o[1].data[u+8],o)}return new cn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=ty(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const l=i.createEmbeddedView(o||{});return this.insert(l,u),l}createComponent(i,o,u,l,d){const f=i&&!function bu(r){return"function"==typeof r}(i);let y;if(f)y=o;else{const U=o||{};y=U.index,u=U.injector,l=U.projectableNodes,d=U.ngModuleRef}const _=f?i:new Xd(bn(i)),S=u||this.parentInjector;if(!d&&null==_.ngModule){const Y=(f?S:this.parentInjector).get(Sl,null);Y&&(d=Y)}const R=_.create(S,l,void 0,d);return this.insert(R.hostView,y),R}insert(i,o){const u=i._lView,l=u[1];if(function Ro(r){return pr(r[3])}(u)){const R=this.indexOf(i);if(-1!==R)this.detach(R);else{const U=u[3],Y=new fc(U,U[6],U[3]);Y.detach(Y.indexOf(i))}}const d=this._adjustIndex(o),f=this._lContainer;!function OE(r,i,o,u){const l=10+u,d=o.length;u>0&&(o[l-1][4]=i),u<d-10?(i[4]=o[l],$c(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const f=i[17];null!==f&&o!==f&&function mg(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(f,i);const y=i[19];null!==y&&y.insertView(r),i[2]|=128}(l,u,f,d);const y=Eg(d,f),_=u[11],S=nd(_,f[7]);return null!==S&&function NE(r,i,o,u,l,d){u[0]=l,u[6]=i,Jc(r,u,o,1,l,d)}(l,f[6],_,u,S,y),i.attachToViewContainerRef(),$c(bo(f),d,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=ty(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=qh(this._lContainer,o);u&&(Sa(bo(this._lContainer),o),Kh(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=qh(this._lContainer,o);return u&&null!=Sa(bo(this._lContainer),o)?new Jd(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function ty(r){return r[8]}function bo(r){return r[8]||(r[8]=[])}function ny(r,i){let o;const u=i[r.index];if(pr(u))o=u;else{let l;if(8&r.type)l=At(u);else{const d=i[11];l=d.createComment("");const f=Gn(r,i);qo(d,nd(d,f),l,function Qh(r,i){return pt(r)?r.nextSibling(i):i.nextSibling}(d,f),!1)}i[r.index]=o=zg(u,i,l,r),vf(i,o)}return new fc(o,r,i)}class ry{constructor(i){this.queryList=i,this.matches=null}clone(){return new ry(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rl{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let d=0;d<u;d++){const f=o.getByIndex(d);l.push(this.queries[f.indexInDeclarationView].clone())}return new Rl(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Xw(i,o).matches&&this.queries[o].setDirty()}}class qw{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class iy{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(i,l);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new iy(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class cp{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new cp(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const d=u[l];this.matchTNodeWithReadOption(i,o,mD(o,d)),this.matchTNodeWithReadOption(i,o,q(o,i,d,!1,!1))}else u===ru?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,q(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===Zd||l===ih||l===ru&&4&o.type)this.addMatch(o.index,-2);else{const d=q(o,i,l,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function mD(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function pc(r,i,o,u){return-1===o?function Kw(r,i){return 11&r.type?Al(r,i):4&r.type?sa(r,i):null}(i,r):-2===o?function sh(r,i,o){return o===Zd?Al(i,r):o===ru?sa(i,r):o===ih?ny(i,r):void 0}(r,i,u):_e(r,r[1],o,i)}function sy(r,i,o,u){const l=i[19].queries[u];if(null===l.matches){const d=r.data,f=o.matches,y=[];for(let _=0;_<f.length;_+=2){const S=f[_];y.push(S<0?null:pc(i,d[S],f[_+1],o.metadata.read))}l.matches=y}return l.matches}function lp(r,i,o,u){const l=r.queries.getByIndex(o),d=l.matches;if(null!==d){const f=sy(r,i,l,o);for(let y=0;y<d.length;y+=2){const _=d[y];if(_>0)u.push(f[y/2]);else{const S=d[y+1],R=i[-_];for(let U=10;U<R.length;U++){const Y=R[U];Y[17]===Y[3]&&lp(Y[1],Y,S,u)}if(null!==R[9]){const U=R[9];for(let Y=0;Y<U.length;Y++){const ce=U[Y];lp(ce[1],ce,S,u)}}}}}return u}function Yw(r){const i=Ve(),o=nn(),u=oo();gu(u+1);const l=Xw(o,u);if(r.dirty&&bs(i)===(2==(2&l.metadata.flags))){if(null===l.matches)r.reset([]);else{const d=l.crossesNgTemplate?lp(o,i,u,[]):sy(o,i,l,u);r.reset(d,rD),r.notifyOnChanges()}return!0}return!1}function oy(r,i,o){const u=nn();u.firstCreatePass&&(Jw(u,new qw(r,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),Hr(u,Ve(),i)}function Zw(r,i,o,u){const l=nn();if(l.firstCreatePass){const d=zn();Jw(l,new qw(i,o,u),d.index),function yD(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(l,r),2==(2&o)&&(l.staticContentQueries=!0)}Hr(l,Ve(),o)}function Qw(){return function ay(r,i){return r[19].queries[i].queryList}(Ve(),oo())}function Hr(r,i,o){const u=new ap(4==(4&o));df(r,i,u,u.destroy),null===i[19]&&(i[19]=new Rl),i[19].queries.push(new ry(u))}function Jw(r,i,o){null===r.queries&&(r.queries=new iy),r.queries.track(new cp(i,o))}function Xw(r,i){return r.queries.getByIndex(i)}function Ip(...r){}const l0=new Wn("Application Initializer");let vc=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Ip,this.reject=Ip,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(tr(d))o.push(d);else if(vl(d)){const f=new Promise((y,_)=>{d.subscribe({complete:y,error:_})});o.push(f)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Ct(l0,8))},r.\u0275prov=En({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Dp=new Wn("AppId",{providedIn:"root",factory:function _c(){return`${Fl()}${Fl()}${Fl()}`}});function Fl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ll=new Wn("Platform Initializer"),Ey=new Wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Iy=new Wn("appBootstrapListener");let Dy=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=En({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Tp=new Wn("LocaleId",{providedIn:"root",factory:()=>Mt(Tp,fe.Optional|fe.SkipSelf)||function su(){return"undefined"!=typeof $localize&&$localize.locale||jd}()}),CD=new Wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class AD{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Ty=(()=>{class r{compileModuleSync(o){return new rp(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),d=Os(K(o).declarations).reduce((f,y)=>{const _=bn(y);return _&&f.push(new Xd(_)),f},[]);return new AD(u,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=En({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const m0=(()=>Promise.resolve(0))();function ou(r){"undefined"==typeof Zone?m0.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class no{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new to(!1),this.onMicrotaskEmpty=new to(!1),this.onStable=new to(!1),this.onError=new to(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function by(){let r=j.requestAnimationFrame,i=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function xD(r){const i=()=>{!function y0(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(j,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,oh(r),r.isCheckStableRunning=!0,Cp(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),oh(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,d,f,y)=>{try{return v0(r),o.invokeTask(l,d,f,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&i(),Ap(r)}},onInvoke:(o,u,l,d,f,y,_)=>{try{return v0(r),o.invoke(l,d,f,y,_)}finally{r.shouldCoalesceRunChangeDetection&&i(),Ap(r)}},onHasTask:(o,u,l,d)=>{o.hasTask(l,d),u===l&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,oh(r),Cp(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,l,d)=>(o.handleError(l,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!no.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(no.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const d=this._inner,f=d.scheduleEventTask("NgZoneEvent: "+l,i,SD,Ip,Ip);try{return d.runTask(f,o,u)}finally{d.cancelTask(f)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const SD={};function Cp(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function oh(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function v0(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Ap(r){r._nesting--,Cp(r)}class MD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new to,this.onMicrotaskEmpty=new to,this.onStable=new to,this.onError=new to}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}let Sp=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{no.assertNotInAngularZone(),ou(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ou(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,l){return[]}}return r.\u0275fac=function(o){return new(o||r)(Ct(no))},r.\u0275prov=En({token:r,factory:r.\u0275fac}),r})(),RD=(()=>{class r{constructor(){this._applications=new Map,ah.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return ah.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=En({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();class Cy{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function _0(r){ah=r}let ah=new Cy,aa=null;const xp=new Wn("AllowMultipleToken"),wc=new Wn("PlatformOnDestroy");class Vl{constructor(i,o){this.name=i,this.token=o}}function Ec(r,i,o=[]){const u=`Platform: ${i}`,l=new Wn(u);return(d=[])=>{let f=uh();if(!f||f.injector.get(xp,!1)){const y=[...o,...d,{provide:l,useValue:!0}];r?r(y):function E0(r){if(aa&&!aa.get(xp,!1))throw new Fe(400,"");aa=r;const i=r.get(Mp),o=r.get(Ll,null);o&&o.forEach(u=>u())}(function ND(r=[],i){return Ii.create({name:i,providers:[{provide:ul,useValue:"platform"},{provide:wc,useValue:()=>aa=null},...r]})}(y,u))}return function kD(r){const i=uh();if(!i)throw new Fe(401,"");return i}()}}function uh(){var r;return null!==(r=null==aa?void 0:aa.get(Mp))&&void 0!==r?r:null}let Mp=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function Ay(r,i){let o;return o="noop"===r?new MD:("zone.js"===r?void 0:r)||new no({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),_=[{provide:no,useValue:y}];return y.run(()=>{const S=Ii.create({providers:_,parent:this.injector,name:o.moduleType.name}),R=o.create(S),U=R.injector.get($h,null);if(!U)throw new Fe(402,"");return y.runOutsideAngular(()=>{const Y=y.onError.subscribe({next:ce=>{U.handleError(ce)}});R.onDestroy(()=>{lh(this._modules,R),Y.unsubscribe()})}),function OD(r,i,o){try{const u=o();return tr(u)?u.catch(l=>{throw i.runOutsideAngular(()=>r.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(U,y,()=>{const Y=R.injector.get(vc);return Y.runInitializers(),Y.donePromise.then(()=>(function Il(r){Nn(r,"Expected localeId to be defined"),"string"==typeof r&&(km=r.toLowerCase().replace(/_/g,"-"))}(R.injector.get(Tp,jd)||jd),this._moduleDoBootstrap(R),R))})})}bootstrapModule(o,u=[]){const l=D0({},u);return function au(r,i,o){const u=new rp(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(o){const u=o.injector.get(ch);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Fe(403,"");o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(wc,null);null==o||o(),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Ct(Ii))},r.\u0275prov=En({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function D0(r,i){return Array.isArray(i)?i.reduce(D0,r):Object.assign(Object.assign({},r),i)}let ch=(()=>{class r{constructor(o,u,l,d){this._zone=o,this._injector=u,this._exceptionHandler=l,this._initStatus=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new Ne.y(_=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{_.next(this._stable),_.complete()})}),y=new Ne.y(_=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{no.assertNotInAngularZone(),ou(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,_.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{no.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{_.next(!1)}))});return()=>{S.unsubscribe(),R.unsubscribe()}});this.isStable=function Ce(...r){const i=(0,ye.yG)(r),o=(0,ye._6)(r,1/0),u=r;return u.length?1===u.length?(0,F.Xf)(u[0]):(0,x.J)(o)((0,G.D)(u,i)):oe.E}(f,y.pipe(function qe(r={}){const{connector:i=(()=>new Oe.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:l=!0}=r;return d=>{let f=null,y=null,_=null,S=0,R=!1,U=!1;const Y=()=>{null==y||y.unsubscribe(),y=null},ce=()=>{Y(),f=_=null,R=U=!1},be=()=>{const Je=f;ce(),null==Je||Je.unsubscribe()};return(0,xe.e)((Je,rt)=>{S++,!U&&!R&&Y();const at=_=null!=_?_:i();rt.add(()=>{S--,0===S&&!U&&!R&&(y=Le(be,l))}),at.subscribe(rt),f||(f=new Z.Hp({next:ke=>at.next(ke),error:ke=>{U=!0,Y(),y=Le(ce,o,ke),at.error(ke)},complete:()=>{R=!0,Y(),y=Le(ce,u),at.complete()}}),(0,G.D)(Je).subscribe(f))})(d)}}()))}bootstrap(o,u){if(!this._initStatus.done)throw new Fe(405,"");let l;l=o instanceof eo?o:this._injector.get(ep).resolveComponentFactory(o),this.componentTypes.push(l.componentType);const d=function Ul(r){return r.isBoundToModule}(l)?void 0:this._injector.get(Sl),y=l.create(Ii.NULL,[],u||l.selector,d),_=y.location.nativeElement,S=y.injector.get(Sp,null),R=S&&y.injector.get(RD);return S&&R&&R.registerApplication(_,S),y.onDestroy(()=>{this.detachView(y.hostView),lh(this.components,y),R&&R.unregisterApplication(_)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Fe(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;lh(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Iy,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(Ct(no),Ct(Ii),Ct($h),Ct(vc))},r.\u0275prov=En({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function lh(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let C0=!0;function A0(){C0=!1}let LD=(()=>{class r{}return r.__NG_ELEMENT_ID__=UD,r})();function UD(r){return function xy(r,i,o){if(vs(r)&&!o){const u=Br(r.index,i);return new Jd(u,u)}return 47&r.type?new Jd(i[16],i):null}(zn(),Ve(),16==(16&r))}class L0{constructor(){}supports(i){return Va(i)}create(i){return new ca(i)}}const Py=(r,i)=>i;class ca{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Py}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,d=null;for(;o||u;){const f=!u||o&&o.currentIndex<U0(u,l,d)?o:u,y=U0(f,l,d),_=f.currentIndex;if(f===u)l--,u=u._nextRemoved;else if(o=o._next,null==f.previousIndex)l++;else{d||(d=[]);const S=y-l,R=_-l;if(S!=R){for(let Y=0;Y<S;Y++){const ce=Y<d.length?d[Y]:d[Y]=0,be=ce+Y;R<=be&&be<S&&(d[Y]=ce+1)}d[f.previousIndex]=R-S}}y!==_&&i(f,y,_)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Va(i))throw new Fe(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,d,f,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)d=i[y],f=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,f)?(u&&(o=this._verifyReinsertion(o,d,f,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,f,y),u=!0),o=o._next}else l=0,function D_(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Zo()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,y=>{f=this._trackByFn(l,y),null!==o&&Object.is(o.trackById,f)?(u&&(o=this._verifyReinsertion(o,y,f,l)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,f,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,d,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,d,l)):i=this._addAfter(new Fy(o,u),d,l),i}_verifyReinsertion(i,o,u,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?i=this._reinsertAfter(d,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,d=i._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Rp),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rp),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Fy{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BD{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Rp{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new BD,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function U0(r,i,o){const u=r.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class V0{constructor(){}supports(i){return i instanceof Map||Uu(i)}create(){return new Ly}}class Ly{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Uu(i)))throw new Fe(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const d=l._prev,f=l._next;return d&&(d._next=f),f&&(f._prev=d),l._next=null,l._prev=null,l}const u=new jD(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class jD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kp(){return new Uy([new L0])}let Uy=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||kp()),deps:[[r,new Oi,new zo]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Fe(901,"")}}return r.\u0275prov=En({token:r,providedIn:"root",factory:kp}),r})();function j0(){return new gh([new V0])}let gh=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||j0()),deps:[[r,new Oi,new zo]]}}find(o){const u=this.factories.find(d=>d.supports(o));if(u)return u;throw new Fe(901,"")}}return r.\u0275prov=En({token:r,providedIn:"root",factory:j0}),r})();const HD=Ec(null,"core",[]);let By=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Ct(ch))},r.\u0275mod=ii({type:r}),r.\u0275inj=wr({}),r})()},9293:(Dt,Me,L)=>{L.d(Me,{rH:()=>_u,Od:()=>wu,Bz:()=>xh,lC:()=>Ie});var x=L(1223),F=L(7579);class oe extends F.x{constructor(m){super(),this._value=m}get value(){return this.getValue()}_subscribe(m){const p=super._subscribe(m);return!p.closed&&m.next(this._value),p}getValue(){const{hasError:m,thrownError:p,_value:I}=this;if(m)throw p;return this._throwIfClosed(),I}next(m){super.next(this._value=m)}}var ye=L(8306);const{isArray:G}=Array,{getPrototypeOf:Ce,prototype:Oe,keys:Ze}=Object;var Z=L(8996),xe=L(6393),qe=L(4004);const{isArray:Le}=Array;var We=L(7669),wt=L(5403),Ht=L(9672);function De(...v){const m=(0,We.yG)(v),p=(0,We.jO)(v),{args:I,keys:C}=function Ne(v){if(1===v.length){const m=v[0];if(G(m))return{args:m,keys:null};if(function X(v){return v&&"object"==typeof v&&Ce(v)===Oe}(m)){const p=Ze(m);return{args:p.map(I=>m[I]),keys:p}}}return{args:v,keys:null}}(v);if(0===I.length)return(0,Z.D)([],m);const N=new ye.y(function je(v,m,p=xe.y){return I=>{ze(m,()=>{const{length:C}=v,N=new Array(C);let H=C,q=C;for(let _e=0;_e<C;_e++)ze(m,()=>{const st=(0,Z.D)(v[_e],m);let Lt=!1;st.subscribe((0,wt.x)(I,mt=>{N[_e]=mt,Lt||(Lt=!0,q--),q||I.next(p(N.slice()))},()=>{--H||I.complete()}))},I)},I)}}(I,m,C?H=>function Tt(v,m){return v.reduce((p,I,C)=>(p[I]=m[C],p),{})}(C,H):xe.y));return p?N.pipe(function ft(v){return(0,qe.U)(m=>function et(v,m){return Le(m)?v(...m):v(m)}(v,m))}(p)):N}function ze(v,m,p){v?(0,Ht.f)(p,v,m):m()}var Fe=L(576);function Et(v,m){const p=(0,Fe.m)(v)?v:()=>v,I=C=>C.error(p());return new ye.y(m?C=>m.schedule(I,0,C):I)}const Re=(0,L(3888).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var ie=L(8189);function le(...v){return function W(){return(0,ie.J)(1)}()((0,Z.D)(v,(0,We.yG)(v)))}var ge=L(8421);function de(v){return new ye.y(m=>{(0,ge.Xf)(v()).subscribe(m)})}var Ge=L(727),ut=L(4482);function Xt(){return(0,ut.e)((v,m)=>{let p=null;v._refCount++;const I=(0,wt.x)(m,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(p=null);const C=v._connection,N=p;p=null,C&&(!N||C===N)&&C.unsubscribe(),m.unsubscribe()});v.subscribe(I),I.closed||(p=v.connect())})}class qt extends ye.y{constructor(m,p){super(),this.source=m,this.subjectFactory=p,this._subject=null,this._refCount=0,this._connection=null,(0,ut.A)(m)&&(this.lift=m.lift)}_subscribe(m){return this.getSubject().subscribe(m)}getSubject(){const m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:m}=this;this._subject=this._connection=null,null==m||m.unsubscribe()}connect(){let m=this._connection;if(!m){m=this._connection=new Ge.w0;const p=this.getSubject();m.add(this.source.subscribe((0,wt.x)(p,void 0,()=>{this._teardown(),p.complete()},I=>{this._teardown(),p.error(I)},()=>this._teardown()))),m.closed&&(this._connection=null,m=Ge.w0.EMPTY)}return m}refCount(){return Xt()(this)}}var Qe=L(9646),sn=L(515);function wn(v,m){return(0,ut.e)((p,I)=>{let C=null,N=0,H=!1;const q=()=>H&&!C&&I.complete();p.subscribe((0,wt.x)(I,_e=>{null==C||C.unsubscribe();let st=0;const Lt=N++;(0,ge.Xf)(v(_e,Lt)).subscribe(C=(0,wt.x)(I,mt=>I.next(m?m(_e,mt,Lt,st++):mt),()=>{C=null,q()}))},()=>{H=!0,q()}))})}function An(v,m,p,I,C){return(N,H)=>{let q=p,_e=m,st=0;N.subscribe((0,wt.x)(H,Lt=>{const mt=st++;_e=q?v(_e,Lt,mt):(q=!0,Lt),I&&H.next(_e)},C&&(()=>{q&&H.next(_e),H.complete()})))}}function jn(v,m){return(0,ut.e)(An(v,m,arguments.length>=2,!0))}function Ln(v){return(0,ut.e)((m,p)=>{let N,I=null,C=!1;I=m.subscribe((0,wt.x)(p,void 0,void 0,H=>{N=(0,ge.Xf)(v(H,Ln(v)(m))),I?(I.unsubscribe(),I=null,N.subscribe(p)):C=!0})),C&&(I.unsubscribe(),I=null,N.subscribe(p))})}var kn=L(9300);function Nn(v){return v<=0?()=>sn.E:(0,ut.e)((m,p)=>{let I=[];m.subscribe((0,wt.x)(p,C=>{I.push(C),v<I.length&&I.shift()},()=>{for(const C of I)p.next(C);p.complete()},void 0,()=>{I=null}))})}function yt(v=en){return(0,ut.e)((m,p)=>{let I=!1;m.subscribe((0,wt.x)(p,C=>{I=!0,p.next(C)},()=>I?p.complete():p.error(v())))})}function en(){return new Re}function Vr(v){return(0,ut.e)((m,p)=>{let I=!1;m.subscribe((0,wt.x)(p,C=>{I=!0,p.next(C)},()=>{I||p.next(v),p.complete()}))})}var En=L(5698);function gn(v,m){const p=arguments.length>=2;return I=>I.pipe(v?(0,kn.h)((C,N)=>v(C,N,I)):xe.y,(0,En.q)(1),p?Vr(m):yt(()=>new Re))}var fr=L(4351),Tn=L(5577),Gt=L(8505),On=L(9808);class Kn{constructor(m,p){this.id=m,this.url=p}}class er extends Kn{constructor(m,p,I="imperative",C=null){super(m,p),this.navigationTrigger=I,this.restoredState=C}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class we extends Kn{constructor(m,p,I){super(m,p),this.urlAfterRedirects=I}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ne extends Kn{constructor(m,p,I){super(m,p),this.reason=I}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class J extends Kn{constructor(m,p,I){super(m,p),this.error=I}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fe extends Kn{constructor(m,p,I,C){super(m,p),this.urlAfterRedirects=I,this.state=C}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Se extends Kn{constructor(m,p,I,C){super(m,p),this.urlAfterRedirects=I,this.state=C}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ue extends Kn{constructor(m,p,I,C,N){super(m,p),this.urlAfterRedirects=I,this.state=C,this.shouldActivate=N}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ke extends Kn{constructor(m,p,I,C){super(m,p),this.urlAfterRedirects=I,this.state=C}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tn extends Kn{constructor(m,p,I,C){super(m,p),this.urlAfterRedirects=I,this.state=C}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xt{constructor(m){this.route=m}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jt{constructor(m){this.route=m}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yt{constructor(m){this.snapshot=m}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sn{constructor(m){this.snapshot=m}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(m){this.snapshot=m}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ht{constructor(m){this.snapshot=m}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class te{constructor(m,p,I){this.routerEvent=m,this.position=p,this.anchor=I}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const V="primary";class ae{constructor(m){this.params=m||{}}has(m){return Object.prototype.hasOwnProperty.call(this.params,m)}get(m){if(this.has(m)){const p=this.params[m];return Array.isArray(p)?p[0]:p}return null}getAll(m){if(this.has(m)){const p=this.params[m];return Array.isArray(p)?p:[p]}return[]}get keys(){return Object.keys(this.params)}}function re(v){return new ae(v)}const j="ngNavigationCancelingError";function Ae(v){const m=Error("NavigationCancelingError: "+v);return m[j]=!0,m}function vt(v,m,p){const I=p.path.split("/");if(I.length>v.length||"full"===p.pathMatch&&(m.hasChildren()||I.length<v.length))return null;const C={};for(let N=0;N<I.length;N++){const H=I[N],q=v[N];if(H.startsWith(":"))C[H.substring(1)]=q;else if(H!==q.path)return null}return{consumed:v.slice(0,I.length),posParams:C}}function Ot(v,m){const p=v?Object.keys(v):void 0,I=m?Object.keys(m):void 0;if(!p||!I||p.length!=I.length)return!1;let C;for(let N=0;N<p.length;N++)if(C=p[N],!un(v[C],m[C]))return!1;return!0}function un(v,m){if(Array.isArray(v)&&Array.isArray(m)){if(v.length!==m.length)return!1;const p=[...v].sort(),I=[...m].sort();return p.every((C,N)=>I[N]===C)}return v===m}function zt(v){return Array.prototype.concat.apply([],v)}function Er(v){return v.length>0?v[v.length-1]:null}function fn(v,m){for(const p in v)v.hasOwnProperty(p)&&m(v[p],p)}function Un(v){return(0,x.CqO)(v)?v:(0,x.QGY)(v)?(0,Z.D)(Promise.resolve(v)):(0,Qe.of)(v)}const Vs={exact:function ii(v,m,p){if(!$(v.segments,m.segments)||!as(v.segments,m.segments,p)||v.numberOfChildren!==m.numberOfChildren)return!1;for(const I in m.children)if(!v.children[I]||!ii(v.children[I],m.children[I],p))return!1;return!0},subset:$i},Ci={exact:function yi(v,m){return Ot(v,m)},subset:function Co(v,m){return Object.keys(m).length<=Object.keys(v).length&&Object.keys(m).every(p=>un(v[p],m[p]))},ignored:()=>!0};function os(v,m,p){return Vs[p.paths](v.root,m.root,p.matrixParams)&&Ci[p.queryParams](v.queryParams,m.queryParams)&&!("exact"===p.fragment&&v.fragment!==m.fragment)}function $i(v,m,p){return vi(v,m,m.segments,p)}function vi(v,m,p,I){if(v.segments.length>p.length){const C=v.segments.slice(0,p.length);return!(!$(C,p)||m.hasChildren()||!as(C,p,I))}if(v.segments.length===p.length){if(!$(v.segments,p)||!as(v.segments,p,I))return!1;for(const C in m.children)if(!v.children[C]||!$i(v.children[C],m.children[C],I))return!1;return!0}{const C=p.slice(0,v.segments.length),N=p.slice(v.segments.length);return!!($(v.segments,C)&&as(v.segments,C,I)&&v.children[V])&&vi(v.children[V],m,N,I)}}function as(v,m,p){return m.every((I,C)=>Ci[p](v[C].parameters,I.parameters))}class bn{constructor(m,p,I){this.root=m,this.queryParams=p,this.fragment=I}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=re(this.queryParams)),this._queryParamMap}toString(){return Wt.serialize(this)}}class kt{constructor(m,p){this.segments=m,this.children=p,this.parent=null,fn(p,(I,C)=>I.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return on(this)}}class ee{constructor(m,p){this.path=m,this.parameters=p}get parameterMap(){return this._parameterMap||(this._parameterMap=re(this.parameters)),this._parameterMap}toString(){return Yn(this)}}function $(v,m){return v.length===m.length&&v.every((p,I)=>p.path===m[I].path)}class Pe{}class lt{parse(m){const p=new us(m);return new bn(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(m){const p=`/${$n(m.root,!0)}`,I=function Hn(v){const m=Object.keys(v).map(p=>{const I=v[p];return Array.isArray(I)?I.map(C=>`${tt(p)}=${tt(C)}`).join("&"):`${tt(p)}=${tt(I)}`}).filter(p=>!!p);return m.length?`?${m.join("&")}`:""}(m.queryParams);return`${p}${I}${"string"==typeof m.fragment?`#${function Zt(v){return encodeURI(v)}(m.fragment)}`:""}`}}const Wt=new lt;function on(v){return v.segments.map(m=>Yn(m)).join("/")}function $n(v,m){if(!v.hasChildren())return on(v);if(m){const p=v.children[V]?$n(v.children[V],!1):"",I=[];return fn(v.children,(C,N)=>{N!==V&&I.push(`${N}:${$n(C,!1)}`)}),I.length>0?`${p}(${I.join("//")})`:p}{const p=function pe(v,m){let p=[];return fn(v.children,(I,C)=>{C===V&&(p=p.concat(m(I,C)))}),fn(v.children,(I,C)=>{C!==V&&(p=p.concat(m(I,C)))}),p}(v,(I,C)=>C===V?[$n(v.children[V],!1)]:[`${C}:${$n(I,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[V]?`${on(v)}/${p[0]}`:`${on(v)}/(${p.join("//")})`}}function ar(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tt(v){return ar(v).replace(/%3B/gi,";")}function Cn(v){return ar(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sr(v){return decodeURIComponent(v)}function si(v){return sr(v.replace(/\+/g,"%20"))}function Yn(v){return`${Cn(v.path)}${function zr(v){return Object.keys(v).map(m=>`;${Cn(m)}=${Cn(v[m])}`).join("")}(v.parameters)}`}const ms=/^[^\/()?;=#]+/;function oi(v){const m=v.match(ms);return m?m[0]:""}const Vt=/^[^=?&#]+/,Wr=/^[^&#]+/;class us{constructor(m){this.url=m,this.remaining=m}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const m={};if(this.consumeOptional("?"))do{this.parseQueryParam(m)}while(this.consumeOptional("&"));return m}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const m=[];for(this.peekStartsWith("(")||m.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),m.push(this.parseSegment());let p={};this.peekStartsWith("/(")&&(this.capture("/"),p=this.parseParens(!0));let I={};return this.peekStartsWith("(")&&(I=this.parseParens(!1)),(m.length>0||Object.keys(p).length>0)&&(I[V]=new kt(m,p)),I}parseSegment(){const m=oi(this.remaining);if(""===m&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(m),new ee(sr(m),this.parseMatrixParams())}parseMatrixParams(){const m={};for(;this.consumeOptional(";");)this.parseParam(m);return m}parseParam(m){const p=oi(this.remaining);if(!p)return;this.capture(p);let I="";if(this.consumeOptional("=")){const C=oi(this.remaining);C&&(I=C,this.capture(I))}m[sr(p)]=sr(I)}parseQueryParam(m){const p=function Hi(v){const m=v.match(Vt);return m?m[0]:""}(this.remaining);if(!p)return;this.capture(p);let I="";if(this.consumeOptional("=")){const H=function ro(v){const m=v.match(Wr);return m?m[0]:""}(this.remaining);H&&(I=H,this.capture(I))}const C=si(p),N=si(I);if(m.hasOwnProperty(C)){let H=m[C];Array.isArray(H)||(H=[H],m[C]=H),H.push(N)}else m[C]=N}parseParens(m){const p={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const I=oi(this.remaining),C=this.remaining[I.length];if("/"!==C&&")"!==C&&";"!==C)throw new Error(`Cannot parse url '${this.url}'`);let N;I.indexOf(":")>-1?(N=I.substr(0,I.indexOf(":")),this.capture(N),this.capture(":")):m&&(N=V);const H=this.parseChildren();p[N]=1===Object.keys(H).length?H[V]:new kt([],H),this.consumeOptional("//")}return p}peekStartsWith(m){return this.remaining.startsWith(m)}consumeOptional(m){return!!this.peekStartsWith(m)&&(this.remaining=this.remaining.substring(m.length),!0)}capture(m){if(!this.consumeOptional(m))throw new Error(`Expected "${m}".`)}}class xr{constructor(m){this._root=m}get root(){return this._root.value}parent(m){const p=this.pathFromRoot(m);return p.length>1?p[p.length-2]:null}children(m){const p=cs(m,this._root);return p?p.children.map(I=>I.value):[]}firstChild(m){const p=cs(m,this._root);return p&&p.children.length>0?p.children[0].value:null}siblings(m){const p=qr(m,this._root);return p.length<2?[]:p[p.length-2].children.map(C=>C.value).filter(C=>C!==m)}pathFromRoot(m){return qr(m,this._root).map(p=>p.value)}}function cs(v,m){if(v===m.value)return m;for(const p of m.children){const I=cs(v,p);if(I)return I}return null}function qr(v,m){if(v===m.value)return[m];for(const p of m.children){const I=qr(v,p);if(I.length)return I.unshift(m),I}return[]}class Zn{constructor(m,p){this.value=m,this.children=p}toString(){return`TreeNode(${this.value})`}}function ln(v){const m={};return v&&v.children.forEach(p=>m[p.value.outlet]=p),m}class io extends xr{constructor(m,p){super(m),this.snapshot=p,Ao(this,m)}toString(){return this.snapshot.toString()}}function cu(v,m){const p=function Vn(v,m){const H=new Dr([],{},{},"",{},V,m,null,v.root,-1,{});return new Mr("",new Zn(H,[]))}(v,m),I=new oe([new ee("",{})]),C=new oe({}),N=new oe({}),H=new oe({}),q=new oe(""),_e=new pr(I,C,H,q,N,V,m,p.root);return _e.snapshot=p.root,new io(new Zn(_e,[]),p)}class pr{constructor(m,p,I,C,N,H,q,_e){this.url=m,this.params=p,this.queryParams=I,this.fragment=C,this.data=N,this.outlet=H,this.component=q,this._futureSnapshot=_e}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qe.U)(m=>re(m)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qe.U)(m=>re(m)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ys(v,m="emptyOnly"){const p=v.pathFromRoot;let I=0;if("always"!==m)for(I=p.length-1;I>=1;){const C=p[I],N=p[I-1];if(C.routeConfig&&""===C.routeConfig.path)I--;else{if(N.component)break;I--}}return function vs(v){return v.reduce((m,p)=>({params:Object.assign(Object.assign({},m.params),p.params),data:Object.assign(Object.assign({},m.data),p.data),resolve:Object.assign(Object.assign({},m.resolve),p._resolvedData)}),{params:{},data:{},resolve:{}})}(p.slice(I))}class Dr{constructor(m,p,I,C,N,H,q,_e,st,Lt,mt){this.url=m,this.params=p,this.queryParams=I,this.fragment=C,this.data=N,this.outlet=H,this.component=q,this.routeConfig=_e,this._urlSegment=st,this._lastPathIndex=Lt,this._resolve=mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=re(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=re(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(I=>I.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mr extends xr{constructor(m,p){super(p),this.url=m,Ao(this,p)}toString(){return Gi(this._root)}}function Ao(v,m){m.value._routerState=v,m.children.forEach(p=>Ao(v,p))}function Gi(v){const m=v.children.length>0?` { ${v.children.map(Gi).join(", ")} } `:"";return`${v.value}${m}`}function Ai(v){if(v.snapshot){const m=v.snapshot,p=v._futureSnapshot;v.snapshot=p,Ot(m.queryParams,p.queryParams)||v.queryParams.next(p.queryParams),m.fragment!==p.fragment&&v.fragment.next(p.fragment),Ot(m.params,p.params)||v.params.next(p.params),function ct(v,m){if(v.length!==m.length)return!1;for(let p=0;p<v.length;++p)if(!Ot(v[p],m[p]))return!1;return!0}(m.url,p.url)||v.url.next(p.url),Ot(m.data,p.data)||v.data.next(p.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function Bs(v,m){const p=Ot(v.params,m.params)&&function K(v,m){return $(v,m)&&v.every((p,I)=>Ot(p.parameters,m[I].parameters))}(v.url,m.url);return p&&!(!v.parent!=!m.parent)&&(!v.parent||Bs(v.parent,m.parent))}function _s(v,m,p){if(p&&v.shouldReuseRoute(m.value,p.value.snapshot)){const I=p.value;I._futureSnapshot=m.value;const C=function Tc(v,m,p){return m.children.map(I=>{for(const C of p.children)if(v.shouldReuseRoute(I.value,C.value.snapshot))return _s(v,I,C);return _s(v,I)})}(v,m,p);return new Zn(I,C)}{if(v.shouldAttach(m.value)){const N=v.retrieve(m.value);if(null!==N){const H=N.route;return H.value._futureSnapshot=m.value,H.children=m.children.map(q=>_s(v,q)),H}}const I=function la(v){return new pr(new oe(v.url),new oe(v.params),new oe(v.queryParams),new oe(v.fragment),new oe(v.data),v.outlet,v.component,v)}(m.value),C=m.children.map(N=>_s(v,N));return new Zn(I,C)}}function da(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function zi(v){return"object"==typeof v&&null!=v&&v.outlets}function ws(v,m,p,I,C){let N={};if(I&&fn(I,(q,_e)=>{N[_e]=Array.isArray(q)?q.map(st=>`${st}`):`${q}`}),v===m)return new bn(p,N,C);const H=so(v,m,p);return new bn(H,N,C)}function so(v,m,p){const I={};return fn(v.children,(C,N)=>{I[N]=C===m?p:so(C,m,p)}),new kt(v.segments,I)}class lu{constructor(m,p,I){if(this.isAbsolute=m,this.numberOfDoubleDots=p,this.commands=I,m&&I.length>0&&da(I[0]))throw new Error("Root segment cannot have matrix parameters");const C=I.find(zi);if(C&&C!==Er(I))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ha{constructor(m,p,I){this.segmentGroup=m,this.processChildren=p,this.index=I}}function Es(v,m,p){if(v||(v=new kt([],{})),0===v.segments.length&&v.hasChildren())return pa(v,m,p);const I=function jl(v,m,p){let I=0,C=m;const N={match:!1,pathIndex:0,commandIndex:0};for(;C<v.segments.length;){if(I>=p.length)return N;const H=v.segments[C],q=p[I];if(zi(q))break;const _e=`${q}`,st=I<p.length-1?p[I+1]:null;if(C>0&&void 0===_e)break;if(_e&&st&&"object"==typeof st&&void 0===st.outlets){if(!js(_e,st,H))return N;I+=2}else{if(!js(_e,{},H))return N;I++}C++}return{match:!0,pathIndex:C,commandIndex:I}}(v,m,p),C=p.slice(I.commandIndex);if(I.match&&I.pathIndex<v.segments.length){const N=new kt(v.segments.slice(0,I.pathIndex),{});return N.children[V]=new kt(v.segments.slice(I.pathIndex),v.children),pa(N,0,C)}return I.match&&0===C.length?new kt(v.segments,{}):I.match&&!v.hasChildren()?Is(v,m,p):I.match?pa(v,0,C):Is(v,m,p)}function pa(v,m,p){if(0===p.length)return new kt(v.segments,{});{const I=function fa(v){return zi(v[0])?v[0].outlets:{[V]:v}}(p),C={};return fn(I,(N,H)=>{"string"==typeof N&&(N=[N]),null!==N&&(C[H]=Es(v.children[H],m,N))}),fn(v.children,(N,H)=>{void 0===I[H]&&(C[H]=N)}),new kt(v.segments,C)}}function Is(v,m,p){const I=v.segments.slice(0,m);let C=0;for(;C<p.length;){const N=p[C];if(zi(N)){const _e=Tr(N.outlets);return new kt(I,_e)}if(0===C&&da(p[0])){I.push(new ee(v.segments[m].path,Ds(p[0]))),C++;continue}const H=zi(N)?N.outlets[V]:`${N}`,q=C<p.length-1?p[C+1]:null;H&&q&&da(q)?(I.push(new ee(H,Ds(q))),C+=2):(I.push(new ee(H,{})),C++)}return new kt(I,{})}function Tr(v){const m={};return fn(v,(p,I)=>{"string"==typeof p&&(p=[p]),null!==p&&(m[I]=Is(new kt([],{}),0,p))}),m}function Ds(v){const m={};return fn(v,(p,I)=>m[I]=`${p}`),m}function js(v,m,p){return v==p.path&&Ot(m,p.parameters)}class Cc{constructor(m,p,I,C){this.routeReuseStrategy=m,this.futureState=p,this.currState=I,this.forwardEvent=C}activate(m){const p=this.futureState._root,I=this.currState?this.currState._root:null;this.deactivateChildRoutes(p,I,m),Ai(this.futureState.root),this.activateChildRoutes(p,I,m)}deactivateChildRoutes(m,p,I){const C=ln(p);m.children.forEach(N=>{const H=N.value.outlet;this.deactivateRoutes(N,C[H],I),delete C[H]}),fn(C,(N,H)=>{this.deactivateRouteAndItsChildren(N,I)})}deactivateRoutes(m,p,I){const C=m.value,N=p?p.value:null;if(C===N)if(C.component){const H=I.getContext(C.outlet);H&&this.deactivateChildRoutes(m,p,H.children)}else this.deactivateChildRoutes(m,p,I);else N&&this.deactivateRouteAndItsChildren(p,I)}deactivateRouteAndItsChildren(m,p){m.value.component&&this.routeReuseStrategy.shouldDetach(m.value.snapshot)?this.detachAndStoreRouteSubtree(m,p):this.deactivateRouteAndOutlet(m,p)}detachAndStoreRouteSubtree(m,p){const I=p.getContext(m.value.outlet),C=I&&m.value.component?I.children:p,N=ln(m);for(const H of Object.keys(N))this.deactivateRouteAndItsChildren(N[H],C);if(I&&I.outlet){const H=I.outlet.detach(),q=I.children.onOutletDeactivated();this.routeReuseStrategy.store(m.value.snapshot,{componentRef:H,route:m,contexts:q})}}deactivateRouteAndOutlet(m,p){const I=p.getContext(m.value.outlet),C=I&&m.value.component?I.children:p,N=ln(m);for(const H of Object.keys(N))this.deactivateRouteAndItsChildren(N[H],C);I&&I.outlet&&(I.outlet.deactivate(),I.children.onOutletDeactivated(),I.attachRef=null,I.resolver=null,I.route=null)}activateChildRoutes(m,p,I){const C=ln(p);m.children.forEach(N=>{this.activateRoutes(N,C[N.value.outlet],I),this.forwardEvent(new ht(N.value.snapshot))}),m.children.length&&this.forwardEvent(new Sn(m.value.snapshot))}activateRoutes(m,p,I){const C=m.value,N=p?p.value:null;if(Ai(C),C===N)if(C.component){const H=I.getOrCreateContext(C.outlet);this.activateChildRoutes(m,p,H.children)}else this.activateChildRoutes(m,p,I);else if(C.component){const H=I.getOrCreateContext(C.outlet);if(this.routeReuseStrategy.shouldAttach(C.snapshot)){const q=this.routeReuseStrategy.retrieve(C.snapshot);this.routeReuseStrategy.store(C.snapshot,null),H.children.onOutletReAttached(q.contexts),H.attachRef=q.componentRef,H.route=q.route.value,H.outlet&&H.outlet.attach(q.componentRef,q.route.value),Ai(q.route.value),this.activateChildRoutes(m,null,H.children)}else{const q=function du(v){for(let m=v.parent;m;m=m.parent){const p=m.routeConfig;if(p&&p._loadedConfig)return p._loadedConfig;if(p&&p.component)return null}return null}(C.snapshot),_e=q?q.module.componentFactoryResolver:null;H.attachRef=null,H.route=C,H.resolver=_e,H.outlet&&H.outlet.activateWith(C,_e),this.activateChildRoutes(m,null,H.children)}}else this.activateChildRoutes(m,null,I)}}class ls{constructor(m,p){this.routes=m,this.module=p}}function Qn(v){return"function"==typeof v}function xi(v){return v instanceof bn}const k=Symbol("INITIAL_VALUE");function b(){return wn(v=>De(v.map(m=>m.pipe((0,En.q)(1),function yn(...v){const m=(0,We.yG)(v);return(0,ut.e)((p,I)=>{(m?le(v,p,m):le(v,p)).subscribe(I)})}(k)))).pipe(jn((m,p)=>{let I=!1;return p.reduce((C,N,H)=>C!==k?C:(N===k&&(I=!0),I||!1!==N&&H!==p.length-1&&!xi(N)?C:N),m)},k),(0,kn.h)(m=>m!==k),(0,qe.U)(m=>xi(m)?m:!0===m),(0,En.q)(1)))}class P{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Q,this.attachRef=null}}class Q{constructor(){this.contexts=new Map}onChildOutletCreated(m,p){const I=this.getOrCreateContext(m);I.outlet=p,this.contexts.set(m,I)}onChildOutletDestroyed(m){const p=this.getContext(m);p&&(p.outlet=null,p.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let p=this.getContext(m);return p||(p=new P,this.contexts.set(m,p)),p}getContext(m){return this.contexts.get(m)||null}}let Ie=(()=>{class v{constructor(p,I,C,N,H){this.parentContexts=p,this.location=I,this.resolver=C,this.changeDetector=H,this.activated=null,this._activatedRoute=null,this.activateEvents=new x.vpe,this.deactivateEvents=new x.vpe,this.attachEvents=new x.vpe,this.detachEvents=new x.vpe,this.name=N||V,p.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const p=this.parentContexts.getContext(this.name);p&&p.route&&(p.attachRef?this.attach(p.attachRef,p.route):this.activateWith(p.route,p.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const p=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(p.instance),p}attach(p,I){this.activated=p,this._activatedRoute=I,this.location.insert(p.hostView),this.attachEvents.emit(p.instance)}deactivate(){if(this.activated){const p=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(p)}}activateWith(p,I){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=p;const H=(I=I||this.resolver).resolveComponentFactory(p._futureSnapshot.routeConfig.component),q=this.parentContexts.getOrCreateContext(this.name).children,_e=new $e(p,q,this.location.injector);this.activated=this.location.createComponent(H,this.location.length,_e),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(p){return new(p||v)(x.Y36(Q),x.Y36(x.s_b),x.Y36(x._Vd),x.$8M("name"),x.Y36(x.sBO))},v.\u0275dir=x.lG2({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),v})();class $e{constructor(m,p,I){this.route=m,this.childContexts=p,this.parent=I}get(m,p){return m===pr?this.route:m===Q?this.childContexts:this.parent.get(m,p)}}let _t=(()=>{class v{}return v.\u0275fac=function(p){return new(p||v)},v.\u0275cmp=x.Xpm({type:v,selectors:[["ng-component"]],decls:1,vars:0,template:function(p,I){1&p&&x._UZ(0,"router-outlet")},directives:[Ie],encapsulation:2}),v})();function pt(v,m=""){for(let p=0;p<v.length;p++){const I=v[p];In(I,vn(m,I))}}function In(v,m){v.children&&pt(v.children,m)}function vn(v,m){return m?v||m.path?v&&!m.path?`${v}/`:!v&&m.path?m.path:`${v}/${m.path}`:"":v}function At(v){const m=v.children&&v.children.map(At),p=m?Object.assign(Object.assign({},v),{children:m}):Object.assign({},v);return!p.component&&(m||p.loadChildren)&&p.outlet&&p.outlet!==V&&(p.component=_t),p}function dn(v){return v.outlet||V}function xn(v,m){const p=v.filter(I=>dn(I)===m);return p.push(...v.filter(I=>dn(I)!==m)),p}const Pn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gn(v,m,p){var I;if(""===m.path)return"full"===m.pathMatch&&(v.hasChildren()||p.length>0)?Object.assign({},Pn):{matched:!0,consumedSegments:[],remainingSegments:p,parameters:{},positionalParamSegments:{}};const N=(m.matcher||vt)(p,v,m);if(!N)return Object.assign({},Pn);const H={};fn(N.posParams,(_e,st)=>{H[st]=_e.path});const q=N.consumed.length>0?Object.assign(Object.assign({},H),N.consumed[N.consumed.length-1].parameters):H;return{matched:!0,consumedSegments:N.consumed,remainingSegments:p.slice(N.consumed.length),parameters:q,positionalParamSegments:null!==(I=N.posParams)&&void 0!==I?I:{}}}function Rr(v,m,p,I,C="corrected"){if(p.length>0&&function Br(v,m,p){return p.some(I=>ai(v,m,I)&&dn(I)!==V)}(v,p,I)){const H=new kt(m,function kr(v,m,p,I){const C={};C[V]=I,I._sourceSegment=v,I._segmentIndexShift=m.length;for(const N of p)if(""===N.path&&dn(N)!==V){const H=new kt([],{});H._sourceSegment=v,H._segmentIndexShift=m.length,C[dn(N)]=H}return C}(v,m,I,new kt(p,v.children)));return H._sourceSegment=v,H._segmentIndexShift=m.length,{segmentGroup:H,slicedSegments:[]}}if(0===p.length&&function bs(v,m,p){return p.some(I=>ai(v,m,I))}(v,p,I)){const H=new kt(v.segments,function Wi(v,m,p,I,C,N){const H={};for(const q of I)if(ai(v,p,q)&&!C[dn(q)]){const _e=new kt([],{});_e._sourceSegment=v,_e._segmentIndexShift="legacy"===N?v.segments.length:m.length,H[dn(q)]=_e}return Object.assign(Object.assign({},C),H)}(v,m,p,I,v.children,C));return H._sourceSegment=v,H._segmentIndexShift=m.length,{segmentGroup:H,slicedSegments:p}}const N=new kt(v.segments,v.children);return N._sourceSegment=v,N._segmentIndexShift=m.length,{segmentGroup:N,slicedSegments:p}}function ai(v,m,p){return(!(v.hasChildren()||m.length>0)||"full"!==p.pathMatch)&&""===p.path}function Ro(v,m,p,I){return!!(dn(v)===I||I!==V&&ai(m,p,v))&&("**"===v.path||Gn(m,v,p).matched)}function Kr(v,m,p){return 0===m.length&&!v.children[p]}class ma{constructor(m){this.segmentGroup=m||null}}class Cs{constructor(m){this.urlTree=m}}function Pt(v){return Et(new ma(v))}function $s(v){return Et(new Cs(v))}class ya{constructor(m,p,I,C,N){this.configLoader=p,this.urlSerializer=I,this.urlTree=C,this.config=N,this.allowRedirects=!0,this.ngModule=m.get(x.h0i)}apply(){const m=Rr(this.urlTree.root,[],[],this.config).segmentGroup,p=new kt(m.segments,m.children);return this.expandSegmentGroup(this.ngModule,this.config,p,V).pipe((0,qe.U)(N=>this.createUrlTree(No(N),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ln(N=>{if(N instanceof Cs)return this.allowRedirects=!1,this.match(N.urlTree);throw N instanceof ma?this.noMatchError(N):N}))}match(m){return this.expandSegmentGroup(this.ngModule,this.config,m.root,V).pipe((0,qe.U)(C=>this.createUrlTree(No(C),m.queryParams,m.fragment))).pipe(Ln(C=>{throw C instanceof ma?this.noMatchError(C):C}))}noMatchError(m){return new Error(`Cannot match any routes. URL Segment: '${m.segmentGroup}'`)}createUrlTree(m,p,I){const C=m.segments.length>0?new kt([],{[V]:m}):m;return new bn(C,p,I)}expandSegmentGroup(m,p,I,C){return 0===I.segments.length&&I.hasChildren()?this.expandChildren(m,p,I).pipe((0,qe.U)(N=>new kt([],N))):this.expandSegment(m,I,p,I.segments,C,!0)}expandChildren(m,p,I){const C=[];for(const N of Object.keys(I.children))"primary"===N?C.unshift(N):C.push(N);return(0,Z.D)(C).pipe((0,fr.b)(N=>{const H=I.children[N],q=xn(p,N);return this.expandSegmentGroup(m,q,H,N).pipe((0,qe.U)(_e=>({segment:_e,outlet:N})))}),jn((N,H)=>(N[H.outlet]=H.segment,N),{}),function bi(v,m){const p=arguments.length>=2;return I=>I.pipe(v?(0,kn.h)((C,N)=>v(C,N,I)):xe.y,Nn(1),p?Vr(m):yt(()=>new Re))}())}expandSegment(m,p,I,C,N,H){return(0,Z.D)(I).pipe((0,fr.b)(q=>this.expandSegmentAgainstRoute(m,p,I,q,C,N,H).pipe(Ln(st=>{if(st instanceof ma)return(0,Qe.of)(null);throw st}))),gn(q=>!!q),Ln((q,_e)=>{if(q instanceof Re||"EmptyError"===q.name)return Kr(p,C,N)?(0,Qe.of)(new kt([],{})):Pt(p);throw q}))}expandSegmentAgainstRoute(m,p,I,C,N,H,q){return Ro(C,p,N,H)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(m,p,C,N,H):q&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(m,p,I,C,N,H):Pt(p):Pt(p)}expandSegmentAgainstRouteUsingRedirect(m,p,I,C,N,H){return"**"===C.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(m,I,C,H):this.expandRegularSegmentAgainstRouteUsingRedirect(m,p,I,C,N,H)}expandWildCardWithParamsAgainstRouteUsingRedirect(m,p,I,C){const N=this.applyRedirectCommands([],I.redirectTo,{});return I.redirectTo.startsWith("/")?$s(N):this.lineralizeSegments(I,N).pipe((0,Tn.z)(H=>{const q=new kt(H,{});return this.expandSegment(m,q,p,H,C,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(m,p,I,C,N,H){const{matched:q,consumedSegments:_e,remainingSegments:st,positionalParamSegments:Lt}=Gn(p,C,N);if(!q)return Pt(p);const mt=this.applyRedirectCommands(_e,C.redirectTo,Lt);return C.redirectTo.startsWith("/")?$s(mt):this.lineralizeSegments(C,mt).pipe((0,Tn.z)(cn=>this.expandSegment(m,p,I,cn.concat(st),H,!1)))}matchSegmentAgainstRoute(m,p,I,C,N){if("**"===I.path)return I.loadChildren?(I._loadedConfig?(0,Qe.of)(I._loadedConfig):this.configLoader.load(m.injector,I)).pipe((0,qe.U)(mt=>(I._loadedConfig=mt,new kt(C,{})))):(0,Qe.of)(new kt(C,{}));const{matched:H,consumedSegments:q,remainingSegments:_e}=Gn(p,I,C);return H?this.getChildConfig(m,I,C).pipe((0,Tn.z)(Lt=>{const mt=Lt.module,cn=Lt.routes,{segmentGroup:an,slicedSegments:Ni}=Rr(p,q,_e,cn),ks=new kt(an.segments,an.children);if(0===Ni.length&&ks.hasChildren())return this.expandChildren(mt,cn,ks).pipe((0,qe.U)(Tu=>new kt(q,Tu)));if(0===cn.length&&0===Ni.length)return(0,Qe.of)(new kt(q,{}));const Ks=dn(I)===N;return this.expandSegment(mt,ks,cn,Ni,Ks?V:N,!0).pipe((0,qe.U)(Ki=>new kt(q.concat(Ki.segments),Ki.children)))})):Pt(p)}getChildConfig(m,p,I){return p.children?(0,Qe.of)(new ls(p.children,m)):p.loadChildren?void 0!==p._loadedConfig?(0,Qe.of)(p._loadedConfig):this.runCanLoadGuards(m.injector,p,I).pipe((0,Tn.z)(C=>C?this.configLoader.load(m.injector,p).pipe((0,qe.U)(N=>(p._loadedConfig=N,N))):function ko(v){return Et(Ae(`Cannot load children because the guard of the route "path: '${v.path}'" returned false`))}(p))):(0,Qe.of)(new ls([],m))}runCanLoadGuards(m,p,I){const C=p.canLoad;if(!C||0===C.length)return(0,Qe.of)(!0);const N=C.map(H=>{const q=m.get(H);let _e;if(function Mi(v){return v&&Qn(v.canLoad)}(q))_e=q.canLoad(p,I);else{if(!Qn(q))throw new Error("Invalid CanLoad guard");_e=q(p,I)}return Un(_e)});return(0,Qe.of)(N).pipe(b(),(0,Gt.b)(H=>{if(!xi(H))return;const q=Ae(`Redirecting to "${this.urlSerializer.serialize(H)}"`);throw q.url=H,q}),(0,qe.U)(H=>!0===H))}lineralizeSegments(m,p){let I=[],C=p.root;for(;;){if(I=I.concat(C.segments),0===C.numberOfChildren)return(0,Qe.of)(I);if(C.numberOfChildren>1||!C.children[V])return Et(new Error(`Only absolute redirects can have named outlets. redirectTo: '${m.redirectTo}'`));C=C.children[V]}}applyRedirectCommands(m,p,I){return this.applyRedirectCreatreUrlTree(p,this.urlSerializer.parse(p),m,I)}applyRedirectCreatreUrlTree(m,p,I,C){const N=this.createSegmentGroup(m,p.root,I,C);return new bn(N,this.createQueryParams(p.queryParams,this.urlTree.queryParams),p.fragment)}createQueryParams(m,p){const I={};return fn(m,(C,N)=>{if("string"==typeof C&&C.startsWith(":")){const q=C.substring(1);I[N]=p[q]}else I[N]=C}),I}createSegmentGroup(m,p,I,C){const N=this.createSegments(m,p.segments,I,C);let H={};return fn(p.children,(q,_e)=>{H[_e]=this.createSegmentGroup(m,q,I,C)}),new kt(N,H)}createSegments(m,p,I,C){return p.map(N=>N.path.startsWith(":")?this.findPosParam(m,N,C):this.findOrReturn(N,I))}findPosParam(m,p,I){const C=I[p.path.substring(1)];if(!C)throw new Error(`Cannot redirect to '${m}'. Cannot find '${p.path}'.`);return C}findOrReturn(m,p){let I=0;for(const C of p){if(C.path===m.path)return p.splice(I),C;I++}return m}}function No(v){const m={};for(const I of Object.keys(v.children)){const N=No(v.children[I]);(N.segments.length>0||N.hasChildren())&&(m[I]=N)}return function Hl(v){if(1===v.numberOfChildren&&v.children[V]){const m=v.children[V];return new kt(v.segments.concat(m.segments),m.children)}return v}(new kt(v.segments,m))}class Ve{constructor(m){this.path=m,this.route=this.path[this.path.length-1]}}class nn{constructor(m,p){this.component=m,this.route=p}}function Dh(v,m,p){const I=v._root;return mr(I,m?m._root:null,p,[I.value])}function va(v,m,p){const I=function Oo(v){if(!v)return null;for(let m=v.parent;m;m=m.parent){const p=m.routeConfig;if(p&&p._loadedConfig)return p._loadedConfig}return null}(m);return(I?I.module.injector:p).get(v)}function mr(v,m,p,I,C={canDeactivateChecks:[],canActivateChecks:[]}){const N=ln(m);return v.children.forEach(H=>{(function hu(v,m,p,I,C={canDeactivateChecks:[],canActivateChecks:[]}){const N=v.value,H=m?m.value:null,q=p?p.getContext(v.value.outlet):null;if(H&&N.routeConfig===H.routeConfig){const _e=function Hs(v,m,p){if("function"==typeof p)return p(v,m);switch(p){case"pathParamsChange":return!$(v.url,m.url);case"pathParamsOrQueryParamsChange":return!$(v.url,m.url)||!Ot(v.queryParams,m.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bs(v,m)||!Ot(v.queryParams,m.queryParams);default:return!Bs(v,m)}}(H,N,N.routeConfig.runGuardsAndResolvers);_e?C.canActivateChecks.push(new Ve(I)):(N.data=H.data,N._resolvedData=H._resolvedData),mr(v,m,N.component?q?q.children:null:p,I,C),_e&&q&&q.outlet&&q.outlet.isActivated&&C.canDeactivateChecks.push(new nn(q.outlet.component,H))}else H&&fu(m,q,C),C.canActivateChecks.push(new Ve(I)),mr(v,null,N.component?q?q.children:null:p,I,C)})(H,N[H.value.outlet],p,I.concat([H.value]),C),delete N[H.value.outlet]}),fn(N,(H,q)=>fu(H,p.getContext(q),C)),C}function fu(v,m,p){const I=ln(v),C=v.value;fn(I,(N,H)=>{fu(N,C.component?m?m.children.getContext(H):null:m,p)}),p.canDeactivateChecks.push(new nn(C.component&&m&&m.outlet&&m.outlet.isActivated?m.outlet.component:null,C))}class _a{}function pu(v){return new ye.y(m=>m.error(v))}class Sc{constructor(m,p,I,C,N,H){this.rootComponentType=m,this.config=p,this.urlTree=I,this.url=C,this.paramsInheritanceStrategy=N,this.relativeLinkResolution=H}recognize(){const m=Rr(this.urlTree.root,[],[],this.config.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution).segmentGroup,p=this.processSegmentGroup(this.config,m,V);if(null===p)return null;const I=new Dr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},V,this.rootComponentType,null,this.urlTree.root,-1,{}),C=new Zn(I,p),N=new Mr(this.url,C);return this.inheritParamsAndData(N._root),N}inheritParamsAndData(m){const p=m.value,I=ys(p,this.paramsInheritanceStrategy);p.params=Object.freeze(I.params),p.data=Object.freeze(I.data),m.children.forEach(C=>this.inheritParamsAndData(C))}processSegmentGroup(m,p,I){return 0===p.segments.length&&p.hasChildren()?this.processChildren(m,p):this.processSegment(m,p,p.segments,I)}processChildren(m,p){const I=[];for(const N of Object.keys(p.children)){const H=p.children[N],q=xn(m,N),_e=this.processSegmentGroup(q,H,N);if(null===_e)return null;I.push(..._e)}const C=gu(I);return function Fo(v){v.sort((m,p)=>m.value.outlet===V?-1:p.value.outlet===V?1:m.value.outlet.localeCompare(p.value.outlet))}(C),C}processSegment(m,p,I,C){for(const N of m){const H=this.processSegmentAgainstRoute(N,p,I,C);if(null!==H)return H}return Kr(p,I,C)?[]:null}processSegmentAgainstRoute(m,p,I,C){if(m.redirectTo||!Ro(m,p,I,C))return null;let N,H=[],q=[];if("**"===m.path){const an=I.length>0?Er(I).parameters:{};N=new Dr(I,an,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mc(m),dn(m),m.component,m,mu(p),Ea(p)+I.length,Ia(m))}else{const an=Gn(p,m,I);if(!an.matched)return null;H=an.consumedSegments,q=an.remainingSegments,N=new Dr(H,an.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mc(m),dn(m),m.component,m,mu(p),Ea(p)+H.length,Ia(m))}const _e=function wa(v){return v.children?v.children:v.loadChildren?v._loadedConfig.routes:[]}(m),{segmentGroup:st,slicedSegments:Lt}=Rr(p,H,q,_e.filter(an=>void 0===an.redirectTo),this.relativeLinkResolution);if(0===Lt.length&&st.hasChildren()){const an=this.processChildren(_e,st);return null===an?null:[new Zn(N,an)]}if(0===_e.length&&0===Lt.length)return[new Zn(N,[])];const mt=dn(m)===C,cn=this.processSegment(_e,st,Lt,mt?V:C);return null===cn?null:[new Zn(N,cn)]}}function oo(v){const m=v.value.routeConfig;return m&&""===m.path&&void 0===m.redirectTo}function gu(v){const m=[],p=new Set;for(const I of v){if(!oo(I)){m.push(I);continue}const C=m.find(N=>I.value.routeConfig===N.value.routeConfig);void 0!==C?(C.children.push(...I.children),p.add(C)):m.push(I)}for(const I of p){const C=gu(I.children);m.push(new Zn(I.value,C))}return m.filter(I=>!p.has(I))}function mu(v){let m=v;for(;m._sourceSegment;)m=m._sourceSegment;return m}function Ea(v){let m=v,p=m._segmentIndexShift?m._segmentIndexShift:0;for(;m._sourceSegment;)m=m._sourceSegment,p+=m._segmentIndexShift?m._segmentIndexShift:0;return p-1}function Mc(v){return v.data||{}}function Ia(v){return v.resolve||{}}function Gl(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}function ds(v){return wn(m=>{const p=v(m);return p?(0,Z.D)(p).pipe((0,qe.U)(()=>m)):(0,Qe.of)(m)})}class xs extends class ur{shouldDetach(m){return!1}store(m,p){}shouldAttach(m){return!1}retrieve(m){return null}shouldReuseRoute(m,p){return m.routeConfig===p.routeConfig}}{}const Lo=new x.OlP("ROUTES");class zl{constructor(m,p,I,C){this.injector=m,this.compiler=p,this.onLoadStartListener=I,this.onLoadEndListener=C}load(m,p){if(p._loader$)return p._loader$;this.onLoadStartListener&&this.onLoadStartListener(p);const C=this.loadModuleFactory(p.loadChildren).pipe((0,qe.U)(N=>{this.onLoadEndListener&&this.onLoadEndListener(p);const H=N.create(m);return new ls(zt(H.injector.get(Lo,void 0,x.XFs.Self|x.XFs.Optional)).map(At),H)}),Ln(N=>{throw p._loader$=void 0,N}));return p._loader$=new qt(C,()=>new F.x).pipe(Xt()),p._loader$}loadModuleFactory(m){return Un(m()).pipe((0,Tn.z)(p=>p instanceof x.YKP?(0,Qe.of)(p):(0,Z.D)(this.compiler.compileModuleAsync(p))))}}class yu{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,p){return m}}function Da(v){throw v}function Ms(v,m,p){return m.parse("/")}function Gs(v,m){return(0,Qe.of)(null)}const Rc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _i=(()=>{class v{constructor(p,I,C,N,H,q,_e){this.rootComponentType=p,this.urlSerializer=I,this.rootContexts=C,this.location=N,this.config=_e,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new F.x,this.errorHandler=Da,this.malformedUriErrorHandler=Ms,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Gs,afterPreactivation:Gs},this.urlHandlingStrategy=new yu,this.routeReuseStrategy=new xs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=H.get(x.h0i),this.console=H.get(x.c2e);const mt=H.get(x.R0b);this.isNgZoneEnabled=mt instanceof x.R0b&&x.R0b.isInAngularZone(),this.resetConfig(_e),this.currentUrlTree=function ji(){return new bn(new kt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zl(H,q,cn=>this.triggerEvent(new xt(cn)),cn=>this.triggerEvent(new jt(cn))),this.routerState=cu(this.currentUrlTree,this.rootComponentType),this.transitions=new oe({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var p;return null===(p=this.location.getState())||void 0===p?void 0:p.\u0275routerPageId}setupNavigations(p){const I=this.events;return p.pipe((0,kn.h)(C=>0!==C.id),(0,qe.U)(C=>Object.assign(Object.assign({},C),{extractedUrl:this.urlHandlingStrategy.extract(C.rawUrl)})),wn(C=>{let N=!1,H=!1;return(0,Qe.of)(C).pipe((0,Gt.b)(q=>{this.currentNavigation={id:q.id,initialUrl:q.currentRawUrl,extractedUrl:q.extractedUrl,trigger:q.source,extras:q.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),wn(q=>{const _e=this.browserUrlTree.toString(),st=!this.navigated||q.extractedUrl.toString()!==_e||_e!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||st)&&this.urlHandlingStrategy.shouldProcessUrl(q.rawUrl))return Uo(q.source)&&(this.browserUrlTree=q.extractedUrl),(0,Qe.of)(q).pipe(wn(mt=>{const cn=this.transitions.getValue();return I.next(new er(mt.id,this.serializeUrl(mt.extractedUrl),mt.source,mt.restoredState)),cn!==this.transitions.getValue()?sn.E:Promise.resolve(mt)}),function Ih(v,m,p,I){return wn(C=>function $l(v,m,p,I,C){return new ya(v,m,p,I,C).apply()}(v,m,p,C.extractedUrl,I).pipe((0,qe.U)(N=>Object.assign(Object.assign({},C),{urlAfterRedirects:N}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Gt.b)(mt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:mt.urlAfterRedirects})}),function Ch(v,m,p,I,C){return(0,Tn.z)(N=>function bh(v,m,p,I,C="emptyOnly",N="legacy"){try{const H=new Sc(v,m,p,I,C,N).recognize();return null===H?pu(new _a):(0,Qe.of)(H)}catch(H){return pu(H)}}(v,m,N.urlAfterRedirects,p(N.urlAfterRedirects),I,C).pipe((0,qe.U)(H=>Object.assign(Object.assign({},N),{targetSnapshot:H}))))}(this.rootComponentType,this.config,mt=>this.serializeUrl(mt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Gt.b)(mt=>{if("eager"===this.urlUpdateStrategy){if(!mt.extras.skipLocationChange){const an=this.urlHandlingStrategy.merge(mt.urlAfterRedirects,mt.rawUrl);this.setBrowserUrl(an,mt)}this.browserUrlTree=mt.urlAfterRedirects}const cn=new fe(mt.id,this.serializeUrl(mt.extractedUrl),this.serializeUrl(mt.urlAfterRedirects),mt.targetSnapshot);I.next(cn)}));if(st&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:cn,extractedUrl:an,source:Ni,restoredState:ks,extras:Ks}=q,Ns=new er(cn,this.serializeUrl(an),Ni,ks);I.next(Ns);const Ki=cu(an,this.rootComponentType).snapshot;return(0,Qe.of)(Object.assign(Object.assign({},q),{targetSnapshot:Ki,urlAfterRedirects:an,extras:Object.assign(Object.assign({},Ks),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=q.rawUrl,q.resolve(null),sn.E}),ds(q=>{const{targetSnapshot:_e,id:st,extractedUrl:Lt,rawUrl:mt,extras:{skipLocationChange:cn,replaceUrl:an}}=q;return this.hooks.beforePreactivation(_e,{navigationId:st,appliedUrlTree:Lt,rawUrlTree:mt,skipLocationChange:!!cn,replaceUrl:!!an})}),(0,Gt.b)(q=>{const _e=new Se(q.id,this.serializeUrl(q.extractedUrl),this.serializeUrl(q.urlAfterRedirects),q.targetSnapshot);this.triggerEvent(_e)}),(0,qe.U)(q=>Object.assign(Object.assign({},q),{guards:Dh(q.targetSnapshot,q.currentSnapshot,this.rootContexts)})),function Po(v,m){return(0,Tn.z)(p=>{const{targetSnapshot:I,currentSnapshot:C,guards:{canActivateChecks:N,canDeactivateChecks:H}}=p;return 0===H.length&&0===N.length?(0,Qe.of)(Object.assign(Object.assign({},p),{guardsResult:!0})):function Th(v,m,p,I){return(0,Z.D)(v).pipe((0,Tn.z)(C=>function qi(v,m,p,I,C){const N=m&&m.routeConfig?m.routeConfig.canDeactivate:null;if(!N||0===N.length)return(0,Qe.of)(!0);const H=N.map(q=>{const _e=va(q,m,C);let st;if(function T(v){return v&&Qn(v.canDeactivate)}(_e))st=Un(_e.canDeactivate(v,m,p,I));else{if(!Qn(_e))throw new Error("Invalid CanDeactivate guard");st=Un(_e(v,m,p,I))}return st.pipe(gn())});return(0,Qe.of)(H).pipe(b())}(C.component,C.route,p,m,I)),gn(C=>!0!==C,!0))}(H,I,C,v).pipe((0,Tn.z)(q=>q&&function ga(v){return"boolean"==typeof v}(q)?function As(v,m,p,I){return(0,Z.D)(m).pipe((0,fr.b)(C=>le(function ui(v,m){return null!==v&&m&&m(new Yt(v)),(0,Qe.of)(!0)}(C.route.parent,I),function Yr(v,m){return null!==v&&m&&m(new ir(v)),(0,Qe.of)(!0)}(C.route,I),function Ss(v,m,p){const I=m[m.length-1],N=m.slice(0,m.length-1).reverse().map(H=>function zn(v){const m=v.routeConfig?v.routeConfig.canActivateChild:null;return m&&0!==m.length?{node:v,guards:m}:null}(H)).filter(H=>null!==H).map(H=>de(()=>{const q=H.guards.map(_e=>{const st=va(_e,H.node,p);let Lt;if(function Ts(v){return v&&Qn(v.canActivateChild)}(st))Lt=Un(st.canActivateChild(I,v));else{if(!Qn(st))throw new Error("Invalid CanActivateChild guard");Lt=Un(st(I,v))}return Lt.pipe(gn())});return(0,Qe.of)(q).pipe(b())}));return(0,Qe.of)(N).pipe(b())}(v,C.path,p),function Ac(v,m,p){const I=m.routeConfig?m.routeConfig.canActivate:null;if(!I||0===I.length)return(0,Qe.of)(!0);const C=I.map(N=>de(()=>{const H=va(N,m,p);let q;if(function gr(v){return v&&Qn(v.canActivate)}(H))q=Un(H.canActivate(m,v));else{if(!Qn(H))throw new Error("Invalid CanActivate guard");q=Un(H(m,v))}return q.pipe(gn())}));return(0,Qe.of)(C).pipe(b())}(v,C.route,p))),gn(C=>!0!==C,!0))}(I,N,v,m):(0,Qe.of)(q)),(0,qe.U)(q=>Object.assign(Object.assign({},p),{guardsResult:q})))})}(this.ngModule.injector,q=>this.triggerEvent(q)),(0,Gt.b)(q=>{if(xi(q.guardsResult)){const st=Ae(`Redirecting to "${this.serializeUrl(q.guardsResult)}"`);throw st.url=q.guardsResult,st}const _e=new Ue(q.id,this.serializeUrl(q.extractedUrl),this.serializeUrl(q.urlAfterRedirects),q.targetSnapshot,!!q.guardsResult);this.triggerEvent(_e)}),(0,kn.h)(q=>!!q.guardsResult||(this.restoreHistory(q),this.cancelNavigationTransition(q,""),!1)),ds(q=>{if(q.guards.canActivateChecks.length)return(0,Qe.of)(q).pipe((0,Gt.b)(_e=>{const st=new Ke(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot);this.triggerEvent(st)}),wn(_e=>{let st=!1;return(0,Qe.of)(_e).pipe(function Ah(v,m){return(0,Tn.z)(p=>{const{targetSnapshot:I,guards:{canActivateChecks:C}}=p;if(!C.length)return(0,Qe.of)(p);let N=0;return(0,Z.D)(C).pipe((0,fr.b)(H=>function ao(v,m,p,I){return function Sh(v,m,p,I){const C=Gl(v);if(0===C.length)return(0,Qe.of)({});const N={};return(0,Z.D)(C).pipe((0,Tn.z)(H=>function Zr(v,m,p,I){const C=va(v,m,I);return Un(C.resolve?C.resolve(m,p):C(m,p))}(v[H],m,p,I).pipe((0,Gt.b)(q=>{N[H]=q}))),Nn(1),(0,Tn.z)(()=>Gl(N).length===C.length?(0,Qe.of)(N):sn.E))}(v._resolve,v,m,I).pipe((0,qe.U)(N=>(v._resolvedData=N,v.data=Object.assign(Object.assign({},v.data),ys(v,p).resolve),null)))}(H.route,I,v,m)),(0,Gt.b)(()=>N++),Nn(1),(0,Tn.z)(H=>N===C.length?(0,Qe.of)(p):sn.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Gt.b)({next:()=>st=!0,complete:()=>{st||(this.restoreHistory(_e),this.cancelNavigationTransition(_e,"At least one route resolver didn't emit any value."))}}))}),(0,Gt.b)(_e=>{const st=new tn(_e.id,this.serializeUrl(_e.extractedUrl),this.serializeUrl(_e.urlAfterRedirects),_e.targetSnapshot);this.triggerEvent(st)}))}),ds(q=>{const{targetSnapshot:_e,id:st,extractedUrl:Lt,rawUrl:mt,extras:{skipLocationChange:cn,replaceUrl:an}}=q;return this.hooks.afterPreactivation(_e,{navigationId:st,appliedUrlTree:Lt,rawUrlTree:mt,skipLocationChange:!!cn,replaceUrl:!!an})}),(0,qe.U)(q=>{const _e=function Dc(v,m,p){const I=_s(v,m._root,p?p._root:void 0);return new io(I,m)}(this.routeReuseStrategy,q.targetSnapshot,q.currentRouterState);return Object.assign(Object.assign({},q),{targetRouterState:_e})}),(0,Gt.b)(q=>{this.currentUrlTree=q.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(q.urlAfterRedirects,q.rawUrl),this.routerState=q.targetRouterState,"deferred"===this.urlUpdateStrategy&&(q.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,q),this.browserUrlTree=q.urlAfterRedirects)}),((v,m,p)=>(0,qe.U)(I=>(new Cc(m,I.targetRouterState,I.currentRouterState,p).activate(v),I)))(this.rootContexts,this.routeReuseStrategy,q=>this.triggerEvent(q)),(0,Gt.b)({next(){N=!0},complete(){N=!0}}),function wr(v){return(0,ut.e)((m,p)=>{try{m.subscribe(p)}finally{p.add(v)}})}(()=>{var q;N||H||this.cancelNavigationTransition(C,`Navigation ID ${C.id} is not equal to the current navigation id ${this.navigationId}`),(null===(q=this.currentNavigation)||void 0===q?void 0:q.id)===C.id&&(this.currentNavigation=null)}),Ln(q=>{if(H=!0,function nt(v){return v&&v[j]}(q)){const _e=xi(q.url);_e||(this.navigated=!0,this.restoreHistory(C,!0));const st=new ne(C.id,this.serializeUrl(C.extractedUrl),q.message);I.next(st),_e?setTimeout(()=>{const Lt=this.urlHandlingStrategy.merge(q.url,this.rawUrlTree),mt={skipLocationChange:C.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Uo(C.source)};this.scheduleNavigation(Lt,"imperative",null,mt,{resolve:C.resolve,reject:C.reject,promise:C.promise})},0):C.resolve(!1)}else{this.restoreHistory(C,!0);const _e=new J(C.id,this.serializeUrl(C.extractedUrl),q);I.next(_e);try{C.resolve(this.errorHandler(q))}catch(st){C.reject(st)}}return sn.E}))}))}resetRootComponentType(p){this.rootComponentType=p,this.routerState.root.component=this.rootComponentType}setTransition(p){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),p))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(p=>{const I="popstate"===p.type?"popstate":"hashchange";"popstate"===I&&setTimeout(()=>{var C;const N={replaceUrl:!0},H=(null===(C=p.state)||void 0===C?void 0:C.navigationId)?p.state:null;if(H){const _e=Object.assign({},H);delete _e.navigationId,delete _e.\u0275routerPageId,0!==Object.keys(_e).length&&(N.state=_e)}const q=this.parseUrl(p.url);this.scheduleNavigation(q,I,H,N)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(p){this.events.next(p)}resetConfig(p){pt(p),this.config=p.map(At),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(p,I={}){const{relativeTo:C,queryParams:N,fragment:H,queryParamsHandling:q,preserveFragment:_e}=I,st=C||this.routerState.root,Lt=_e?this.currentUrlTree.fragment:H;let mt=null;switch(q){case"merge":mt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),N);break;case"preserve":mt=this.currentUrlTree.queryParams;break;default:mt=N||null}return null!==mt&&(mt=this.removeEmptyProps(mt)),function bc(v,m,p,I,C){if(0===p.length)return ws(m.root,m.root,m.root,I,C);const N=function So(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new lu(!0,0,v);let m=0,p=!1;const I=v.reduce((C,N,H)=>{if("object"==typeof N&&null!=N){if(N.outlets){const q={};return fn(N.outlets,(_e,st)=>{q[st]="string"==typeof _e?_e.split("/"):_e}),[...C,{outlets:q}]}if(N.segmentPath)return[...C,N.segmentPath]}return"string"!=typeof N?[...C,N]:0===H?(N.split("/").forEach((q,_e)=>{0==_e&&"."===q||(0==_e&&""===q?p=!0:".."===q?m++:""!=q&&C.push(q))}),C):[...C,N]},[]);return new lu(p,m,I)}(p);if(N.toRoot())return ws(m.root,m.root,new kt([],{}),I,C);const H=function xo(v,m,p){if(v.isAbsolute)return new ha(m.root,!0,0);if(-1===p.snapshot._lastPathIndex){const N=p.snapshot._urlSegment;return new ha(N,N===m.root,0)}const I=da(v.commands[0])?0:1;return function Si(v,m,p){let I=v,C=m,N=p;for(;N>C;){if(N-=C,I=I.parent,!I)throw new Error("Invalid number of '../'");C=I.segments.length}return new ha(I,!1,C-N)}(p.snapshot._urlSegment,p.snapshot._lastPathIndex+I,v.numberOfDoubleDots)}(N,m,v),q=H.processChildren?pa(H.segmentGroup,H.index,N.commands):Es(H.segmentGroup,H.index,N.commands);return ws(m.root,H.segmentGroup,q,I,C)}(st,this.currentUrlTree,p,mt,null!=Lt?Lt:null)}navigateByUrl(p,I={skipLocationChange:!1}){const C=xi(p)?p:this.parseUrl(p),N=this.urlHandlingStrategy.merge(C,this.rawUrlTree);return this.scheduleNavigation(N,"imperative",null,I)}navigate(p,I={skipLocationChange:!1}){return function cr(v){for(let m=0;m<v.length;m++){const p=v[m];if(null==p)throw new Error(`The requested path contains ${p} segment at index ${m}`)}}(p),this.navigateByUrl(this.createUrlTree(p,I),I)}serializeUrl(p){return this.urlSerializer.serialize(p)}parseUrl(p){let I;try{I=this.urlSerializer.parse(p)}catch(C){I=this.malformedUriErrorHandler(C,this.urlSerializer,p)}return I}isActive(p,I){let C;if(C=!0===I?Object.assign({},Rc):!1===I?Object.assign({},vu):I,xi(p))return os(this.currentUrlTree,p,C);const N=this.parseUrl(p);return os(this.currentUrlTree,N,C)}removeEmptyProps(p){return Object.keys(p).reduce((I,C)=>{const N=p[C];return null!=N&&(I[C]=N),I},{})}processNavigations(){this.navigations.subscribe(p=>{this.navigated=!0,this.lastSuccessfulId=p.id,this.currentPageId=p.targetPageId,this.events.next(new we(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,p.resolve(!0)},p=>{this.console.warn(`Unhandled Navigation Error: ${p}`)})}scheduleNavigation(p,I,C,N,H){var q,_e;if(this.disposed)return Promise.resolve(!1);let st,Lt,mt;H?(st=H.resolve,Lt=H.reject,mt=H.promise):mt=new Promise((Ni,ks)=>{st=Ni,Lt=ks});const cn=++this.navigationId;let an;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(C=this.location.getState()),an=C&&C.\u0275routerPageId?C.\u0275routerPageId:N.replaceUrl||N.skipLocationChange?null!==(q=this.browserPageId)&&void 0!==q?q:0:(null!==(_e=this.browserPageId)&&void 0!==_e?_e:0)+1):an=0,this.setTransition({id:cn,targetPageId:an,source:I,restoredState:C,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:p,extras:N,resolve:st,reject:Lt,promise:mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mt.catch(Ni=>Promise.reject(Ni))}setBrowserUrl(p,I){const C=this.urlSerializer.serialize(p),N=Object.assign(Object.assign({},I.extras.state),this.generateNgRouterState(I.id,I.targetPageId));this.location.isCurrentPathEqualTo(C)||I.extras.replaceUrl?this.location.replaceState(C,"",N):this.location.go(C,"",N)}restoreHistory(p,I=!1){var C,N;if("computed"===this.canceledNavigationResolution){const H=this.currentPageId-p.targetPageId;"popstate"!==p.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(C=this.currentNavigation)||void 0===C?void 0:C.finalUrl)||0===H?this.currentUrlTree===(null===(N=this.currentNavigation)||void 0===N?void 0:N.finalUrl)&&0===H&&(this.resetState(p),this.browserUrlTree=p.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(H)}else"replace"===this.canceledNavigationResolution&&(I&&this.resetState(p),this.resetUrlToCurrentUrlTree())}resetState(p){this.routerState=p.currentRouterState,this.currentUrlTree=p.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,p.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(p,I){const C=new ne(p.id,this.serializeUrl(p.extractedUrl),I);this.triggerEvent(C),p.resolve(!1)}generateNgRouterState(p,I){return"computed"===this.canceledNavigationResolution?{navigationId:p,\u0275routerPageId:I}:{navigationId:p}}}return v.\u0275fac=function(p){x.$Z()},v.\u0275prov=x.Yz7({token:v,factory:v.\u0275fac}),v})();function Uo(v){return"imperative"!==v}let _u=(()=>{class v{constructor(p,I,C,N,H){this.router=p,this.route=I,this.tabIndexAttribute=C,this.renderer=N,this.el=H,this.commands=null,this.onChanges=new F.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(p){if(null!=this.tabIndexAttribute)return;const I=this.renderer,C=this.el.nativeElement;null!==p?I.setAttribute(C,"tabindex",p):I.removeAttribute(C,"tabindex")}ngOnChanges(p){this.onChanges.next(this)}set routerLink(p){null!=p?(this.commands=Array.isArray(p)?p:[p],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const p={skipLocationChange:Ri(this.skipLocationChange),replaceUrl:Ri(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,p),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ri(this.preserveFragment)})}}return v.\u0275fac=function(p){return new(p||v)(x.Y36(_i),x.Y36(pr),x.$8M("tabindex"),x.Y36(x.Qsj),x.Y36(x.SBq))},v.\u0275dir=x.lG2({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(p,I){1&p&&x.NdJ("click",function(){return I.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[x.TTD]}),v})(),kc=(()=>{class v{constructor(p,I,C){this.router=p,this.route=I,this.locationStrategy=C,this.commands=null,this.href=null,this.onChanges=new F.x,this.subscription=p.events.subscribe(N=>{N instanceof we&&this.updateTargetUrlAndHref()})}set routerLink(p){this.commands=null!=p?Array.isArray(p)?p:[p]:null}ngOnChanges(p){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(p,I,C,N,H){if(0!==p||I||C||N||H||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const q={skipLocationChange:Ri(this.skipLocationChange),replaceUrl:Ri(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,q),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ri(this.preserveFragment)})}}return v.\u0275fac=function(p){return new(p||v)(x.Y36(_i),x.Y36(pr),x.Y36(On.S$))},v.\u0275dir=x.lG2({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(p,I){1&p&&x.NdJ("click",function(N){return I.onClick(N.button,N.ctrlKey,N.shiftKey,N.altKey,N.metaKey)}),2&p&&x.uIk("target",I.target)("href",I.href,x.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[x.TTD]}),v})();function Ri(v){return""===v||!!v}let wu=(()=>{class v{constructor(p,I,C,N,H,q){this.router=p,this.element=I,this.renderer=C,this.cdr=N,this.link=H,this.linkWithHref=q,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new x.vpe,this.routerEventsSubscription=p.events.subscribe(_e=>{_e instanceof we&&this.update()})}ngAfterContentInit(){(0,Qe.of)(this.links.changes,this.linksWithHrefs.changes,(0,Qe.of)(null)).pipe((0,ie.J)()).subscribe(p=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var p;null===(p=this.linkInputChangesSubscription)||void 0===p||p.unsubscribe();const I=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(C=>!!C).map(C=>C.onChanges);this.linkInputChangesSubscription=(0,Z.D)(I).pipe((0,ie.J)()).subscribe(C=>{this.isActive!==this.isLinkActive(this.router)(C)&&this.update()})}set routerLinkActive(p){const I=Array.isArray(p)?p:p.split(" ");this.classes=I.filter(C=>!!C)}ngOnChanges(p){this.update()}ngOnDestroy(){var p;this.routerEventsSubscription.unsubscribe(),null===(p=this.linkInputChangesSubscription)||void 0===p||p.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const p=this.hasActiveLinks();this.isActive!==p&&(this.isActive=p,this.cdr.markForCheck(),this.classes.forEach(I=>{p?this.renderer.addClass(this.element.nativeElement,I):this.renderer.removeClass(this.element.nativeElement,I)}),this.isActiveChange.emit(p))})}isLinkActive(p){const I=function Nc(v){return!!v.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return C=>!!C.urlTree&&p.isActive(C.urlTree,I)}hasActiveLinks(){const p=this.isLinkActive(this.router);return this.link&&p(this.link)||this.linkWithHref&&p(this.linkWithHref)||this.links.some(p)||this.linksWithHrefs.some(p)}}return v.\u0275fac=function(p){return new(p||v)(x.Y36(_i),x.Y36(x.SBq),x.Y36(x.Qsj),x.Y36(x.sBO),x.Y36(_u,8),x.Y36(kc,8))},v.\u0275dir=x.lG2({type:v,selectors:[["","routerLinkActive",""]],contentQueries:function(p,I,C){if(1&p&&(x.Suo(C,_u,5),x.Suo(C,kc,5)),2&p){let N;x.iGM(N=x.CRH())&&(I.links=N),x.iGM(N=x.CRH())&&(I.linksWithHrefs=N)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[x.TTD]}),v})();class Eu{}class Vo{preload(m,p){return(0,Qe.of)(null)}}let Bo=(()=>{class v{constructor(p,I,C,N){this.router=p,this.injector=C,this.preloadingStrategy=N,this.loader=new zl(C,I,_e=>p.triggerEvent(new xt(_e)),_e=>p.triggerEvent(new jt(_e)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,kn.h)(p=>p instanceof we),(0,fr.b)(()=>this.preload())).subscribe(()=>{})}preload(){const p=this.injector.get(x.h0i);return this.processRoutes(p,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(p,I){const C=[];for(const N of I)if(N.loadChildren&&!N.canLoad&&N._loadedConfig){const H=N._loadedConfig;C.push(this.processRoutes(H.module,H.routes))}else N.loadChildren&&!N.canLoad?C.push(this.preloadConfig(p,N)):N.children&&C.push(this.processRoutes(p,N.children));return(0,Z.D)(C).pipe((0,ie.J)(),(0,qe.U)(N=>{}))}preloadConfig(p,I){return this.preloadingStrategy.preload(I,()=>(I._loadedConfig?(0,Qe.of)(I._loadedConfig):this.loader.load(p.injector,I)).pipe((0,Tn.z)(N=>(I._loadedConfig=N,this.processRoutes(N.module,N.routes)))))}}return v.\u0275fac=function(p){return new(p||v)(x.LFG(_i),x.LFG(x.Sil),x.LFG(x.zs3),x.LFG(Eu))},v.\u0275prov=x.Yz7({token:v,factory:v.\u0275fac}),v})(),Bn=(()=>{class v{constructor(p,I,C={}){this.router=p,this.viewportScroller=I,this.options=C,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},C.scrollPositionRestoration=C.scrollPositionRestoration||"disabled",C.anchorScrolling=C.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(p=>{p instanceof er?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=p.navigationTrigger,this.restoredId=p.restoredState?p.restoredState.navigationId:0):p instanceof we&&(this.lastId=p.id,this.scheduleScrollEvent(p,this.router.parseUrl(p.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(p=>{p instanceof te&&(p.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(p.position):p.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(p.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(p,I){this.router.triggerEvent(new te(p,"popstate"===this.lastSource?this.store[this.restoredId]:null,I))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(p){x.$Z()},v.\u0275prov=x.Yz7({token:v,factory:v.\u0275fac}),v})();const ki=new x.OlP("ROUTER_CONFIGURATION"),Pc=new x.OlP("ROUTER_FORROOT_GUARD"),Ta=[On.Ye,{provide:Pe,useClass:lt},{provide:_i,useFactory:function uo(v,m,p,I,C,N,H={},q,_e){const st=new _i(null,v,m,p,I,C,zt(N));return q&&(st.urlHandlingStrategy=q),_e&&(st.routeReuseStrategy=_e),function Ws(v,m){v.errorHandler&&(m.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(m.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(m.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(m.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(m.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(m.urlUpdateStrategy=v.urlUpdateStrategy),v.canceledNavigationResolution&&(m.canceledNavigationResolution=v.canceledNavigationResolution)}(H,st),H.enableTracing&&st.events.subscribe(Lt=>{var mt,cn;null===(mt=console.group)||void 0===mt||mt.call(console,`Router Event: ${Lt.constructor.name}`),console.log(Lt.toString()),console.log(Lt),null===(cn=console.groupEnd)||void 0===cn||cn.call(console)}),st},deps:[Pe,Q,On.Ye,x.zs3,x.Sil,Lo,ki,[class Wl{},new x.FiY],[class Jn{},new x.FiY]]},Q,{provide:pr,useFactory:function Fc(v){return v.routerState.root},deps:[_i]},Bo,Vo,class jp{preload(m,p){return p().pipe(Ln(()=>(0,Qe.of)(null)))}},{provide:ki,useValue:{enableTracing:!1}}];function zs(){return new x.PXZ("Router",_i)}let xh=(()=>{class v{constructor(p,I){}static forRoot(p,I){return{ngModule:v,providers:[Ta,Du(p),{provide:Pc,useFactory:jr,deps:[[_i,new x.FiY,new x.tp0]]},{provide:ki,useValue:I||{}},{provide:On.S$,useFactory:Iu,deps:[On.lw,[new x.tBr(On.mr),new x.FiY],ki]},{provide:Bn,useFactory:hs,deps:[_i,On.EM,ki]},{provide:Eu,useExisting:I&&I.preloadingStrategy?I.preloadingStrategy:Vo},{provide:x.PXZ,multi:!0,useFactory:zs},[ba,{provide:x.ip1,multi:!0,useFactory:Rs,deps:[ba]},{provide:Lc,useFactory:qs,deps:[ba]},{provide:x.tb,multi:!0,useExisting:Lc}]]}}static forChild(p){return{ngModule:v,providers:[Du(p)]}}}return v.\u0275fac=function(p){return new(p||v)(x.LFG(Pc,8),x.LFG(_i,8))},v.\u0275mod=x.oAB({type:v}),v.\u0275inj=x.cJS({}),v})();function hs(v,m,p){return p.scrollOffset&&m.setOffset(p.scrollOffset),new Bn(v,m,p)}function Iu(v,m,p={}){return p.useHash?new On.Do(v,m):new On.b0(v,m)}function jr(v){return"guarded"}function Du(v){return[{provide:x.deG,multi:!0,useValue:v},{provide:Lo,multi:!0,useValue:v}]}let ba=(()=>{class v{constructor(p){this.injector=p,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new F.x}appInitializer(){return this.injector.get(On.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let I=null;const C=new Promise(q=>I=q),N=this.injector.get(_i),H=this.injector.get(ki);return"disabled"===H.initialNavigation?(N.setUpLocationChangeListener(),I(!0)):"enabled"===H.initialNavigation||"enabledBlocking"===H.initialNavigation?(N.hooks.afterPreactivation=()=>this.initNavigation?(0,Qe.of)(null):(this.initNavigation=!0,I(!0),this.resultOfPreactivationDone),N.initialNavigation()):I(!0),C})}bootstrapListener(p){const I=this.injector.get(ki),C=this.injector.get(Bo),N=this.injector.get(Bn),H=this.injector.get(_i),q=this.injector.get(x.z2F);p===q.components[0]&&(("enabledNonBlocking"===I.initialNavigation||void 0===I.initialNavigation)&&H.initialNavigation(),C.setUpPreloading(),N.init(),H.resetRootComponentType(q.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return v.\u0275fac=function(p){return new(p||v)(x.LFG(x.zs3))},v.\u0275prov=x.Yz7({token:v,factory:v.\u0275fac}),v})();function Rs(v){return v.appInitializer.bind(v)}function qs(v){return v.bootstrapListener.bind(v)}const Lc=new x.OlP("Router Initializer")},9681:(Dt,Me,L)=>{L.d(Me,{C6:()=>wr,Jn:()=>bi,KN:()=>Gt,Mq:()=>gn,Xd:()=>jn,ZF:()=>En,qX:()=>Ln});var x=L(5861),F=L(4859),oe=L(1877),ye=L(2090),G=L(8766);class Ce{constructor(j){this.container=j}getPlatformInfoString(){return this.container.getProviders().map(Ae=>{if(function Oe(re){const j=re.getComponent();return"VERSION"===(null==j?void 0:j.type)}(Ae)){const nt=Ae.getImmediate();return`${nt.library}/${nt.version}`}return null}).filter(Ae=>Ae).join(" ")}}const Ze="@firebase/app",X=new oe.Yd("@firebase/app"),qt="[DEFAULT]",Qe={[Ze]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},sn=new Map,wn=new Map;function yn(re,j){try{re.container.addComponent(j)}catch(Ae){X.debug(`Component ${j.name} failed to register with FirebaseApp ${re.name}`,Ae)}}function jn(re){const j=re.name;if(wn.has(j))return X.debug(`There were multiple attempts to register component ${j}.`),!1;wn.set(j,re);for(const Ae of sn.values())yn(Ae,re);return!0}function Ln(re,j){const Ae=re.container.getProvider("heartbeat").getImmediate({optional:!0});return Ae&&Ae.triggerHeartbeat(),re.container.getProvider(j)}const en=new ye.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Vr{constructor(j,Ae,nt){this._isDeleted=!1,this._options=Object.assign({},j),this._config=Object.assign({},Ae),this._name=Ae.name,this._automaticDataCollectionEnabled=Ae.automaticDataCollectionEnabled,this._container=nt,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this.checkDestroyed(),this._automaticDataCollectionEnabled=j}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(j){this._isDeleted=j}checkDestroyed(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})}}const bi="9.8.4";function En(re,j={}){"object"!=typeof j&&(j={name:j});const Ae=Object.assign({name:qt,automaticDataCollectionEnabled:!1},j),nt=Ae.name;if("string"!=typeof nt||!nt)throw en.create("bad-app-name",{appName:String(nt)});const vt=sn.get(nt);if(vt){if((0,ye.vZ)(re,vt.options)&&(0,ye.vZ)(Ae,vt.config))return vt;throw en.create("duplicate-app",{appName:nt})}const ct=new F.H0(nt);for(const un of wn.values())ct.addComponent(un);const Ot=new Vr(re,Ae,ct);return sn.set(nt,Ot),Ot}function gn(re=qt){const j=sn.get(re);if(!j)throw en.create("no-app",{appName:re});return j}function wr(){return Array.from(sn.values())}function Gt(re,j,Ae){var nt;let vt=null!==(nt=Qe[re])&&void 0!==nt?nt:re;Ae&&(vt+=`-${Ae}`);const ct=vt.match(/\s|\//),Ot=j.match(/\s|\//);if(ct||Ot){const un=[`Unable to register library "${vt}" with version "${j}":`];return ct&&un.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),ct&&Ot&&un.push("and"),Ot&&un.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void X.warn(un.join(" "))}jn(new F.wA(`${vt}-version`,()=>({library:vt,version:j}),"VERSION"))}const ne="firebase-heartbeat-store";let J=null;function fe(){return J||(J=(0,G.X3)("firebase-heartbeat-database",1,{upgrade:(re,j)=>{0===j&&re.createObjectStore(ne)}}).catch(re=>{throw en.create("storage-open",{originalErrorMessage:re.message})})),J}function Ue(){return(Ue=(0,x.Z)(function*(re){var j;try{return(yield fe()).transaction(ne).objectStore(ne).get(xt(re))}catch(Ae){throw en.create("storage-get",{originalErrorMessage:null===(j=Ae)||void 0===j?void 0:j.message})}})).apply(this,arguments)}function Ke(re,j){return tn.apply(this,arguments)}function tn(){return(tn=(0,x.Z)(function*(re,j){var Ae;try{const vt=(yield fe()).transaction(ne,"readwrite");return yield vt.objectStore(ne).put(j,xt(re)),vt.done}catch(nt){throw en.create("storage-set",{originalErrorMessage:null===(Ae=nt)||void 0===Ae?void 0:Ae.message})}})).apply(this,arguments)}function xt(re){return`${re.name}!${re.options.appId}`}class Sn{constructor(j){this.container=j,this._heartbeatsCache=null;const Ae=this.container.getProvider("app").getImmediate();this._storage=new te(Ae),this._heartbeatsCachePromise=this._storage.read().then(nt=>(this._heartbeatsCache=nt,nt))}triggerHeartbeat(){var j=this;return(0,x.Z)(function*(){const nt=j.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=ir();if(null===j._heartbeatsCache&&(j._heartbeatsCache=yield j._heartbeatsCachePromise),j._heartbeatsCache.lastSentHeartbeatDate!==vt&&!j._heartbeatsCache.heartbeats.some(ct=>ct.date===vt))return j._heartbeatsCache.heartbeats.push({date:vt,agent:nt}),j._heartbeatsCache.heartbeats=j._heartbeatsCache.heartbeats.filter(ct=>{const Ot=new Date(ct.date).valueOf();return Date.now()-Ot<=2592e6}),j._storage.overwrite(j._heartbeatsCache)})()}getHeartbeatsHeader(){var j=this;return(0,x.Z)(function*(){if(null===j._heartbeatsCache&&(yield j._heartbeatsCachePromise),null===j._heartbeatsCache||0===j._heartbeatsCache.heartbeats.length)return"";const Ae=ir(),{heartbeatsToSend:nt,unsentEntries:vt}=function ht(re,j=1024){const Ae=[];let nt=re.slice();for(const vt of re){const ct=Ae.find(Ot=>Ot.agent===vt.agent);if(ct){if(ct.dates.push(vt.date),V(Ae)>j){ct.dates.pop();break}}else if(Ae.push({agent:vt.agent,dates:[vt.date]}),V(Ae)>j){Ae.pop();break}nt=nt.slice(1)}return{heartbeatsToSend:Ae,unsentEntries:nt}}(j._heartbeatsCache.heartbeats),ct=(0,ye.L)(JSON.stringify({version:2,heartbeats:nt}));return j._heartbeatsCache.lastSentHeartbeatDate=Ae,vt.length>0?(j._heartbeatsCache.heartbeats=vt,yield j._storage.overwrite(j._heartbeatsCache)):(j._heartbeatsCache.heartbeats=[],j._storage.overwrite(j._heartbeatsCache)),ct})()}}function ir(){return(new Date).toISOString().substring(0,10)}class te{constructor(j){this.app=j,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,x.Z)(function*(){return!!(0,ye.hl)()&&(0,ye.eu)().then(()=>!0).catch(()=>!1)})()}read(){var j=this;return(0,x.Z)(function*(){return(yield j._canUseIndexedDBPromise)&&(yield function Se(re){return Ue.apply(this,arguments)}(j.app))||{heartbeats:[]}})()}overwrite(j){var Ae=this;return(0,x.Z)(function*(){var nt;if(yield Ae._canUseIndexedDBPromise){const ct=yield Ae.read();return Ke(Ae.app,{lastSentHeartbeatDate:null!==(nt=j.lastSentHeartbeatDate)&&void 0!==nt?nt:ct.lastSentHeartbeatDate,heartbeats:j.heartbeats})}})()}add(j){var Ae=this;return(0,x.Z)(function*(){var nt;if(yield Ae._canUseIndexedDBPromise){const ct=yield Ae.read();return Ke(Ae.app,{lastSentHeartbeatDate:null!==(nt=j.lastSentHeartbeatDate)&&void 0!==nt?nt:ct.lastSentHeartbeatDate,heartbeats:[...ct.heartbeats,...j.heartbeats]})}})()}}function V(re){return(0,ye.L)(JSON.stringify({version:2,heartbeats:re})).length}!function ae(re){jn(new F.wA("platform-logger",j=>new Ce(j),"PRIVATE")),jn(new F.wA("heartbeat",j=>new Sn(j),"PRIVATE")),Gt(Ze,"0.7.27",re),Gt(Ze,"0.7.27","esm2017"),Gt("fire-js","")}("")},4859:(Dt,Me,L)=>{L.d(Me,{H0:()=>Ze,wA:()=>oe});var x=L(5861),F=L(2090);class oe{constructor(X,Z,xe){this.name=X,this.instanceFactory=Z,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const ye="[DEFAULT]";class G{constructor(X,Z){this.name=X,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const Z=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(Z)){const xe=new F.BH;if(this.instancesDeferred.set(Z,xe),this.isInitialized(Z)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:Z});qe&&xe.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(Z).promise}getImmediate(X){var Z;const xe=this.normalizeInstanceIdentifier(null==X?void 0:X.identifier),qe=null!==(Z=null==X?void 0:X.optional)&&void 0!==Z&&Z;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(Le){if(qe)return null;throw Le}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function Oe(Ne){return"EAGER"===Ne.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:ye})}catch(Z){}for(const[Z,xe]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(Z);try{const Le=this.getOrInitializeService({instanceIdentifier:qe});xe.resolve(Le)}catch(Le){}}}}clearInstance(X=ye){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,x.Z)(function*(){const Z=Array.from(X.instances.values());yield Promise.all([...Z.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...Z.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=ye){return this.instances.has(X)}getOptions(X=ye){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:Z={}}=X,xe=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:xe,options:Z});for(const[Le,et]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(Le)&&et.resolve(qe);return qe}onInit(X,Z){var xe;const qe=this.normalizeInstanceIdentifier(Z),Le=null!==(xe=this.onInitCallbacks.get(qe))&&void 0!==xe?xe:new Set;Le.add(X),this.onInitCallbacks.set(qe,Le);const et=this.instances.get(qe);return et&&X(et,qe),()=>{Le.delete(X)}}invokeOnInitCallbacks(X,Z){const xe=this.onInitCallbacks.get(Z);if(xe)for(const qe of xe)try{qe(X,Z)}catch(Le){}}getOrInitializeService({instanceIdentifier:X,options:Z={}}){let xe=this.instances.get(X);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=X,Ne===ye?void 0:Ne),options:Z}),this.instances.set(X,xe),this.instancesOptions.set(X,Z),this.invokeOnInitCallbacks(xe,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,xe)}catch(qe){}var Ne;return xe||null}normalizeInstanceIdentifier(X=ye){return this.component?this.component.multipleInstances?X:ye:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ze{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const Z=this.getProvider(X.name);if(Z.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);Z.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const Z=new G(X,this);return this.providers.set(X,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(Dt,Me,L)=>{L.d(Me,{Yd:()=>Oe,in:()=>F});const x=[];var F=(()=>{return(X=F||(F={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",F;var X})();const oe={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},ye=F.INFO,G={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Ce=(X,Z,...xe)=>{if(Z<X.logLevel)return;const qe=(new Date).toISOString(),Le=G[Z];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Le](`[${qe}]  ${X.name}:`,...xe)};class Oe{constructor(Z){this.name=Z,this._logLevel=ye,this._logHandler=Ce,this._userLogHandler=null,x.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in F))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?oe[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...Z),this._logHandler(this,F.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...Z),this._logHandler(this,F.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,F.INFO,...Z),this._logHandler(this,F.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,F.WARN,...Z),this._logHandler(this,F.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...Z),this._logHandler(this,F.ERROR,...Z)}}},8766:(Dt,Me,L)=>{L.d(Me,{Lj:()=>De,X3:()=>Ht});var x=L(5861);let oe,ye;const Oe=new WeakMap,Ze=new WeakMap,Ne=new WeakMap,X=new WeakMap,Z=new WeakMap;let Le={get(ue,Re,ie){if(ue instanceof IDBTransaction){if("done"===Re)return Ze.get(ue);if("objectStoreNames"===Re)return ue.objectStoreNames||Ne.get(ue);if("store"===Re)return ie.objectStoreNames[1]?void 0:ie.objectStore(ie.objectStoreNames[0])}return Tt(ue[Re])},set:(ue,Re,ie)=>(ue[Re]=ie,!0),has:(ue,Re)=>ue instanceof IDBTransaction&&("done"===Re||"store"===Re)||Re in ue};function We(ue){return"function"==typeof ue?function ft(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...Re){return ue.apply(wt(this),Re),Tt(Oe.get(this))}:function(...Re){return Tt(ue.apply(wt(this),Re))}:function(Re,...ie){const W=ue.call(wt(this),Re,...ie);return Ne.set(W,Re.sort?Re.sort():[Re]),Tt(W)}}(ue):(ue instanceof IDBTransaction&&function qe(ue){if(Ze.has(ue))return;const Re=new Promise((ie,W)=>{const le=()=>{ue.removeEventListener("complete",ge),ue.removeEventListener("error",de),ue.removeEventListener("abort",de)},ge=()=>{ie(),le()},de=()=>{W(ue.error||new DOMException("AbortError","AbortError")),le()};ue.addEventListener("complete",ge),ue.addEventListener("error",de),ue.addEventListener("abort",de)});Ze.set(ue,Re)}(ue),((ue,Re)=>Re.some(ie=>ue instanceof ie))(ue,function G(){return oe||(oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,Le):ue)}function Tt(ue){if(ue instanceof IDBRequest)return function xe(ue){const Re=new Promise((ie,W)=>{const le=()=>{ue.removeEventListener("success",ge),ue.removeEventListener("error",de)},ge=()=>{ie(Tt(ue.result)),le()},de=()=>{W(ue.error),le()};ue.addEventListener("success",ge),ue.addEventListener("error",de)});return Re.then(ie=>{ie instanceof IDBCursor&&Oe.set(ie,ue)}).catch(()=>{}),Z.set(Re,ue),Re}(ue);if(X.has(ue))return X.get(ue);const Re=We(ue);return Re!==ue&&(X.set(ue,Re),Z.set(Re,ue)),Re}const wt=ue=>Z.get(ue);function Ht(ue,Re,{blocked:ie,upgrade:W,blocking:le,terminated:ge}={}){const de=indexedDB.open(ue,Re),Ge=Tt(de);return W&&de.addEventListener("upgradeneeded",ut=>{W(Tt(de.result),ut.oldVersion,ut.newVersion,Tt(de.transaction))}),ie&&de.addEventListener("blocked",()=>ie()),Ge.then(ut=>{ge&&ut.addEventListener("close",()=>ge()),le&&ut.addEventListener("versionchange",()=>le())}).catch(()=>{}),Ge}function De(ue,{blocked:Re}={}){const ie=indexedDB.deleteDatabase(ue);return Re&&ie.addEventListener("blocked",()=>Re()),Tt(ie).then(()=>{})}const je=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],Fe=new Map;function Et(ue,Re){if(!(ue instanceof IDBDatabase)||Re in ue||"string"!=typeof Re)return;if(Fe.get(Re))return Fe.get(Re);const ie=Re.replace(/FromIndex$/,""),W=Re!==ie,le=ze.includes(ie);if(!(ie in(W?IDBIndex:IDBObjectStore).prototype)||!le&&!je.includes(ie))return;const ge=function(){var de=(0,x.Z)(function*(Ge,...ut){const Xt=this.transaction(Ge,le?"readwrite":"readonly");let qt=Xt.store;return W&&(qt=qt.index(ut.shift())),(yield Promise.all([qt[ie](...ut),le&&Xt.done]))[0]});return function(ut){return de.apply(this,arguments)}}();return Fe.set(Re,ge),ge}!function et(ue){Le=ue(Le)}(ue=>Kb(qb({},ue),{get:(Re,ie,W)=>Et(Re,ie)||ue.get(Re,ie,W),has:(Re,ie)=>!!Et(Re,ie)||ue.has(Re,ie)}))},5861:(Dt,Me,L)=>{function x(oe,ye,G,Ce,Oe,Ze,Ne){try{var X=oe[Ze](Ne),Z=X.value}catch(xe){return void G(xe)}X.done?ye(Z):Promise.resolve(Z).then(Ce,Oe)}function F(oe){return function(){var ye=this,G=arguments;return new Promise(function(Ce,Oe){var Ze=oe.apply(ye,G);function Ne(Z){x(Ze,Ce,Oe,Ne,X,"next",Z)}function X(Z){x(Ze,Ce,Oe,Ne,X,"throw",Z)}Ne(void 0)})}}L.d(Me,{Z:()=>F})}},Dt=>{Dt(Dt.s=4671)}]);